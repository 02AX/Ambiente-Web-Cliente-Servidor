/*! For license information please see main.37667fb6.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,p(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:N.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),j(a,t,i,"",function(e){return e})):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=j(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=j(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!p)if(null!==r(c))p=!0,R(E);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function E(e,n){p=!1,g&&(g=!1,y(k),k=-1),m=!0;var s=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,C=null,k=-1,_=5,T=-1;function j(){return!(t.unstable_now()-T<_)}function I(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?N():(S=!1,C=null)}}else S=!1}if("function"===typeof b)N=function(){b(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=I,N=function(){A.postMessage(null)}}else N=function(){v(I,0)};function R(e){C=e,S||(S=!0,N())}function O(e,n){k=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,O(w,s-a))):(e.sortIndex=o,n(c,e),p||m||(p=!0,R(E))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case E:return"Portal";case C:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ne=null,Se=null;function Ce(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function ke(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function je(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==Ne||null!==Se)&&(je(),_e())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function De(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,De.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,Nt,St,Ct,kt=!1,_t=[],Tt=null,jt=null,It=null,Pt=new Map,At=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){kt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==jt&&Ft(jt)&&(jt=null),null!==It&&Ft(It)&&(It=null),Pt.forEach(Ut),At.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<_t.length){zt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==jt&&zt(jt,e),null!==It&&zt(It,e),Pt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Ht=x.ReactCurrentBatchConfig,qt=!0;function Kt(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Wt(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Gt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return jt=Lt(jt,e,t,n,r,i),!0;case"mouseover":return It=Lt(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=sn(fn),pn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),xn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Cn(){return Sn}var kn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=sn(kn),Tn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Pn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Mn=u&&(!On||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(xi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},Sr={};function Cr(e){if(Nr[e])return Nr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Nr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=Cr("animationend"),_r=Cr("animationiteration"),Tr=Cr("animationstart"),jr=Cr("transitionend"),Ir=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Or=Pr[Rr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(kr,"onAnimationEnd"),Ar(_r,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Pe(function(){var r=s,i=we(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case kr:case _r:case Tr:l=vn;break;case jr:l=In;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Ae(m,h))&&u.push(Kr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[mi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:xi(l),f=null==c?o:xi(c),(o=new u(p,m+"leave",l,n,i)).target=d,o.relatedTarget=f,p=null,yi(i)===r&&((u=new u(h,m+"enter",c,n,i)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Gr(f))m++;for(f=0,p=h;p;p=Gr(p))f++;for(;0<m-f;)u=Gr(u),m--;for(;0<f-m;)h=Gr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(qn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":xr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Ae(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ae(n,s))&&a.unshift(Kr(n,l,o)):i||null!=(l=Ae(n,s))&&a.push(Kr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,mi="__reactContainer$"+di,pi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var Ei=[],Ni=-1;function Si(e){return{current:e}}function Ci(e){0>Ni||(e.current=Ei[Ni],Ei[Ni]=null,Ni--)}function ki(e,t){Ni++,Ei[Ni]=e.current,e.current=t}var _i={},Ti=Si(_i),ji=Si(!1),Ii=_i;function Pi(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ci(ji),Ci(Ti)}function Oi(e,t,n){if(Ti.current!==_i)throw Error(s(168));ki(Ti,t),ki(ji,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ii=Ti.current,ki(Ti,e),ki(ji,ji.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ci(ji),Ci(Ti),ki(Ti,e)):Ci(ji),ki(ji,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var Hi=[],qi=0,Ki=null,Wi=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){Hi[qi++]=Wi,Hi[qi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=Hi[--qi],Hi[qi]=null,Wi=Hi[--qi],Hi[qi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var ps=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function p(i,s,o,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(i,d,o[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===o.length)return n(i,d),is&&$i(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(s=a(d,s,p),null===u?c=d:u.sibling=d,u=d);return is&&$i(i,p),c}for(d=r(i,d);p<o.length;p++)null!==(g=m(d,i,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=a(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&$i(i,p),c}function g(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,p=o,g=o=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var b=f(i,p,y.value,c);if(null===b){null===p&&(p=v);break}e&&p&&null===b.alternate&&t(i,p),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,p=v}if(y.done)return n(i,p),is&&$i(i,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&$i(i,g),u}for(p=r(i,p);!y.done;g++,y=l.next())null!==(y=m(p,i,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(i,e)}),is&&$i(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===N){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===N?((s=Dc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case A:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return p(r,s,a,l);if(D(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var xs=bs(!0),ws=bs(!1),Es=Si(null),Ns=null,Ss=null,Cs=null;function ks(){Cs=Ss=Ns=null}function _s(e){var t=Es.current;Ci(Es),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){Ns=e,Cs=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===Ns)throw Error(s(308));Ss=e,Ns.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ps=null;function As(e){null===Ps?Ps=[e]:Ps.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=M({},d,h);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Ks=Si(qs),Ws=Si(qs),Gs=Si(qs);function Qs(e){if(e===qs)throw Error(s(174));return e}function Ys(e,t){switch(ki(Gs,t),ki(Ws,e),ki(Ks,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ks),ki(Ks,t)}function Xs(){Ci(Ks),Ci(Ws),Ci(Gs)}function Js(e){Qs(Gs.current);var t=Qs(Ks.current),n=le(t,e.type);t!==n&&(ki(Ws,e),ki(Ks,n))}function $s(e){Ws.current===e&&(Ci(Ks),Ci(Ws))}var Zs=Si(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function pa(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?$a:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Ja,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ea(){}function Na(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Da(ka.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ia(9,Ca.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(s(349));0!==(30&sa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,_a(t)&&Ta(e)}function ka(e,t,n){return n(function(){_a(t)&&Ta(e)})}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ta(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function ja(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return ya().memoizedState}function Aa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Ia(t,n,s,r))}aa.flags|=e,i.memoizedState=Ia(1|t,n,s,r)}function Oa(e,t){return Aa(8390656,8,e,t)}function Da(e,t){return Ra(2048,8,e,t)}function La(e,t){return Ra(4,2,e,t)}function Ma(e,t){return Ra(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Fa.bind(null,t,e),n)}function Va(){}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ka(){return ya().memoizedState}function Wa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ya(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Ga(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rs(e,t,i,r))&&(nc(n,e,r,i=ec()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Is,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},$a={readContext:Is,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:ja,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=qa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===jl)throw Error(s(349));0!==(30&sa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Oa(ka.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=jl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Is,useCallback:za,useContext:Is,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:xa,useRef:Pa,useState:function(){return xa(ba)},useDebugValue:Va,useDeferredValue:function(e){return Ha(ya(),oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],ya().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Na,useId:Ka,unstable_isNewReconciler:!1},eo={readContext:Is,useCallback:za,useContext:Is,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:wa,useRef:Pa,useState:function(){return wa(ba)},useDebugValue:Va,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Ha(t,oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Na,useId:Ka,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nc(t,e,r,n),Vs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=_i,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(i=Ai(t)?Ii:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):_i),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Is(s):(s=Ai(t)?Ii:Ti.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Kl=r),uo(0,t)},n}function mo(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function po(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?ws(t,null,n,r):xs(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return js(t,i),r=pa(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function Eo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ac(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,No(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return ko(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Rl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Rl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Rl,Al),Al|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Rl,Al),Al|=r;return xo(e,t,i,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,r,i){var s=Ai(n)?Ii:Ti.current;return s=Pi(t,s),js(t,i),n=pa(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function _o(e,t,n,r,i){if(Ai(n)){var s=!0;Li(t)}else s=!1;if(js(t,i),null===t.stateNode)Ho(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Is(c):c=Pi(t,c=Ai(n)?Ii:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Ds=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||ji.current||Ds?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ds||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Is(l):l=Pi(t,l=Ai(n)?Ii:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Ds=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var m=t.memoizedState;o!==d||h!==m||ji.current||Ds?("function"===typeof f&&(no(t,n,f,r),m=t.memoizedState),(c=Ds||io(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,i)}function To(e,t,n,r,i,s){Co(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),qo(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,o,s)):xo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function jo(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Ys(e,t.containerInfo)}function Io(e,t,n,r,i){return fs(),ms(i),t.flags|=256,xo(e,t,n,r),t.child}var Po,Ao,Ro,Oo,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Dc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Do,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=jl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Os(e,i),nc(r,e,i,-1))}return pc(),Uo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ms(r),xs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Ai(t.type)&&Ri(),Wo(t),null;case 3:return r=t.stateNode,Xs(),Ci(ji),Ci(Ti),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ao(e,t),Wo(t),null;case 5:$s(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Qs(Ks.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Gs.current),Qs(Ks.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ci(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):pc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Xs(),Ao(e,t),null===e&&Br(t.stateNode.containerInfo),Wo(t),null;case 10:return _s(t.type._context),Wo(t),null;case 19:if(Ci(Zs),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Bl&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Wo(t),null}else 2*Je()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Ai(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ci(ji),Ci(Ti),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $s(t),null;case 13:if(Ci(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(Zs),null;case 4:return Xs(),null;case 10:return _s(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ao=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ks.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[pi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,hl(e,t,n),Xo=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:pl(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(pl(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(i,!!a.multiple,m,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(pl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(pl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:pl(t,e),vl(e);break;case 13:pl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,pl(t,e),Xo=u):pl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(m=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==m?(m.return=f,$o=m):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$o=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Yo;var c=Xo;if(Yo=a,(Xo=l)&&!c)for($o=i;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,$o=l):El(i);for(;null!==s;)$o=s,bl(s,t,n),s=s.sibling;$o=i,Yo=o,Xo=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$o=s):xl(e)}}function xl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function El(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Nl,Sl=Math.ceil,Cl=x.ReactCurrentDispatcher,kl=x.ReactCurrentOwner,_l=x.ReactCurrentBatchConfig,Tl=0,jl=null,Il=null,Pl=0,Al=0,Rl=Si(0),Ol=0,Dl=null,Ll=0,Ml=0,Fl=0,Ul=null,Vl=null,zl=0,Bl=1/0,Hl=null,ql=!1,Kl=null,Wl=null,Gl=!1,Ql=null,Yl=0,Xl=0,Jl=null,$l=-1,Zl=0;function ec(){return 0!==(6&Tl)?Je():-1!==$l?$l:$l=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Pl?Pl&-Pl:null!==ps.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Tl)&&e===jl||(e===jl&&(0===(2&Tl)&&(Ml|=n),4===Ol&&oc(e,Pl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=Je()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===jl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai(function(){0===(6&Tl)&&Bi()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($l=-1,Zl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var a=mc();for(jl===e&&Pl===t||(Hl=null,Bl=Je()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}ks(),Cl.current=a,Tl=i,null!==Il?t=0:(jl=null,Pl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Dl,hc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=mt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Dl,hc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Vl,Hl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vl,Hl),t);break}wc(e,Vl,Hl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vl,Hl),r);break}wc(e,Vl,Hl);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(s(327));Ec();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Dl,hc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,Hl),rc(e,Je()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=Je()+500,Ui&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&Ec();var t=Tl;Tl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Tl=t))&&Bi()}}function dc(){Al=Rl.current,Ci(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Xs(),Ci(ji),Ci(Ti),na();break;case 5:$s(r);break;case 4:Xs();break;case 13:case 19:Ci(Zs);break;case 10:_s(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Il=e=Rc(e.current,null),Pl=Al=t,Ol=0,Dl=null,Fl=Ml=Ll=0,Vl=Ul=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ps=null}return e}function fc(e,t){for(;;){var n=Il;try{if(ks(),ra.current=Ja,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,kl.current=null,null===n||null===n.return){Ol=1,Dl=t,Il=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&po(a,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){po(a,u,t),pc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ms(lo(c,l));break e}}a=c=lo(c,l),4!==Ol&&(Ol=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=Ja,null===e?Ja:e}function pc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===jl||0===(268435455&Ll)&&0===(268435455&Ml)||oc(jl,Pl)}function gc(e,t){var n=Tl;Tl|=2;var r=mc();for(jl===e&&Pl===t||(Hl=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(ks(),Tl=n,Cl.current=r,null!==Il)throw Error(s(261));return jl=null,Pl=0,Ol}function vc(){for(;null!==Il;)bc(Il)}function yc(){for(;null!==Il&&!Ye();)bc(Il)}function bc(e){var t=Nl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?xc(e):Il=t,kl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Al)))return void(Il=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Ol=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===jl&&(Il=jl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,jc(tt,function(){return Ec(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=_l.transition,_l.transition=null;var o=bt;bt=1;var l=Tl;Tl|=4,kl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}p=tl,tl=!1}(e,n),gl(n,e),mr(ti),qt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Tl=l,bt=o,_l.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Bi()}(e,t,n,r)}finally{_l.transition=i,bt=r}return null}function Ec(){if(null!==Ql){var e=xt(Yl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var f=(d=$o).sibling,m=d.return;if(sl(d),d===u){$o=null;break}if(null!==f){f.return=m,$o=f;break}$o=m}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$o=y;break e}$o=a.return}}var b=e.current;for($o=b;null!==$o;){var x=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,$o=x;else e:for(o=b;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Sc(l,l.return,E)}if(l===o){$o=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$o=w;break e}$o=l.return}}if(Tl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function Nc(e,t,n){e=Us(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Us(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Pl&n)===n&&(4===Ol||3===Ol&&(130023424&Pl)===Pl&&500>Je()-zl?hc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Os(e,t))&&(vt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function jc(e,t){return Ge(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ic(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Dc(n.children,i,a,t);case S:o=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case j:return(e=Pc(13,n,t,i)).elementType=j,e.lanes=a,e;case I:return(e=Pc(19,n,t,i)).elementType=I,e.lanes=a,e;case R:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case _:o=9;break e;case T:o=11;break e;case P:o=14;break e;case A:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function zc(e){if(!e)return _i;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Di(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=Vc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,a))&&(nc(e,i,a,s),Vs(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:jo(t),fs();break;case 5:Js(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(ki(Zs,1&Zs.current),null!==(e=qo(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return qo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Pi(t,Ti.current);js(t,n),i=pa(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=to(r,e),i){case 0:t=ko(null,t,r,e,n);break e;case 1:t=_o(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(jo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Io(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Io(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Co(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ki(Es,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!ji.current){t=qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,js(t,n),r=r(i=Is(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),Eo(e,t,r,i=to(r.type,i),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Ho(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,js(t,n),so(t,r,i),oo(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=qc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[mi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[mi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,i,r);return qc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[mi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Tl)&&(Bl=Je()+500,Bi()))}break;case 13:uc(function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},Et=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));G(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,ke,_e,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[mi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},740:e=>{"use strict";e.exports=function(e,t,n,r,i,s,a,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,a,o],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391),s=n(950),a=n.t(s,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,m=e.Pop,p=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){m=e.Pop;let t=v(),n=null==t?null:t-g;g=t,p&&p({action:m,location:x.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let x={get action(){return m},get location(){return t(s,u)},listen(e){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),p=e,()=>{s.removeEventListener(l,y),p=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){m=e.Push;let i=h(x.location,t,n);r&&r(i,t),g=v()+1;let o=d(i,g),l=x.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&p&&p({action:m,location:x.location,delta:1})},replace:function(t,n){m=e.Replace;let i=h(x.location,t,n);r&&r(i,t),g=v();let s=d(i,g),o=x.createHref(i);u.replaceState(s,"",o),a&&p&&p({action:m,location:x.location,delta:0})},go:e=>u.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=A(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=P(i);a=j(s[o],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=M([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)}),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=x(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,E=3,N=2,S=1,C=10,k=-2,_=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=k),t&&(r+=N),n.filter(e=>!_(e)).reduce((e,t)=>e+(w.test(t)?E:""===t?S:C),r)}function j(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:M([s,u.pathname]),pathnameBase:F(M([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=M([s,u.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:V(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],H=(new Set(B),["get",...B]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const K=t.createContext(null);const W=t.createContext(null);const G=t.createContext(null);const Q=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const X=t.createContext(null);function J(){return null!=t.useContext(Q)}function $(){return J()||c(!1),t.useContext(Q).location}function Z(e){t.useContext(G).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=he(ce.UseNavigateStable),r=t.useRef(!1);Z(()=>{r.current=!0});let i=t.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:n},i)))},[e,n]);return i}():function(){J()||c(!1);let e=t.useContext(K),{basename:n,future:r,navigator:i}=t.useContext(G),{matches:s}=t.useContext(Y),{pathname:a}=$(),o=JSON.stringify(D(s,r.v7_relativeSplatPath)),l=t.useRef(!1);Z(()=>{l.current=!0});let u=t.useCallback(function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=L(t,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:M([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)},[n,i,o,a,e]);return u}()}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(G),{matches:s}=t.useContext(Y),{pathname:a}=$(),o=JSON.stringify(D(s,i.v7_relativeSplatPath));return t.useMemo(()=>L(e,JSON.parse(o),a,"path"===r),[e,o,a,r])}function ne(n,r,i,s){J()||c(!1);let{navigator:a}=t.useContext(G),{matches:o}=t.useContext(Y),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=$();if(r){var p;let e="string"===typeof r?m(r):r;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(n,{pathname:y});let x=oe(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,i,s);return r&&x?t.createElement(Q.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},x):x}function re(){let e=function(){var e;let n=t.useContext(X),r=de(ce.UseRouteError),i=he(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ie=t.createElement(re,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(K);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Y.Provider,{value:n},i)}function oe(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,i,s)=>{let a,c=!1,h=null,f=null;var m;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ie,u&&(d<0&&0===s?(m="route-fallback",!1||fe[m]||(fe[m]=!0),c=!0,f=null):d===s&&(c=!0,f=i.route.hydrateFallbackElement||null)));let p=n.concat(o.slice(0,s+1)),g=()=>{let n;return n=a?h:c?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ae,{match:i,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(K);return n||c(!1),n}function de(e){let n=t.useContext(W);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(Y);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const fe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function pe(e){c(!1)}function ge(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:o,static:l=!1,future:u}=n;J()&&c(!1);let d=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:d,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=s,b=t.useMemo(()=>{let e=A(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:a}},[d,f,p,g,v,y,a]);return null==b?null:t.createElement(G.Provider,{value:h},t.createElement(Q.Provider,{children:i,value:b}))}function ve(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise(()=>{});t.Component;function ye(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ye(e.props.children,s));e.type!==pe&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,s)),r.push(a)}),r}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Nk){}new Map;const Ee=r.startTransition;a.flushSync,r.useId;function Ne(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),p(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,e)}({window:s,v5Compat:!0}));let o=a.current,[l,c]=t.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},d=t.useCallback(e=>{u&&Ee?Ee(()=>c(e)):c(e)},[c,u]);return t.useLayoutEffect(()=>o.listen(d),[o,d]),t.useEffect(()=>me(i),[i]),t.createElement(ge,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o,future:i})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=t.forwardRef(function(e,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m}=e,p=xe(e,we),{basename:g}=t.useContext(G),v=!1;if("string"===typeof d&&Ce.test(d)&&(r=d,Se))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=A(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(Nk){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;J()||c(!1);let{basename:i,navigator:s}=t.useContext(G),{hash:a,pathname:o,search:l}=te(e,{relative:r}),u=o;return"/"!==i&&(u="/"===o?i:M([i,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),b=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===n?{}:n,c=ee(),u=$(),d=te(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,i,s,r,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:m});return t.createElement("a",be({},p,{href:r||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:u}))});var _e,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_e||(_e={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Ie(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==je(t)?t:t+""}function Pe(e,t,n){return(t=Ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach(function(t){Pe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oe(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function De(e,t){if(null==e)return{};var n,r,i=Oe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Le=n(139),Me=n.n(Le),Fe=n(579);const Ue=["xxl","xl","lg","md","sm","xs"],Ve="xs",ze=t.createContext({prefixes:{},breakpoints:Ue,minBreakpoint:Ve}),{Consumer:Be,Provider:He}=ze;function qe(e,n){const{prefixes:r}=(0,t.useContext)(ze);return e||r[n]||n}function Ke(){const{breakpoints:e}=(0,t.useContext)(ze);return e}function We(){const{minBreakpoint:e}=(0,t.useContext)(ze);return e}const Ge=["bsPrefix","fluid","as","className"],Qe=t.forwardRef((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:s}=e,a=De(e,Ge);const o=qe(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,Fe.jsx)(i,Re(Re({ref:t},a),{},{className:Me()(s,r?"".concat(o).concat(l):o)}))});Qe.displayName="Container";const Ye=Qe,Xe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new $e;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class $e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ze=function(e){return function(e){const t=Xe(e);return Je.encodeByteArray(t,!0)}(e).replace(/\./g,"")},et=function(e){try{return Je.decodeString(e,!0)}catch(Nk){console.error("base64Decode failed: ",Nk)}return null};function tt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const nt=()=>{try{return tt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBD06oTD1m9ea9RE1AEdPtzJePWGL-IN6k",REACT_APP_FIREBASE_AUTH_DOMAIN:"proyectou-c9e45.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"proyectou-c9e45",REACT_APP_FIREBASE_STORAGE_BUCKET:"proyectou-c9e45.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"730529882716",REACT_APP_FIREBASE_APP_ID:"1:730529882716:web:153699bc07f91ac6aabc99",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-1EZ37HR7FQ"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Nk){return}const t=e&&et(e[1]);return t&&JSON.parse(t)})()}catch(Nk){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Nk))}},rt=e=>{var t;return null===(t=nt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},it=()=>{var e;return null===(e=nt())||void 0===e?void 0:e.config},st=e=>{var t;return null===(t=nt())||void 0===t?void 0:t["_".concat(e)]};class at{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function ot(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function lt(e){return(await fetch(e,{credentials:"include"})).ok}const ct={};let ut=!1;function dt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!ot(window.location.host)||ct[e]===t||ct[e]||ut)return;function n(e){return"__firebase__banner__".concat(e)}ct[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(ct))ct[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{ut=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function ht(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ft(){var e;const t=null===(e=nt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Nk){return!1}}function mt(){return!ft()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pt(){try{return"object"===typeof indexedDB}catch(Nk){return!1}}class gt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(yt,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gt(n,s,t)}}const yt=/\{\$([^}]+)}/g;function bt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(xt(n)&&xt(s)){if(!bt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xt(e){return null!==e&&"object"===typeof e}function wt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Et(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Nt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class St{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ct),void 0===r.error&&(r.error=Ct),void 0===r.complete&&(r.complete=Ct);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Nk){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Nk){"undefined"!==typeof console&&console.error&&console.error(Nk)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ct(){}function kt(e){return e&&e._delegate?e._delegate:e}class _t{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Tt="[DEFAULT]";class jt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new at;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Nk){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Nk){if(r)return null;throw Nk}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Tt})}catch(Nk){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Nk){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Tt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;return this.component?this.component.multipleInstances?e:Tt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class It{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Pt=[];var At;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(At||(At={}));const Rt={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},Ot=At.INFO,Dt={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},Lt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Dt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Mt{constructor(e){this.name=e,this._logLevel=Ot,this._logHandler=Lt,this._userLogHandler=null,Pt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in At))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Rt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...t),this._logHandler(this,At.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...t),this._logHandler(this,At.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,At.INFO,...t),this._logHandler(this,At.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,At.WARN,...t),this._logHandler(this,At.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,At.ERROR,...t),this._logHandler(this,At.ERROR,...t)}}let Ft,Ut;const Vt=new WeakMap,zt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,qt=new WeakMap;let Kt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Bt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Wt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ut||(Ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yt(this),n),Qt(Vt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qt(e.apply(Yt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Yt(this),t,...r);return Bt.set(s,t.sort?t.sort():[t]),Qt(s)}}function Gt(e){return"function"===typeof e?Wt(e):(e instanceof IDBTransaction&&function(e){if(zt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});zt.set(e,t)}(e),t=e,(Ft||(Ft=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Kt):e);var t}function Qt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Qt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Vt.set(t,e)}).catch(()=>{}),qt.set(t,e),t}(e);if(Ht.has(e))return Ht.get(e);const t=Gt(e);return t!==e&&(Ht.set(e,t),qt.set(t,e)),t}const Yt=e=>qt.get(e);const Xt=["get","getKey","getAll","getAllKeys","count"],Jt=["put","add","delete","clear"],$t=new Map;function Zt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if($t.get(t))return $t.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Jt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return $t.set(t,s),s}Kt=(e=>Re(Re({},e),{},{get:(t,n,r)=>Zt(t,n)||e.get(t,n,r),has:(t,n)=>!!Zt(t,n)||e.has(t,n)}))(Kt);class en{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const tn="@firebase/app",nn="0.14.1",rn=new Mt("@firebase/app"),sn="@firebase/app-compat",an="@firebase/analytics-compat",on="@firebase/analytics",ln="@firebase/app-check-compat",cn="@firebase/app-check",un="@firebase/auth",dn="@firebase/auth-compat",hn="@firebase/database",fn="@firebase/data-connect",mn="@firebase/database-compat",pn="@firebase/functions",gn="@firebase/functions-compat",vn="@firebase/installations",yn="@firebase/installations-compat",bn="@firebase/messaging",xn="@firebase/messaging-compat",wn="@firebase/performance",En="@firebase/performance-compat",Nn="@firebase/remote-config",Sn="@firebase/remote-config-compat",Cn="@firebase/storage",kn="@firebase/storage-compat",_n="@firebase/firestore",Tn="@firebase/ai",jn="@firebase/firestore-compat",In="firebase",Pn="[DEFAULT]",An={[tn]:"fire-core",[sn]:"fire-core-compat",[on]:"fire-analytics",[an]:"fire-analytics-compat",[cn]:"fire-app-check",[ln]:"fire-app-check-compat",[un]:"fire-auth",[dn]:"fire-auth-compat",[hn]:"fire-rtdb",[fn]:"fire-data-connect",[mn]:"fire-rtdb-compat",[pn]:"fire-fn",[gn]:"fire-fn-compat",[vn]:"fire-iid",[yn]:"fire-iid-compat",[bn]:"fire-fcm",[xn]:"fire-fcm-compat",[wn]:"fire-perf",[En]:"fire-perf-compat",[Nn]:"fire-rc",[Sn]:"fire-rc-compat",[Cn]:"fire-gcs",[kn]:"fire-gcs-compat",[_n]:"fire-fst",[jn]:"fire-fst-compat",[Tn]:"fire-vertex","fire-js":"fire-js",[In]:"fire-js-all"},Rn=new Map,On=new Map,Dn=new Map;function Ln(e,t){try{e.container.addComponent(t)}catch(Nk){rn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Nk)}}function Mn(e){const t=e.name;if(Dn.has(t))return rn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Dn.set(t,e);for(const n of Rn.values())Ln(n,e);for(const n of On.values())Ln(n,e);return!0}function Fn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Un(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Vn=new vt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class zn{constructor(e,t,n){this._isDeleted=!1,this._options=Re({},e),this._config=Re({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const Bn="12.1.0";function Hn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Re({name:Pn,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Vn.create("bad-app-name",{appName:String(i)});if(n||(n=it()),!n)throw Vn.create("no-options");const s=Rn.get(i);if(s){if(bt(n,s.options)&&bt(r,s.config))return s;throw Vn.create("duplicate-app",{appName:i})}const a=new It(i);for(const l of Dn.values())a.addComponent(l);const o=new zn(n,r,a);return Rn.set(i,o),o}function qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn;const t=Rn.get(e);if(!t&&e===Pn&&it())return Hn();if(!t)throw Vn.create("no-app",{appName:e});return t}function Kn(e,t,n){var r;let i=null!==(r=An[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rn.warn(e.join(" "))}Mn(new _t("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Wn="firebase-heartbeat-store";let Gn=null;function Qn(){return Gn||(Gn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Qt(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Qt(a.result),e.oldVersion,e.newVersion,Qt(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Wn)}catch(Nk){console.warn(Nk)}}}).catch(e=>{throw Vn.create("idb-open",{originalErrorMessage:e.message})})),Gn}async function Yn(e,t){try{const n=(await Qn()).transaction(Wn,"readwrite"),r=n.objectStore(Wn);await r.put(t,Xn(e)),await n.done}catch(Nk){if(Nk instanceof gt)rn.warn(Nk.message);else{const t=Vn.create("idb-set",{originalErrorMessage:null===Nk||void 0===Nk?void 0:Nk.message});rn.warn(t.message)}}}function Xn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Jn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$n();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Nk){rn.warn(Nk)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=$n(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),er(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),er(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ze(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Nk){return rn.warn(Nk),""}}}function $n(){return(new Date).toISOString().substring(0,10)}class Zn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!pt()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Qn()).transaction(Wn),n=await t.objectStore(Wn).get(Xn(e));return await t.done,n}catch(Nk){if(Nk instanceof gt)rn.warn(Nk.message);else{const t=Vn.create("idb-get",{originalErrorMessage:null===Nk||void 0===Nk?void 0:Nk.message});rn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Yn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Yn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function er(e){return Ze(JSON.stringify({version:2,heartbeats:e})).length}var tr;tr="",Mn(new _t("platform-logger",e=>new en(e),"PRIVATE")),Mn(new _t("heartbeat",e=>new Jn(e),"PRIVATE")),Kn(tn,nn,tr),Kn(tn,nn,"esm2020"),Kn("fire-js","");Kn("firebase","12.1.0","app");const nr=["providerId"],rr=["uid","auth","stsTokenManager"],ir=["providerId","signInMethod"];function sr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ar=sr,or=new vt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lr=new Mt("@firebase/auth");function cr(e){if(lr.logLevel<=At.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lr.error("Auth (".concat(Bn,"): ").concat(e),...n)}}function ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mr(e,...n)}function dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mr(e,...n)}function hr(e,t,n){const r=Re(Re({},ar()),{},{[t]:n});return new vt("auth","Firebase",r).create(t,{appName:e.name})}function fr(e){return hr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return or.create(e,...n)}function pr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mr(t,...r)}}function gr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw cr(t),new Error(t)}function vr(e,t){e||gr(t)}function yr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function br(){return"http:"===xr()||"https:"===xr()}function xr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function wr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(br()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Er{constructor(e,t){this.shortDelay=e,this.longDelay=t,vr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return wr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nr(e,t){vr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Sr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},kr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_r=new Er(3e4,6e4);function Tr(e,t){return e.tenantId&&!t.tenantId?Re(Re({},t),{},{tenantId:e.tenantId}):t}async function jr(e,t,n,r){return Ir(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=wt(Re({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Re({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&ot(e.emulatorConfig.host)&&(l.credentials="include"),Sr.fetch()(await Ar(e,e.config.apiHost,n,a),l)})}async function Ir(e,t,n){e._canInitEmulator=!1;const r=Re(Re({},Cr),t);try{const t=new Or(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Dr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Dr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Dr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Dr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw hr(e,o,a);ur(e,o)}}catch(Nk){if(Nk instanceof gt)throw Nk;ur(e,"network-request-failed",{message:String(Nk)})}}async function Pr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await jr(e,t,n,r,i);return"mfaPendingCredential"in s&&ur(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Ar(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?Nr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(kr.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function Rr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Or{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(dr(this.auth,"network-request-failed")),_r.get())})}}function Dr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dr(e,t,r);return i.customData._tokenResponse=n,i}function Lr(e){return void 0!==e&&void 0!==e.enterprise}class Mr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Rr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fr(e,t){return jr(e,"GET","/v2/recaptchaConfig",Tr(e,t))}async function Ur(e,t){return jr(e,"POST","/v1/accounts:lookup",t)}function Vr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Nk){}}function zr(e){return 1e3*Number(e)}function Br(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return cr("JWT malformed, contained fewer than 3 sections"),null;try{const e=et(n);return e?JSON.parse(e):(cr("Failed to decode base64 JWT payload"),null)}catch(Nk){return cr("Caught error parsing JWT payload as JSON",null===Nk||void 0===Nk?void 0:Nk.toString()),null}}function Hr(e){const t=Br(e);return pr(t,"internal-error"),pr("undefined"!==typeof t.exp,"internal-error"),pr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function qr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Nk){throw Nk instanceof gt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Nk)&&e.auth.currentUser===e&&await e.auth.signOut(),Nk}}class Kr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Nk){return void((null===Nk||void 0===Nk?void 0:Nk.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Wr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vr(this.lastLoginAt),this.creationTime=Vr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await qr(e,Ur(n,{idToken:r}));pr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?Qr(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Wr(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Qr(e){return e.map(e=>{let{providerId:t}=e,n=De(e,nr);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pr(e.idToken,"internal-error"),pr("undefined"!==typeof e.idToken,"internal-error"),pr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Hr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pr(0!==e.length,"internal-error");const t=Hr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(pr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ir(e,{},async()=>{const n=wt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Ar(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&ot(e.emulatorConfig.host)&&(o.credentials="include"),Sr.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Yr;return n&&(pr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(pr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(pr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yr,this.toJSON())}_performRefresh(){return gr("not implemented")}}function Xr(e,t){pr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Jr{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=De(e,rr);this.providerId="firebase",this.proactiveRefresh=new Kr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await qr(this,this.stsTokenManager.getToken(this.auth,e));return pr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=kt(e),r=await n.getIdToken(t),i=Br(r);pr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vr(zr(i.auth_time)),issuedAtTime:Vr(zr(i.iat)),expirationTime:Vr(zr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=kt(e);await Gr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(pr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Re({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr(Re(Re({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Gr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await qr(this,async function(e,t){return jr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Re(Re({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Re({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:E}=t;pr(y&&E,e,"internal-error");const N=Yr.fromJSON(this.name,E);pr("string"===typeof y,e,"internal-error"),Xr(u,e.name),Xr(d,e.name),pr("boolean"===typeof b,e,"internal-error"),pr("boolean"===typeof x,e,"internal-error"),Xr(h,e.name),Xr(f,e.name),Xr(m,e.name),Xr(p,e.name),Xr(g,e.name),Xr(v,e.name);const S=new Jr({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:N,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Re({},e))),p&&(S._redirectEventId=p),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Yr;r.updateFromServerResponse(t);const i=new Jr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Gr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];pr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Qr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),a=new Yr;a.updateFromIdToken(n);const o=new Jr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Wr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const $r=new Map;function Zr(e){vr(e instanceof Function,"Expected a class definition");let t=$r.get(e);return t?(vr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$r.set(e,t),t)}class ei{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ei.type="NONE";const ti=ei;function ni(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ri{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ni(this.userKey,r.apiKey,i),this.fullPersistenceKey=ni("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Ur(this.auth,{idToken:e}).catch(()=>{});return t?Jr._fromGetAccountInfoResponse(this.auth,t,e):null}return Jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ri(Zr(ti),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Zr(ti);const s=ni(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await Ur(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Jr._fromGetAccountInfoResponse(e,r,t)}else n=Jr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new ri(i,e,n)):new ri(i,e,n)}}function ii(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(li(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(si(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ui(t))return"Blackberry";if(di(t))return"Webos";if(ai(t))return"Safari";if((t.includes("chrome/")||oi(t))&&!t.includes("edge/"))return"Chrome";if(ci(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/firefox\//i.test(e)}function ai(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/crios\//i.test(e)}function li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/iemobile/i.test(e)}function ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/android/i.test(e)}function ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/blackberry/i.test(e)}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/webos/i.test(e)}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fi(){return function(){const e=ht();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return hi(e)||ci(e)||di(e)||ui(e)||/windows phone/i.test(e)||li(e)}function pi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ii(ht());break;case"Worker":t="".concat(ii(ht()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Bn,"/").concat(r)}class gi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Nk){r(Nk)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Nk){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Nk||void 0===Nk?void 0:Nk.message})}}}class vi{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class yi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xi(this),this.idTokenSubscription=new xi(this),this.beforeStateQueue=new gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=or,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ri.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Nk){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ur(this,{idToken:e}),n=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,a=null===(s=n)||void 0===s?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==a||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(Nk){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Nk))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return pr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Nk){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gr(e)}catch(Nk){if((null===Nk||void 0===Nk?void 0:Nk.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(fr(this));const t=e?kt(e):null;return t&&pr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&pr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return jr(e,"GET","/v2/passwordPolicy",Tr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new vi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return jr(e,"POST","/v2/accounts:revokeToken",Tr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zr(e)||this._popupRedirectResolver;pr(t,this,"argument-error"),this.redirectPersistenceManager=await ri.create(this,[Zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pr(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(lr.logLevel<=At.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lr.warn("Auth (".concat(Bn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function bi(e){return kt(e)}class xi{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new St(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return pr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ei(e){return wi.loadJS(e)}function Ni(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Si{constructor(){this.enterprise=new Ci}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ci{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ki="NO_RECAPTCHA";class _i{constructor(e){this.type="recaptcha-enterprise",this.auth=bi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Lr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ki)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Si).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Fr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Mr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Lr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=wi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ei(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ti(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new _i(e);let a;if(i)a=ki;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Re({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ji(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ti(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ti(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const i=await Ti(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Ti(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Ti(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Ii(e){const t=bi(e),n=await Fr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Mr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new _i(t).verify()}}function Pi(e,t,n){const r=bi(e);pr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=Ai(t),{host:a,port:o}=function(e){const t=Ai(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ri(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ri(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(s,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return pr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void pr(bt(c,r.config.emulator)&&bt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ot(a)?(lt("".concat(s,"//").concat(a).concat(l)),dt("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ai(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ri(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Oi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,t){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function Di(e,t){return jr(e,"POST","/v1/accounts:signUp",t)}async function Li(e,t){return Pr(e,"POST","/v1/accounts:signInWithPassword",Tr(e,t))}class Mi extends Oi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Mi(e,t,"password")}static _fromEmailAndCode(e,t){return new Mi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ji(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Li,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Pr(e,"POST","/v1/accounts:signInWithEmailLink",Tr(e,t))}(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ji(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Di,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Pr(e,"POST","/v1/accounts:signInWithEmailLink",Tr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fi(e,t){return Pr(e,"POST","/v1/accounts:signInWithIdp",Tr(e,t))}class Ui extends Oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ur("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=De(t,ir);if(!n||!r)return null;const s=new Ui(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Fi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Fi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wt(t)}return e}}async function Vi(e,t){return jr(e,"POST","/v1/accounts:sendVerificationCode",Tr(e,t))}const zi={USER_NOT_FOUND:"user-not-found"};class Bi extends Oi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Bi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Bi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Pr(e,"POST","/v1/accounts:signInWithPhoneNumber",Tr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Pr(e,"POST","/v1/accounts:signInWithPhoneNumber",Tr(e,t));if(n.temporaryProof)throw Dr(e,"account-exists-with-different-credential",n);return n}(e,Re({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Pr(e,"POST","/v1/accounts:signInWithPhoneNumber",Tr(e,Re(Re({},t),{},{operation:"REAUTH"})),zi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Bi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Hi{constructor(e){var t,n,r,i,s,a;const o=Et(Nt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);pr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Et(Nt(e)).link,n=t?Et(Nt(t)).deep_link_id:null,r=Et(Nt(e)).deep_link_id;return(r?Et(Nt(r)).link:null)||r||n||t||e}(e);try{return new Hi(t)}catch(n){return null}}}class qi{constructor(){this.providerId=qi.PROVIDER_ID}static credential(e,t){return Mi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Hi.parseLink(t);return pr(n,"argument-error"),Mi._fromEmailAndCode(e,n.code,n.tenantId)}}qi.PROVIDER_ID="password",qi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ki{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wi extends Ki{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gi extends Wi{constructor(){super("facebook.com")}static credential(e){return Ui._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Gi.credential(t.oauthAccessToken)}catch(n){return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gi.PROVIDER_ID="facebook.com";class Qi extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ui._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Qi.credential(n,r)}catch(i){return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com",Qi.PROVIDER_ID="google.com";class Yi extends Wi{constructor(){super("github.com")}static credential(e){return Ui._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Yi.credential(t.oauthAccessToken)}catch(n){return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com",Yi.PROVIDER_ID="github.com";class Xi extends Wi{constructor(){super("twitter.com")}static credential(e,t){return Ui._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Xi.credential(n,r)}catch(i){return null}}}async function Ji(e,t){return Pr(e,"POST","/v1/accounts:signUp",Tr(e,t))}Xi.TWITTER_SIGN_IN_METHOD="twitter.com",Xi.PROVIDER_ID="twitter.com";class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Jr._fromIdTokenResponse(e,n,r),s=Zi(n);return new $i({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Zi(n);return new $i({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Zi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class es extends gt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,es.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new es(e,t,n,r)}}function ts(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw es._fromErrorAndOperation(e,n,t,r);throw n})}async function ns(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await qr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $i._forOperation(e,"link",r)}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Un(r.app))return Promise.reject(fr(r));const i="reauthenticate";try{const s=await qr(e,ts(r,i,t,e),n);pr(s.idToken,r,"internal-error");const a=Br(s.idToken);pr(a,r,"internal-error");const{sub:o}=a;return pr(e.uid===o,r,"user-mismatch"),$i._forOperation(e,i,s)}catch(Nk){throw(null===Nk||void 0===Nk?void 0:Nk.code)==="auth/".concat("user-not-found")&&ur(r,"user-mismatch"),Nk}}async function is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Un(e.app))return Promise.reject(fr(e));const r="signIn",i=await ts(e,r,t),s=await $i._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ss(e,t){return is(bi(e),t)}async function as(e){const t=bi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function os(e,t){return jr(e,"POST","/v2/accounts/mfaEnrollment:start",Tr(e,t))}new WeakMap;const ls="__sak";class cs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ls,"1"),this.storage.removeItem(ls),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class us extends cs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);fi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}us.type="LOCAL";const ds=us;function hs(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function fs(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class ms{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=fs(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return hs(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=fs(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=fs(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=hs(n);const i=setInterval(()=>{const e=hs(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ms.type="COOKIE";class ps extends cs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ps.type="SESSION";const gs=ps;class vs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new vs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vs.receivers=[];class bs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=ys("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function xs(){return window}function ws(){return"undefined"!==typeof xs().WorkerGlobalScope&&"function"===typeof xs().importScripts}const Es="firebaseLocalStorageDb",Ns="firebaseLocalStorage",Ss="fbase_key";class Cs{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ks(e,t){return e.transaction([Ns],t?"readwrite":"readonly").objectStore(Ns)}function _s(){const e=indexedDB.open(Es,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ns,{keyPath:Ss})}catch(Nk){n(Nk)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ns)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Es);return new Cs(e).toPromise()}(),t(await _s()))})})}async function Ts(e,t,n){const r=ks(e,!0).put({[Ss]:t,value:n});return new Cs(r).toPromise()}function js(e,t){const n=ks(e,!0).delete(t);return new Cs(n).toPromise()}class Is{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await _s()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Nk){if(t++>3)throw Nk;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ws()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vs._getInstance(ws()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new bs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _s();return await Ts(e,ls,"1"),await js(e,ls),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ts(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ks(e,!1).get(t),r=await new Cs(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>js(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ks(e,!1).getAll();return new Cs(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Is.type="LOCAL";const Ps=Is;function As(e,t){return jr(e,"POST","/v2/accounts/mfaSignIn:start",Tr(e,t))}Ni("rcb"),new Er(3e4,6e4);const Rs="recaptcha";async function Os(e,t,n){if(!e._getRecaptchaConfig())try{await Ii(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){pr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=ji(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ki){pr((null===n||void 0===n?void 0:n.type)===Rs,e,"argument-error");return os(e,await Ds(e,t,n))}return os(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;pr("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;pr(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=ji(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ki){pr((null===n||void 0===n?void 0:n.type)===Rs,e,"argument-error");return As(e,await Ds(e,t,n))}return As(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ji(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===ki){pr((null===n||void 0===n?void 0:n.type)===Rs,e,"argument-error");return Vi(e,await Ds(e,t,n))}return Vi(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ds(e,t,n){pr(n.type===Rs,e,"argument-error");const r=await n.verify();pr("string"===typeof r,e,"argument-error");const i=Re({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ls{constructor(e){this.providerId=Ls.PROVIDER_ID,this.auth=bi(e)}verifyPhoneNumber(e,t){return Os(this.auth,e,kt(t))}static credential(e,t){return Bi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ls.credentialFromTaggedObject(t)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Bi._fromTokenResponse(n,r):null}}function Ms(e,t){return t?Zr(t):(pr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ls.PROVIDER_ID="phone",Ls.PHONE_SIGN_IN_METHOD="phone";class Fs extends Oi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Us(e){return is(e.auth,new Fs(e),e.bypassAuthState)}function Vs(e){const{auth:t,user:n}=e;return pr(n,t,"internal-error"),rs(n,new Fs(e),e.bypassAuthState)}async function zs(e){const{auth:t,user:n}=e;return pr(n,t,"internal-error"),ns(n,new Fs(e),e.bypassAuthState)}class Bs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Nk){this.reject(Nk)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Nk){this.reject(Nk)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Us;case"linkViaPopup":case"linkViaRedirect":return zs;case"reauthViaPopup":case"reauthViaRedirect":return Vs;default:ur(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hs=new Er(2e3,1e4);class qs extends Bs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pr(e,this.auth,"internal-error"),e}async onExecution(){vr(1===this.filter.length,"Popup operations only handle one event");const e=ys();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Hs.get())};e()}}qs.currentPopupAction=null;const Ks=new Map;class Ws extends Bs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ks.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ys(t),r=Qs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Nk){e=()=>Promise.reject(Nk)}Ks.set(this.auth._key(),e)}return this.bypassAuthState||Ks.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Gs(e,t){Ks.set(e._key(),t)}function Qs(e){return Zr(e._redirectPersistence)}function Ys(e){return ni("pendingRedirect",e.config.apiKey,e.name)}async function Xs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Un(e.app))return Promise.reject(fr(e));const r=bi(e),i=Ms(r,t),s=new Ws(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Js{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Zs(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(dr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($s(e))}saveEventToCache(e){this.cachedEventUids.add($s(e)),this.lastProcessedEventTime=Date.now()}}function $s(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Zs(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ea=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ta=/^https?/;async function na(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return jr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ra(r))return}catch(n){}ur(e,"unauthorized-domain")}function ra(e){const t=yr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ta.test(n))return!1;if(ea.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ia=new Er(3e4,6e4);function sa(){const e=xs().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function aa(e){return new Promise((t,n)=>{var r,i;function s(){sa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sa(),n(dr(e,"network-request-failed"))},timeout:ia.get()})}if(null!==(r=xs().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=xs().gapi)||void 0===i||!i.load){const t=Ni("iframefcb");return xs()[t]=()=>{gapi.load?s():n(dr(e,"network-request-failed"))},Ei("".concat(wi.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw oa=null,e})}let oa=null;const la=new Er(5e3,15e3),ca={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ua=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function da(e){const t=e.config;pr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Nr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Bn},i=ua.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(wt(r).slice(1))}async function ha(e){const t=await function(e){return oa=oa||aa(e),oa}(e),n=xs().gapi;return pr(n,e,"internal-error"),t.open({where:document.body,url:da(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ca,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=dr(e,"network-request-failed"),s=xs().setTimeout(()=>{r(i)},la.get());function a(){xs().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const fa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ma{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Nk){}}}function pa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Re(Re({},fa),{},{width:r.toString(),height:i.toString(),top:s,left:a}),c=ht().toLowerCase();n&&(o=oi(c)?"_blank":n),si(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return hi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ma(null);const d=window.open(t||"",o,u);pr(d,e,"popup-blocked");try{d.focus()}catch(Nk){}return new ma(d)}const ga="__/auth/handler",va="emulator/auth/handler",ya=encodeURIComponent("fac");async function ba(e,t,n,r,i,s){pr(e.config.authDomain,e,"auth-domain-config-required"),pr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Bn,eventId:i};if(t instanceof Ki){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Wi){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ya,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ga);return Nr(t,va)}(e),"?").concat(wt(o).slice(1)).concat(c)}const xa="webStorageSupport";const wa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gs,this._completeRedirectFn=Xs,this._overrideRedirectResult=Gs}async _openPopup(e,t,n,r){var i;vr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return pa(e,await ba(e,t,n,yr(),r),ys())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){xs().location.href=e}(await ba(e,t,n,yr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(vr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ha(e),n=new Js(e);return t.register("authEvent",t=>{pr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xa,{type:xa},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[xa];void 0!==i&&t(!!i),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=na(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mi()||ai()||hi()}};var Ea="@firebase/auth",Na="1.11.0";class Sa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ca=st("authIdTokenMaxAge")||300;let ka=null;var _a;wi={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=dr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},_a="Browser",Mn(new _t("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;pr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:_a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pi(_a)},c=new yi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zr);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Mn(new _t("auth-internal",e=>(e=>new Sa(e))(bi(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(Ea,Na,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_a)),Kn(Ea,Na,"esm2020");var Ta,ja,Ia="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Pa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new p(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new p(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),p=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,m(n,2*i+2*s),n[2*i+2*s+1]+=l*g,m(n,2*i+2*s+1),n[2*i+2*s+1]+=f*p,m(n,2*i+2*s+1),n[2*i+2*s+2]+=l*p,m(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ja=Pa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Ta=Pa.Integer=r}).apply("undefined"!==typeof Ia?Ia:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Aa,Ra,Oa,Da,La,Ma,Fa,Ua,Va="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},za={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Va&&Va];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function N(e){i.setTimeout(()=>{throw e},0)}function S(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new k,e=>e.reset());class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,T=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);_=()=>{e.then(P)}};var P=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){N(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function A(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,R);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=H(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),K={};function W(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function J(e){return e in K?K[e]:K[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;w(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}d(ye,R),d(be,R);var xe={},we=null;function Ee(){return we=we||new ne}function Ne(e){R.call(this,xe.La,e)}function Se(e){const t=Ee();re(t,new Ne(t))}function Ce(e,t){R.call(this,xe.STAT_EVENT,e),this.stat=t}function ke(e){const t=Ee();re(t,new Ce(t,e))}function _e(e,t){R.call(this,xe.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function je(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(Ne,R),xe.STAT_EVENT="statevent",d(Ce,R),xe.Ma="timingevent",d(_e,R),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Pe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Oe,me),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Pe=new Oe;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),He(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function Ke(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){Ke(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Xt(n)}rn(n),ke(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(Ke(o),He(o)),r.g=a}else nn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Kt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Kt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Se(),Ke(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var s=r.length,a=4==Kt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,ke(12),Ge(this),We(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,ke(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,ke(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,ke(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),We(this)}else Ie(this.i,this.l,o,null),Qe(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Kt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Ge(this),We(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ge(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),ke(17)),Ge(this),this.s=2,We(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Nt(this,t),Ct(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,xt)),e.join("")};var pt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Nt(e,t){Et(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return Et(e),t=kt(e,t),e.g.has(t)}function Ct(e,t,n){Nt(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Tt(){this.g=new fe}function jt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Nk){throw t.push(r+"type="+encodeURIComponent("_badmap")),Nk}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){Et(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,St(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(It,me),It.prototype.g=function(){return new Pt(this.l,this.j)},It.prototype.i=(pt={},function(){return pt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Ot(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ht(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Kt(e)||2!=e.Z()))if(e.u&&4==Kt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Kt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Kt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Nk){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Kt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}dn(e)}function Xt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function $t(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||I(),T||(_(),T=!0),j.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{jt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||I(),T||(_(),T=!0),j.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new _e(r,n)),$t(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new je;if(i.Image){const r=new Image;r.onload=u(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=u(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(_t,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout(()=>{n.abort(),_t(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)}).catch(()=>{clearTimeout(r),_t(0,0,!1,t)})}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),dn(e),Jt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function mn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?pe(this.o):pe(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Xt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&$t(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,mn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ua=za.createWebChannelTransport=function(){return new pn},Fa=za.getStatEventTarget=function(){return Ee()},Ma=za.Event=xe,La=za.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Da=za.ErrorCode=Ae,Re.COMPLETE="complete",Oa=za.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ra=za.WebChannel=ge,za.FetchXmlHttpFactory=It,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Aa=za.XhrIo=Mt}).apply("undefined"!==typeof Va?Va:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ba="@firebase/firestore",Ha="4.9.0";class qa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qa.UNAUTHENTICATED=new qa(null),qa.GOOGLE_CREDENTIALS=new qa("google-credentials-uid"),qa.FIRST_PARTY=new qa("first-party-uid"),qa.MOCK_USER=new qa("mock-user");let Ka="12.0.0";const Wa=new Mt("@firebase/firestore");function Ga(){return Wa.logLevel}function Qa(e){if(Wa.logLevel<=At.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ja);Wa.debug("Firestore (".concat(Ka,"): ").concat(e),...i)}}function Ya(e){if(Wa.logLevel<=At.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ja);Wa.error("Firestore (".concat(Ka,"): ").concat(e),...i)}}function Xa(e){if(Wa.logLevel<=At.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ja);Wa.warn("Firestore (".concat(Ka,"): ").concat(e),...i)}}function Ja(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function $a(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Za(e,r,n)}function Za(e,t,n){let r="FIRESTORE (".concat(Ka,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Ya(r),new Error(r)}function eo(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Za(t,i,r)}function to(e,t){return e}const no={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ro extends gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class io{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class so{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ao{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qa.UNAUTHENTICATED))}shutdown(){}}class oo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lo{constructor(e){this.t=e,this.currentUser=qa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){eo(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new io;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new io,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Qa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Qa("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new io)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Qa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(eo("string"==typeof t.accessToken,31837,{l:t}),new so(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return eo(null===e||"string"==typeof e,2055,{h:e}),new qa(e)}}class co{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=qa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uo{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new co(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ho{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fo{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){eo(void 0===this.o,3512);const n=e=>{null!=e.error&&Qa("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Qa("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Qa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Qa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ho(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(eo("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new ho(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class po{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=mo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function go(e,t){return e<t?-1:e>t?1:0}function vo(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return xo(n)===xo(i)?go(n,i):xo(n)?1:-1}return go(e.length,t.length)}const yo=55296,bo=57343;function xo(e){const t=e.charCodeAt(0);return t>=yo&&t<=bo}function wo(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Eo="__name__";class No{constructor(e,t,n){void 0===t?t=0:t>e.length&&$a(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&$a(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===No.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof No?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=No.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return go(e.length,t.length)}static compareSegments(e,t){const n=No.isNumericId(e),r=No.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?No.extractNumericId(e).compare(No.extractNumericId(t)):vo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class So extends No{construct(e,t,n){return new So(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ro(no.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new So(e)}static emptyPath(){return new So([])}}const Co=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ko extends No{construct(e,t,n){return new ko(e,t,n)}static isValidIdentifier(e){return Co.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ko.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Eo}static keyField(){return new ko([Eo])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ro(no.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ro(no.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ro(no.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ro(no.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ko(t)}static emptyPath(){return new ko([])}}class _o{constructor(e){this.path=e}static fromPath(e){return new _o(So.fromString(e))}static fromName(e){return new _o(So.fromString(e).popFirst(5))}static empty(){return new _o(So.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===So.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return So.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _o(new So(e.slice()))}}function To(e,t,n){if(!n)throw new ro(no.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jo(e){if(!_o.isDocumentKey(e))throw new ro(no.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Io(e){if(_o.isDocumentKey(e))throw new ro(no.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Po(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Ao(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":$a(12329,{type:typeof e})}function Ro(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ro(no.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ao(e);throw new ro(no.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Oo(e,t){if(t<=0)throw new ro(no.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function Do(e,t){const n={typeString:e};return t&&(n.value=t),n}function Lo(e,t){if(!Po(e))throw new ro(no.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&a!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new ro(no.INVALID_ARGUMENT,n);return!0}const Mo=-62135596800,Fo=1e6;class Uo{static now(){return Uo.fromMillis(Date.now())}static fromDate(e){return Uo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Fo);return new Uo(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ro(no.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ro(no.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Mo)throw new ro(no.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ro(no.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fo}_compareTo(e){return this.seconds===e.seconds?go(this.nanoseconds,e.nanoseconds):go(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Uo._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lo(e,Uo._jsonSchema))return new Uo(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mo;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Uo._jsonSchemaVersion="firestore/timestamp/1.0",Uo._jsonSchema={type:Do("string",Uo._jsonSchemaVersion),seconds:Do("number"),nanoseconds:Do("number")};class Vo{static fromTimestamp(e){return new Vo(e)}static min(){return new Vo(new Uo(0,0))}static max(){return new Vo(new Uo(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zo=-1;class Bo{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Bo.UNKNOWN_ID=-1;function Ho(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vo.fromTimestamp(1e9===r?new Uo(n+1,0):new Uo(n,r));return new Ko(i,_o.empty(),t)}function qo(e){return new Ko(e.readTime,e.key,zo)}class Ko{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ko(Vo.min(),_o.empty(),zo)}static max(){return new Ko(Vo.max(),_o.empty(),zo)}}function Wo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=_o.comparator(e.documentKey,t.documentKey),0!==n?n:go(e.largestBatchId,t.largestBatchId))}const Go="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Yo(e){if(e.code!==no.FAILED_PRECONDITION||e.message!==Go)throw e;Qa("LocalStore","Unexpectedly lost primary lease")}class Xo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$a(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xo((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Xo?t:Xo.resolve(t)}catch(e){return Xo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Xo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Xo.reject(t)}static resolve(e){return new Xo((t,n)=>{t(e)})}static reject(e){return new Xo((t,n)=>{n(e)})}static waitFor(e){return new Xo((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Xo.resolve(!1);for(const n of e)t=t.next(e=>e?Xo.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Xo((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Xo((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Jo(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(e){return"IndexedDbTransactionError"===e.name}class Zo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zo.ce=-1;const el=-1;function tl(e){return null==e}function nl(e){return 0===e&&1/e==-1/0}function rl(e){return"number"==typeof e&&Number.isInteger(e)&&!nl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const il="\x01";function sl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ol(t)),t=al(e.get(n),t);return ol(t)}function al(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case il:n+="\x01\x11";break;default:n+=t}}return n}function ol(e){return e+il+"\x01"}const ll="remoteDocuments",cl="owner",ul="mutationQueues",dl="mutations";const hl="documentMutations",fl="remoteDocumentsV14",ml="remoteDocumentGlobal",pl="targets",gl="targetDocuments",vl="targetGlobal",yl="collectionParents",bl="clientMetadata",xl="bundles",wl="namedQueries",El="indexConfiguration",Nl="indexState",Sl="indexEntries",Cl="documentOverlays",kl="globals",_l=[ul,dl,hl,ll,pl,cl,vl,gl,bl,ml,yl,xl,wl],Tl=[ul,dl,hl,fl,pl,cl,vl,gl,bl,ml,yl,xl,wl,Cl],jl=Tl,Il=[...jl,El,Nl,Sl];function Pl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Al(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ol{constructor(e,t){this.comparator=e,this.root=t||Ll.EMPTY}insert(e,t){return new Ol(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ll.BLACK,null,null))}remove(e){return new Ol(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ll.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dl(this.root,e,this.comparator,!0)}}class Dl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ll{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ll.RED,this.left=null!=r?r:Ll.EMPTY,this.right=null!=i?i:Ll.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ll(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ll.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ll.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ll.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ll.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $a(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $a(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $a(27949);return e+(this.isRed()?0:1)}}Ll.EMPTY=null,Ll.RED=!0,Ll.BLACK=!1,Ll.EMPTY=new class{constructor(){this.size=0}get key(){throw $a(57766)}get value(){throw $a(16141)}get color(){throw $a(16727)}get left(){throw $a(29726)}get right(){throw $a(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ll(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ml{constructor(e){this.comparator=e,this.data=new Ol(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fl(this.data.getIterator())}getIteratorFrom(e){return new Fl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ml))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ml(this.comparator);return t.data=e,t}}class Fl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ul{constructor(e){this.fields=e,e.sort(ko.comparator)}static empty(){return new Ul([])}unionWith(e){let t=new Ml(ko.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ul(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Vl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Vl("Invalid base64 string: "+e):e}}(e);return new zl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new zl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return go(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zl.EMPTY_BYTE_STRING=new zl("");const Bl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hl(e){if(eo(!!e,39018),"string"==typeof e){let t=0;const n=Bl.exec(e);if(eo(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ql(e.seconds),nanos:ql(e.nanos)}}function ql(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kl(e){return"string"==typeof e?zl.fromBase64String(e):zl.fromUint8Array(e)}const Wl="server_timestamp",Gl="__type__",Ql="__previous_value__",Yl="__local_write_time__";function Xl(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Gl])||void 0===t?void 0:t.stringValue)===Wl}function Jl(e){const t=e.mapValue.fields[Ql];return Xl(t)?Jl(t):t}function $l(e){const t=Hl(e.mapValue.fields[Yl].timestampValue);return new Uo(t.seconds,t.nanos)}class Zl{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const ec="(default)";class tc{constructor(e,t){this.projectId=e,this.database=t||ec}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}const nc="__type__",rc="__max__",ic={mapValue:{fields:{__type__:{stringValue:rc}}}},sc="__vector__",ac="value";function oc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xl(e)?4:Sc(e)?9007199254740991:Ec(e)?10:11:$a(28295,{value:e})}function lc(e,t){if(e===t)return!0;const n=oc(e);if(n!==oc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $l(e).isEqual($l(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Hl(e.timestampValue),r=Hl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kl(e.bytesValue).isEqual(Kl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ql(e.geoPointValue.latitude)===ql(t.geoPointValue.latitude)&&ql(e.geoPointValue.longitude)===ql(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ql(e.integerValue)===ql(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ql(e.doubleValue),r=ql(t.doubleValue);return n===r?nl(n)===nl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wo(e.arrayValue.values||[],t.arrayValue.values||[],lc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pl(n)!==Pl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!lc(n[i],r[i])))return!1;return!0}(e,t);default:return $a(52216,{left:e})}}function cc(e,t){return void 0!==(e.values||[]).find(e=>lc(e,t))}function uc(e,t){if(e===t)return 0;const n=oc(e),r=oc(t);if(n!==r)return go(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return go(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ql(e.integerValue||e.doubleValue),r=ql(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dc(e.timestampValue,t.timestampValue);case 4:return dc($l(e),$l(t));case 5:return vo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Kl(e),r=Kl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=go(n[i],r[i]);if(0!==e)return e}return go(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=go(ql(e.latitude),ql(t.latitude));return 0!==n?n:go(ql(e.longitude),ql(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return hc(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,s){const a=e.fields||{},o=t.fields||{},l=null===(n=a[ac])||void 0===n?void 0:n.arrayValue,c=null===(r=o[ac])||void 0===r?void 0:r.arrayValue,u=go((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:hc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ic.mapValue&&t===ic.mapValue)return 0;if(e===ic.mapValue)return 1;if(t===ic.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=vo(r[a],s[a]);if(0!==e)return e;const t=uc(n[r[a]],i[s[a]]);if(0!==t)return t}return go(r.length,s.length)}(e.mapValue,t.mapValue);default:throw $a(23264,{he:n})}}function dc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return go(e,t);const n=Hl(e),r=Hl(t),i=go(n.seconds,r.seconds);return 0!==i?i:go(n.nanos,r.nanos)}function hc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=uc(n[i],r[i]);if(e)return e}return go(n.length,r.length)}function fc(e){return mc(e)}function mc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Hl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Kl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return _o.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=mc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(mc(e.fields[i]));return n+"}"}(e.mapValue):$a(61005,{value:e})}function pc(e){switch(oc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jl(e);return t?16+pc(t):16;case 5:return 2*e.stringValue.length;case 6:return Kl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+pc(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Al(e.fields,(e,n)=>{t+=e.length+pc(n)}),t}(e.mapValue);default:throw $a(13486,{value:e})}}function gc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function vc(e){return!!e&&"integerValue"in e}function yc(e){return!!e&&"arrayValue"in e}function bc(e){return!!e&&"nullValue"in e}function xc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wc(e){return!!e&&"mapValue"in e}function Ec(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[nc])||void 0===t?void 0:t.stringValue)===sc}function Nc(e){if(e.geoPointValue)return{geoPointValue:Re({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Re({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Al(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Nc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nc(e.arrayValue.values[n]);return t}return Re({},e)}function Sc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===rc}class Cc{constructor(e){this.value=e}static empty(){return new Cc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(t)}setAll(e){let t=ko.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Nc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());wc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];wc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Al(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Cc(Nc(this.value))}}function kc(e){const t=[];return Al(e.fields,(e,n)=>{const r=new ko([e]);if(wc(n)){const e=kc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Ul(t)}class _c{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new _c(e,0,Vo.min(),Vo.min(),Vo.min(),Cc.empty(),0)}static newFoundDocument(e,t,n,r){return new _c(e,1,t,Vo.min(),n,r,0)}static newNoDocument(e,t){return new _c(e,2,t,Vo.min(),Vo.min(),Cc.empty(),0)}static newUnknownDocument(e,t){return new _c(e,3,t,Vo.min(),Vo.min(),Cc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Vo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _c&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _c(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Tc{constructor(e,t){this.position=e,this.inclusive=t}}function jc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?_o.comparator(_o.fromName(a.referenceValue),n.key):uc(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ic(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!lc(e.position[n],t.position[n]))return!1;return!0}class Pc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ac(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Rc{}class Oc extends Rc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Bc(e,t,n):"array-contains"===t?new Wc(e,n):"in"===t?new Gc(e,n):"not-in"===t?new Qc(e,n):"array-contains-any"===t?new Yc(e,n):new Oc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Hc(e,n):new qc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(uc(t,this.value)):null!==t&&oc(this.value)===oc(t)&&this.matchesComparison(uc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $a(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dc extends Rc{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Dc(e,t)}matches(e){return Lc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lc(e){return"and"===e.op}function Mc(e){return Fc(e)&&Lc(e)}function Fc(e){for(const t of e.filters)if(t instanceof Dc)return!1;return!0}function Uc(e){if(e instanceof Oc)return e.field.canonicalString()+e.op.toString()+fc(e.value);if(Mc(e))return e.filters.map(e=>Uc(e)).join(",");{const t=e.filters.map(e=>Uc(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Vc(e,t){return e instanceof Oc?function(e,t){return t instanceof Oc&&e.op===t.op&&e.field.isEqual(t.field)&&lc(e.value,t.value)}(e,t):e instanceof Dc?function(e,t){return t instanceof Dc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Vc(n,t.filters[r]),!0)}(e,t):void $a(19439)}function zc(e){return e instanceof Oc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(fc(e.value))}(e):e instanceof Dc?function(e){return e.op.toString()+" {"+e.getFilters().map(zc).join(" ,")+"}"}(e):"Filter"}class Bc extends Oc{constructor(e,t,n){super(e,t,n),this.key=_o.fromName(n.referenceValue)}matches(e){const t=_o.comparator(e.key,this.key);return this.matchesComparison(t)}}class Hc extends Oc{constructor(e,t){super(e,"in",t),this.keys=Kc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qc extends Oc{constructor(e,t){super(e,"not-in",t),this.keys=Kc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>_o.fromName(e.referenceValue))}class Wc extends Oc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yc(t)&&cc(t.arrayValue,this.value)}}class Gc extends Oc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cc(this.value.arrayValue,t)}}class Qc extends Oc{constructor(e,t){super(e,"not-in",t)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!cc(this.value.arrayValue,t)}}class Yc extends Oc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>cc(this.value.arrayValue,e))}}class Xc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function Jc(e){return new Xc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function $c(e){const t=to(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Uc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),tl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>fc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>fc(e)).join(",")),t.Te=e}return t.Te}function Zc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ac(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Vc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ic(e.startAt,t.startAt)&&Ic(e.endAt,t.endAt)}function eu(e){return _o.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class tu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nu(e,t,n,r,i,s,a,o){return new tu(e,t,n,r,i,s,a,o)}function ru(e){return new tu(e)}function iu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function su(e){return null!==e.collectionGroup}function au(e){const t=to(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ml(ko.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Pc(r,n))}),e.has(ko.keyField().canonicalString())||t.Ie.push(new Pc(ko.keyField(),n))}return t.Ie}function ou(e){const t=to(e);return t.Ee||(t.Ee=lu(t,au(e))),t.Ee}function lu(e,t){if("F"===e.limitType)return Jc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Pc(e.field,t)});const n=e.endAt?new Tc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Tc(e.startAt.position,e.startAt.inclusive):null;return Jc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function cu(e,t){const n=e.filters.concat([t]);return new tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function uu(e,t,n){return new tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function du(e,t){return Zc(ou(e),ou(t))&&e.limitType===t.limitType}function hu(e){return"".concat($c(ou(e)),"|lt:").concat(e.limitType)}function fu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>zc(e)).join(", "),"]")),tl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>fc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>fc(e)).join(",")),"Target(".concat(t,")")}(ou(e)),"; limitType=").concat(e.limitType,")")}function mu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_o.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of au(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=jc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,au(e),t))&&!(e.endAt&&!function(e,t,n){const r=jc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,au(e),t))}(e,t)}function pu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gu(e){return(t,n)=>{let r=!1;for(const i of au(e)){const e=vu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function vu(e,t,n){const r=e.field.isKeyField()?_o.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?uc(r,i):$a(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $a(19790,{direction:e.dir})}}class yu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Al(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Rl(this.inner)}size(){return this.innerSize}}const bu=new Ol(_o.comparator);function xu(){return bu}const wu=new Ol(_o.comparator);function Eu(){let e=wu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Nu(e){let t=wu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Su(){return ku()}function Cu(){return ku()}function ku(){return new yu(e=>e.toString(),(e,t)=>e.isEqual(t))}const _u=new Ol(_o.comparator),Tu=new Ml(_o.comparator);function ju(){let e=Tu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Iu=new Ml(go);function Pu(){return Iu}function Au(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nl(t)?"-0":t}}function Ru(e){return{integerValue:""+e}}function Ou(e,t){return rl(t)?Ru(t):Au(e,t)}class Du{constructor(){this._=void 0}}function Lu(e,t,n){return e instanceof Uu?function(e,t){const n={fields:{[Gl]:{stringValue:Wl},[Yl]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Xl(t)&&(t=Jl(t)),t&&(n.fields[Ql]=t),{mapValue:n}}(n,t):e instanceof Vu?zu(e,t):e instanceof Bu?Hu(e,t):function(e,t){const n=Fu(e,t),r=Ku(n)+Ku(e.Ae);return vc(n)&&vc(e.Ae)?Ru(r):Au(e.serializer,r)}(e,t)}function Mu(e,t,n){return e instanceof Vu?zu(e,t):e instanceof Bu?Hu(e,t):n}function Fu(e,t){return e instanceof qu?function(e){return vc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Uu extends Du{}class Vu extends Du{constructor(e){super(),this.elements=e}}function zu(e,t){const n=Wu(t);for(const r of e.elements)n.some(e=>lc(e,r))||n.push(r);return{arrayValue:{values:n}}}class Bu extends Du{constructor(e){super(),this.elements=e}}function Hu(e,t){let n=Wu(t);for(const r of e.elements)n=n.filter(e=>!lc(e,r));return{arrayValue:{values:n}}}class qu extends Du{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ku(e){return ql(e.integerValue||e.doubleValue)}function Wu(e){return yc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Gu{constructor(e,t){this.version=e,this.transformResults=t}}class Qu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qu}static exists(e){return new Qu(void 0,e)}static updateTime(e){return new Qu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Xu{}function Ju(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new od(e.key,Qu.none()):new nd(e.key,e.data,Qu.none());{const n=e.data,r=Cc.empty();let i=new Ml(ko.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new rd(e.key,r,new Ul(i.toArray()),Qu.none())}}function $u(e,t,n){e instanceof nd?function(e,t,n){const r=e.value.clone(),i=sd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rd?function(e,t,n){if(!Yu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=sd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(id(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zu(e,t,n,r){return e instanceof nd?function(e,t,n,r){if(!Yu(e.precondition,t))return n;const i=e.value.clone(),s=ad(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rd?function(e,t,n,r){if(!Yu(e.precondition,t))return n;const i=ad(e.fieldTransforms,r,t),s=t.data;return s.setAll(id(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Yu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ed(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Fu(r.transform,e||null);null!=i&&(null===n&&(n=Cc.empty()),n.set(r.field,i))}return n||null}function td(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&wo(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vu&&t instanceof Vu||e instanceof Bu&&t instanceof Bu?wo(e.elements,t.elements,lc):e instanceof qu&&t instanceof qu?lc(e.Ae,t.Ae):e instanceof Uu&&t instanceof Uu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nd extends Xu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rd extends Xu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function id(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function sd(e,t,n){const r=new Map;eo(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Mu(a,o,n[i]))}return r}function ad(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Lu(e,s,t))}return r}class od extends Xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ld extends Xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&$u(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Zu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Zu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Cu();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Ju(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Vo.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ju())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(e,t)=>td(e,t))&&wo(this.baseMutations,e.baseMutations,(e,t)=>td(e,t))}}class ud{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){eo(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=_u;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ud(e,t,n,r)}}class dd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class hd{constructor(e,t){this.count=e,this.unchangedNames=t}}var fd,md;function pd(e){switch(e){case no.OK:return $a(64938);case no.CANCELLED:case no.UNKNOWN:case no.DEADLINE_EXCEEDED:case no.RESOURCE_EXHAUSTED:case no.INTERNAL:case no.UNAVAILABLE:case no.UNAUTHENTICATED:return!1;case no.INVALID_ARGUMENT:case no.NOT_FOUND:case no.ALREADY_EXISTS:case no.PERMISSION_DENIED:case no.FAILED_PRECONDITION:case no.ABORTED:case no.OUT_OF_RANGE:case no.UNIMPLEMENTED:case no.DATA_LOSS:return!0;default:return $a(15467,{code:e})}}function gd(e){if(void 0===e)return Ya("GRPC error has no .code"),no.UNKNOWN;switch(e){case fd.OK:return no.OK;case fd.CANCELLED:return no.CANCELLED;case fd.UNKNOWN:return no.UNKNOWN;case fd.DEADLINE_EXCEEDED:return no.DEADLINE_EXCEEDED;case fd.RESOURCE_EXHAUSTED:return no.RESOURCE_EXHAUSTED;case fd.INTERNAL:return no.INTERNAL;case fd.UNAVAILABLE:return no.UNAVAILABLE;case fd.UNAUTHENTICATED:return no.UNAUTHENTICATED;case fd.INVALID_ARGUMENT:return no.INVALID_ARGUMENT;case fd.NOT_FOUND:return no.NOT_FOUND;case fd.ALREADY_EXISTS:return no.ALREADY_EXISTS;case fd.PERMISSION_DENIED:return no.PERMISSION_DENIED;case fd.FAILED_PRECONDITION:return no.FAILED_PRECONDITION;case fd.ABORTED:return no.ABORTED;case fd.OUT_OF_RANGE:return no.OUT_OF_RANGE;case fd.UNIMPLEMENTED:return no.UNIMPLEMENTED;case fd.DATA_LOSS:return no.DATA_LOSS;default:return $a(39323,{code:e})}}(md=fd||(fd={}))[md.OK=0]="OK",md[md.CANCELLED=1]="CANCELLED",md[md.UNKNOWN=2]="UNKNOWN",md[md.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",md[md.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",md[md.NOT_FOUND=5]="NOT_FOUND",md[md.ALREADY_EXISTS=6]="ALREADY_EXISTS",md[md.PERMISSION_DENIED=7]="PERMISSION_DENIED",md[md.UNAUTHENTICATED=16]="UNAUTHENTICATED",md[md.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",md[md.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",md[md.ABORTED=10]="ABORTED",md[md.OUT_OF_RANGE=11]="OUT_OF_RANGE",md[md.UNIMPLEMENTED=12]="UNIMPLEMENTED",md[md.INTERNAL=13]="INTERNAL",md[md.UNAVAILABLE=14]="UNAVAILABLE",md[md.DATA_LOSS=15]="DATA_LOSS";let vd=null;function yd(){return new TextEncoder}const bd=new Ta([4294967295,4294967295],0);function xd(e){const t=yd().encode(e),n=new ja;return n.update(t),new Uint8Array(n.digest())}function wd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ta([n,r],0),new Ta([i,s],0)]}class Ed{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Nd("Invalid padding: ".concat(t));if(n<0)throw new Nd("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Nd("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Nd("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Ta.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ta.fromNumber(n)));return 1===r.compare(bd)&&(r=new Ta([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=xd(e),[n,r]=wd(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ed(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=xd(e),[n,r]=wd(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Sd(Vo.min(),r,new Ol(go),xu(),ju())}}class Cd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cd(n,t,ju(),ju(),ju())}}class kd{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class _d{constructor(e,t){this.targetId=e,this.Ce=t}}class Td{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class jd{constructor(){this.ve=0,this.Fe=Ad(),this.Me=zl.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ju(),t=ju(),n=ju();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$a(38017,{changeType:i})}}),new Cd(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Ad()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,eo(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Id{constructor(e){this.Ge=e,this.ze=new Map,this.je=xu(),this.Je=Pd(),this.He=Pd(),this.Ye=new Ol(go)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:$a(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(eu(s))if(0===n){const e=new _o(s.path);this.et(t,e,_c.newNoDocument(e,Vo.min()))}else eo(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=vd)||void 0===i||i.lt(function(e,t,n,r,i,s,a,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(s=null===d||void 0===d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Kl(n).toUint8Array()}catch(e){if(e instanceof Vl)return Xa("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Ed(s,r,i)}catch(e){return Xa(e instanceof Nd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&eu(i.target)){const t=new _o(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,_c.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=ju();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Sd(e,t,this.Ye,this.je,n);return this.je=xu(),this.Je=Pd(),this.He=Pd(),this.Ye=new Ol(go),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new jd,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ml(go),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ml(go),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Qa("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jd),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Pd(){return new Ol(_o.comparator)}function Ad(){return new Ol(_o.comparator)}const Rd={asc:"ASCENDING",desc:"DESCENDING"},Od={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dd={and:"AND",or:"OR"};class Ld{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Md(e,t){return e.useProto3Json||tl(t)?t:{value:t}}function Fd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ud(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Vd(e,t){return Fd(e,t.toTimestamp())}function zd(e){return eo(!!e,49232),Vo.fromTimestamp(function(e){const t=Hl(e);return new Uo(t.seconds,t.nanos)}(e))}function Bd(e,t){return Hd(e,t).canonicalString()}function Hd(e,t){const n=function(e){return new So(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function qd(e){const t=So.fromString(e);return eo(uh(t),10190,{key:t.toString()}),t}function Kd(e,t){return Bd(e.databaseId,t.path)}function Wd(e,t){const n=qd(t);if(n.get(1)!==e.databaseId.projectId)throw new ro(no.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ro(no.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _o(Xd(n))}function Gd(e,t){return Bd(e.databaseId,t)}function Qd(e){const t=qd(e);return 4===t.length?So.emptyPath():Xd(t)}function Yd(e){return new So(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xd(e){return eo(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Jd(e,t,n){return{name:Kd(e,t),fields:n.value.mapValue.fields}}function $d(e,t){let n;if(t instanceof nd)n={update:Jd(e,t.key,t.value)};else if(t instanceof od)n={delete:Kd(e,t.key)};else if(t instanceof rd)n={update:Jd(e,t.key,t.data),updateMask:ch(t.fieldMask)};else{if(!(t instanceof ld))return $a(16599,{Vt:t.type});n={verify:Kd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Uu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qu)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw $a(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:$a(27497)}(e,t.precondition)),n}function Zd(e,t){return{documents:[Gd(e,t.path)]}}function eh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Gd(e,i);const s=function(e){if(0!==e.length)return lh(Dc.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ah(e.field),direction:rh(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Md(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function th(e){let t=Qd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){eo(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=nh(e);return t instanceof Dc&&Mc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Pc(oh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,tl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Tc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Tc(n,t)}(n.endAt)),nu(t,i,a,s,o,"F",l,c)}function nh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=oh(e.unaryFilter.field);return Oc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=oh(e.unaryFilter.field);return Oc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=oh(e.unaryFilter.field);return Oc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=oh(e.unaryFilter.field);return Oc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $a(61313);default:return $a(60726)}}(e):void 0!==e.fieldFilter?function(e){return Oc.create(oh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $a(58110);default:return $a(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Dc.create(e.compositeFilter.filters.map(e=>nh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return $a(1026)}}(e.compositeFilter.op))}(e):$a(30097,{filter:e})}function rh(e){return Rd[e]}function ih(e){return Od[e]}function sh(e){return Dd[e]}function ah(e){return{fieldPath:e.canonicalString()}}function oh(e){return ko.fromServerFormat(e.fieldPath)}function lh(e){return e instanceof Oc?function(e){if("=="===e.op){if(xc(e.value))return{unaryFilter:{field:ah(e.field),op:"IS_NAN"}};if(bc(e.value))return{unaryFilter:{field:ah(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xc(e.value))return{unaryFilter:{field:ah(e.field),op:"IS_NOT_NAN"}};if(bc(e.value))return{unaryFilter:{field:ah(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ah(e.field),op:ih(e.op),value:e.value}}}(e):e instanceof Dc?function(e){const t=e.getFilters().map(e=>lh(e));return 1===t.length?t[0]:{compositeFilter:{op:sh(e.op),filters:t}}}(e):$a(54877,{filter:e})}function ch(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function uh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class dh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vo.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vo.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:zl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new dh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hh{constructor(e){this.yt=e}}function fh(e){const t=th({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uu(t,t.limit,"L"):t}class mh{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ql(e.integerValue));else if("doubleValue"in e){const n=ql(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),nl(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Hl(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Kl(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Sc(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Ec(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):$a(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=ac,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(ql(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),_o.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}mh.Kt=new mh;class ph{constructor(){this.Cn=new gh}addToCollectionParentIndex(e,t){return this.Cn.add(t),Xo.resolve()}getCollectionParents(e,t){return Xo.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Xo.resolve()}deleteFieldIndex(e,t){return Xo.resolve()}deleteAllFieldIndexes(e){return Xo.resolve()}createTargetIndexes(e,t){return Xo.resolve()}getDocumentsMatchingTarget(e,t){return Xo.resolve(null)}getIndexType(e,t){return Xo.resolve(0)}getFieldIndexes(e,t){return Xo.resolve([])}getNextCollectionGroupToUpdate(e){return Xo.resolve(null)}getMinOffset(e,t){return Xo.resolve(Ko.min())}getMinOffsetFromCollectionGroup(e,t){return Xo.resolve(Ko.min())}updateCollectionGroup(e,t,n){return Xo.resolve()}updateIndexEntries(e,t){return Xo.resolve()}}class gh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ml(So.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ml(So.comparator)).toArray()}}new Uint8Array(0);const vh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yh=41943040;class bh{static withCacheSize(e){return new bh(e,bh.DEFAULT_COLLECTION_PERCENTILE,bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}bh.DEFAULT_COLLECTION_PERCENTILE=10,bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bh.DEFAULT=new bh(yh,bh.DEFAULT_COLLECTION_PERCENTILE,bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bh.DISABLED=new bh(-1,0,0);class xh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xh(0)}static cr(){return new xh(-1)}}const wh="LruGarbageCollector",Eh=1048576;function Nh(e,t){let[n,r]=e,[i,s]=t;const a=go(n,i);return 0===a?go(r,s):a}class Sh{constructor(e){this.Ir=e,this.buffer=new Ml(Nh),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Nh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ch{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Qa(wh,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){$o(e)?Qa(wh,"Ignoring IndexedDB error during garbage collection: ",e):await Yo(e)}await this.Vr(3e5)})}}class kh{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Xo.resolve(Zo.ce);const n=new Sh(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qa("LruGarbageCollector","Garbage collection skipped; disabled"),Xo.resolve(vh)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Qa("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),vh):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Qa("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Ga()<=At.DEBUG&&Qa("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Xo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function _h(e,t){return new kh(e,t)}class Th{constructor(){this.changes=new yu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_c.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Xo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ih{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Zu(n.mutation,e,Ul.empty(),Uo.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ju()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ju();const r=Su();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Eu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Su();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ju()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=xu();const s=ku(),a=ku();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof rd)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Zu(a.mutation,t,a.mutation.getFieldMask(),Uo.now())):s.set(t.key,Ul.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new jh(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=ku();let r=new Ol((e,t)=>e-t),i=ju();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Ul.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||ju()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Cu();l.forEach(e=>{if(!i.has(e)){const r=Ju(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Xo.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return _o.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):su(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Xo.resolve(Su());let a=zo,o=i;return s.next(t=>Xo.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Xo.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,ju())).next(e=>({batchId:a,changes:Nu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _o(t)).next(e=>{let t=Eu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Eu();return this.indexManager.getCollectionParents(e,i).next(a=>Xo.forEach(a,a=>{const o=function(e,t){return new tu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,_c.newInvalidDocument(r)))});let n=Eu();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Zu(s.mutation,r,Ul.empty(),Uo.now()),mu(t,r)&&(n=n.insert(e,r))}),n})}}class Ph{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Xo.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:zd(e.createTime)}}(t)),Xo.resolve()}getNamedQuery(e,t){return Xo.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:fh(e.bundledQuery),readTime:zd(e.readTime)}}(t)),Xo.resolve()}}class Ah{constructor(){this.overlays=new Ol(_o.comparator),this.qr=new Map}getOverlay(e,t){return Xo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Su();return Xo.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Xo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Xo.resolve()}getOverlaysForCollection(e,t,n){const r=Su(),i=t.length+1,s=new _o(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Xo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ol((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Su(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Su(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Xo.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new dd(t,n));let i=this.qr.get(t);void 0===i&&(i=ju(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Rh{constructor(){this.sessionToken=zl.EMPTY_BYTE_STRING}getSessionToken(e){return Xo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Xo.resolve()}}class Oh{constructor(){this.Qr=new Ml(Dh.$r),this.Ur=new Ml(Dh.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Dh(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Dh(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new _o(new So([])),n=new Dh(t,e),r=new Dh(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _o(new So([])),n=new Dh(t,e),r=new Dh(t,e+1);let i=ju();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Dh(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Dh{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _o.comparator(e.key,t.key)||go(e.Yr,t.Yr)}static Kr(e,t){return go(e.Yr,t.Yr)||_o.comparator(e.key,t.key)}}class Lh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ml(Dh.$r)}checkEmpty(e){return Xo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cd(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Zr=this.Zr.add(new Dh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Xo.resolve(s)}lookupMutationBatch(e,t){return Xo.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Xo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Xo.resolve(0===this.mutationQueue.length?el:this.tr-1)}getAllMutationBatches(e){return Xo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Dh(t,0),r=new Dh(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Xo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ml(go);return t.forEach(e=>{const t=new Dh(e,0),r=new Dh(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Xo.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;_o.isDocumentKey(i)||(i=i.child(""));const s=new Dh(new _o(i),0);let a=new Ml(go);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},s),Xo.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){eo(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Xo.forEach(t.mutations,r=>{const i=new Dh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Dh(t,0),r=this.Zr.firstAfterOrEqual(n);return Xo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xo.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mh{constructor(e){this.ri=e,this.docs=new Ol(_o.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Xo.resolve(n?n.document.mutableCopy():_c.newInvalidDocument(t))}getEntries(e,t){let n=xu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():_c.newInvalidDocument(e))}),Xo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=xu();const s=t.path,a=new _o(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Wo(qo(a),n)<=0||(r.has(a.key)||mu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Xo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){$a(9500)}ii(e,t){return Xo.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Fh(this)}getSize(e){return Xo.resolve(this.size)}}class Fh extends Th{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Xo.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Uh{constructor(e){this.persistence=e,this.si=new yu(e=>$c(e),Zc),this.lastRemoteSnapshotVersion=Vo.min(),this.highestTargetId=0,this.oi=0,this._i=new Oh,this.targetCount=0,this.ai=xh.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Xo.resolve()}getLastRemoteSnapshotVersion(e){return Xo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xo.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Xo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Xo.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new xh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Xo.resolve()}updateTargetData(e,t){return this.Pr(t),Xo.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Xo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Xo.waitFor(i).next(()=>r)}getTargetCount(e){return Xo.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Xo.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Xo.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Xo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Xo.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Xo.resolve(n)}containsKey(e,t){return Xo.resolve(this._i.containsKey(t))}}class Vh{constructor(e,t){this.ui={},this.overlays={},this.ci=new Zo(0),this.li=!1,this.li=!0,this.hi=new Rh,this.referenceDelegate=e(this),this.Pi=new Uh(this),this.indexManager=new ph,this.remoteDocumentCache=function(e){return new Mh(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new hh(t),this.Ii=new Ph(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ah,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Lh(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Qa("MemoryPersistence","Starting transaction:",e);const r=new zh(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Xo.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class zh extends Qo{constructor(e){super(),this.currentSequenceNumber=e}}class Bh{constructor(e){this.persistence=e,this.Ri=new Oh,this.Vi=null}static mi(e){return new Bh(e)}get fi(){if(this.Vi)return this.Vi;throw $a(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Xo.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Xo.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Xo.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xo.forEach(this.fi,n=>{const r=_o.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Vo.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Xo.or([()=>Xo.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Hh{constructor(e,t){this.persistence=e,this.pi=new yu(e=>sl(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=_h(this,t)}static mi(e,t){return new Hh(e,t)}Ei(){}di(e){return Xo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Xo.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Xo.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Vo.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Xo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Xo.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Xo.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Xo.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pc(e.data.value)),t}br(e,t,n){return Xo.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Xo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=ju(),r=ju();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new qh(e,t.fromCache,n,r)}}class Kh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wh{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=mt()?8:Jo(ht())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Kh;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Ga()<=At.DEBUG&&Qa("QueryEngine","SDK will not create cache indexes for query:",fu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Xo.resolve()):(Ga()<=At.DEBUG&&Qa("QueryEngine","Query:",fu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Ga()<=At.DEBUG&&Qa("QueryEngine","The SDK decides to create cache indexes for query:",fu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ou(t))):Xo.resolve())}ys(e,t){if(iu(t))return Xo.resolve(null);let n=ou(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=uu(t,null,"F"),n=ou(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=ju(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,uu(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return iu(t)||r.isEqual(Vo.min())?Xo.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?Xo.resolve(null):(Ga()<=At.DEBUG&&Qa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fu(t)),this.vs(e,s,t,Ho(r,zo)).next(e=>e))})}Ds(e,t){let n=new Ml(gu(e));return t.forEach((t,r)=>{mu(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Ga()<=At.DEBUG&&Qa("QueryEngine","Using full collection scan to execute query:",fu(t)),this.ps.getDocumentsMatchingQuery(e,t,Ko.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Gh="LocalStore";class Qh{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ol(go),this.xs=new yu(e=>$c(e),Zc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ih(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Yh(e,t,n,r){return new Qh(e,t,n,r)}async function Xh(e,t){const n=to(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=ju();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Jh(e){const t=to(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function $h(e,t,n){let r=ju(),i=ju();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=xu();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Vo.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Qa(Gh,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:r,qs:i}})}function Zh(e,t){const n=to(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=el),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function ef(e,t){const n=to(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Xo.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new dh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function tf(e,t,n){const r=to(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!$o(e))throw e;Qa(Gh,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function nf(e,t,n){const r=to(e);let i=Vo.min(),s=ju();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=to(e),i=r.xs.get(n);return void 0!==i?Xo.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,ou(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Vo.min(),n?s:ju())).next(e=>(rf(r,pu(t),e),{documents:e,Qs:s})))}function rf(e,t,n){let r=e.Os.get(t)||Vo.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class sf{constructor(){this.activeTargetIds=Pu()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class af{constructor(){this.Mo=new sf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class of{Oo(e){}shutdown(){}}const lf="ConnectivityMonitor";class cf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Qa(lf,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Qa(lf,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let uf=null;function df(){return null===uf?uf=268435456+Math.round(2147483648*Math.random()):uf++,"0x"+uf.toString(16)}const hf="RestConnection",ff={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mf{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===ec?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=df(),a=this.zo(e,t.toUriEncodedString());Qa(hf,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(a),c=ot(l);return this.Jo(e,a,o,n,c).then(t=>(Qa(hf,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw Xa(hf,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ka,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=ff[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class pf{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const gf="WebChannelConnection";class vf extends mf{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=df();return new Promise((i,a)=>{const o=new Aa;o.setWithCredentials(!0),o.listenOnce(Oa.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Da.NO_ERROR:const n=o.getResponseJson();Qa(gf,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case Da.TIMEOUT:Qa(gf,"RPC '".concat(e,"' ").concat(s," timed out")),a(new ro(no.DEADLINE_EXCEEDED,"Request time out"));break;case Da.HTTP_ERROR:const r=o.getStatus();if(Qa(gf,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(no).indexOf(t)>=0?t:no.UNKNOWN}(n.status);a(new ro(e,n.message))}else a(new ro(no.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ro(no.UNAVAILABLE,"Connection failed."));break;default:$a(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Qa(gf,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Qa(gf,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=df(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ua(),a=Fa(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Qa(gf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new pf({Yo:t=>{h?Qa(gf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Qa(gf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Qa(gf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,Ra.EventType.OPEN,()=>{h||(Qa(gf,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),m(u,Ra.EventType.CLOSE,()=>{h||(h=!0,Qa(gf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),m(u,Ra.EventType.ERROR,t=>{h||(h=!0,Xa(gf,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new ro(no.UNAVAILABLE,"The operation could not be completed")))}),m(u,Ra.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];eo(!!i,16349);const s=i,a=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Qa(gf,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=fd[e];if(void 0!==t)return gd(t)}(t),i=a.message;void 0===n&&(n=no.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.a_(new ro(n,i)),u.close()}else Qa(gf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),m(a,Ma.STAT_EVENT,t=>{t.stat===La.PROXY?Qa(gf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===La.NOPROXY&&Qa(gf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function yf(){return"undefined"!=typeof document?document:null}function bf(e){return new Ld(e,!0)}class xf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Qa("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const wf="PersistentStream";class Ef{constructor(e,t,n,r,i,s,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xf(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===no.RESOURCE_EXHAUSTED?(Ya(t.toString()),Ya("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===no.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new ro(no.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Qa(wf,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Qa(wf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nf extends Ef{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:$a(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(eo(void 0===t||"string"==typeof t,58123),zl.fromBase64String(t||"")):(eo(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),zl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?no.UNKNOWN:gd(e.code);return new ro(t,e.message||"")}(a);n=new Td(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wd(e,r.document.name),s=zd(r.document.updateTime),a=r.document.createTime?zd(r.document.createTime):Vo.min(),o=new Cc({mapValue:{fields:r.document.fields}}),l=_c.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new kd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Wd(e,r.document),s=r.readTime?zd(r.readTime):Vo.min(),a=_c.newNoDocument(i,s),o=r.removedTargetIds||[];n=new kd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Wd(e,r.document),s=r.removedTargetIds||[];n=new kd([],s,i,null)}else{if(!("filter"in t))return $a(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new hd(r,i),a=e.targetId;n=new _d(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Vo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Vo.min():t.readTime?zd(t.readTime):Vo.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Yd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=eu(r)?{documents:Zd(e,r)}:{query:eh(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ud(e,t.resumeToken);const r=Md(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Vo.min())>0){n.readTime=Fd(e,t.snapshotVersion.toTimestamp());const r=Md(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $a(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Yd(this.serializer),t.removeTarget=e,this.q_(t)}}class Sf extends Ef{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return eo(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,eo(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){eo(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(eo(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?zd(e.updateTime):zd(t);return n.isEqual(Vo.min())&&(n=zd(t)),new Gu(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=zd(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Yd(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>$d(this.serializer,e))};this.q_(t)}}class Cf{}class kf extends Cf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ro(no.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Go(e,Hd(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===no.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ro(no.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Ho(e,Hd(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===no.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ro(no.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _f{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Ya(t),this.aa=!1):Qa("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Tf="RemoteStore";class jf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Ff(this)&&(Qa(Tf,"Restarting streams for network reachability change."),await async function(e){const t=to(e);t.Ea.add(4),await Pf(t),t.Ra.set("Unknown"),t.Ea.delete(4),await If(t)}(this))})}),this.Ra=new _f(n,r)}}async function If(e){if(Ff(e))for(const t of e.da)await t(!0)}async function Pf(e){for(const t of e.da)await t(!1)}function Af(e,t){const n=to(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Mf(n)?Lf(n):rm(n).O_()&&Of(n,t))}function Rf(e,t){const n=to(e),r=rm(n);n.Ia.delete(t),r.O_()&&Df(n,t),0===n.Ia.size&&(r.O_()?r.L_():Ff(n)&&n.Ra.set("Unknown"))}function Of(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rm(e).Y_(t)}function Df(e,t){e.Va.Ue(t),rm(e).Z_(t)}function Lf(e){e.Va=new Id({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),rm(e).start(),e.Ra.ua()}function Mf(e){return Ff(e)&&!rm(e).x_()&&e.Ia.size>0}function Ff(e){return 0===to(e).Ea.size}function Uf(e){e.Va=void 0}async function Vf(e){e.Ra.set("Online")}async function zf(e){e.Ia.forEach((t,n)=>{Of(e,t)})}async function Bf(e,t){Uf(e),Mf(e)?(e.Ra.ha(t),Lf(e)):e.Ra.set("Unknown")}async function Hf(e,t,n){if(e.Ra.set("Online"),t instanceof Td&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Qa(Tf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await qf(e,n)}else if(t instanceof kd?e.Va.Ze(t):t instanceof _d?e.Va.st(t):e.Va.tt(t),!n.isEqual(Vo.min()))try{const t=await Jh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(zl.EMPTY_BYTE_STRING,r.snapshotVersion)),Df(e,t);const i=new dh(r.target,t,n,r.sequenceNumber);Of(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Qa(Tf,"Failed to raise snapshot:",t),await qf(e,t)}}async function qf(e,t,n){if(!$o(t))throw t;e.Ea.add(1),await Pf(e),e.Ra.set("Offline"),n||(n=()=>Jh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Qa(Tf,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await If(e)})}function Kf(e,t){return t().catch(n=>qf(e,n,t))}async function Wf(e){const t=to(e),n=im(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:el;for(;Gf(t);)try{const e=await Zh(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Qf(t,e)}catch(e){await qf(t,e)}Yf(t)&&Xf(t)}function Gf(e){return Ff(e)&&e.Ta.length<10}function Qf(e,t){e.Ta.push(t);const n=im(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Yf(e){return Ff(e)&&!im(e).x_()&&e.Ta.length>0}function Xf(e){im(e).start()}async function Jf(e){im(e).ra()}async function $f(e){const t=im(e);for(const n of e.Ta)t.ea(n.mutations)}async function Zf(e,t,n){const r=e.Ta.shift(),i=ud.from(r,t,n);await Kf(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Wf(e)}async function em(e,t){t&&im(e).X_&&await async function(e,t){if(function(e){return pd(e)&&e!==no.ABORTED}(t.code)){const n=e.Ta.shift();im(e).B_(),await Kf(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Wf(e)}}(e,t),Yf(e)&&Xf(e)}async function tm(e,t){const n=to(e);n.asyncQueue.verifyOperationInProgress(),Qa(Tf,"RemoteStore received new credentials");const r=Ff(n);n.Ea.add(3),await Pf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await If(n)}async function nm(e,t){const n=to(e);t?(n.Ea.delete(2),await If(n)):t||(n.Ea.add(2),await Pf(n),n.Ra.set("Unknown"))}function rm(e){return e.ma||(e.ma=function(e,t,n){const r=to(e);return r.sa(),new Nf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Vf.bind(null,e),t_:zf.bind(null,e),r_:Bf.bind(null,e),H_:Hf.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Mf(e)?Lf(e):e.Ra.set("Unknown")):(await e.ma.stop(),Uf(e))})),e.ma}function im(e){return e.fa||(e.fa=function(e,t,n){const r=to(e);return r.sa(),new Sf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Jf.bind(null,e),r_:em.bind(null,e),ta:$f.bind(null,e),na:Zf.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Wf(e)):(await e.fa.stop(),e.Ta.length>0&&(Qa(Tf,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class sm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new sm(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ro(no.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(e,t){if(Ya("AsyncQueue","".concat(t,": ").concat(e)),$o(e))return new ro(no.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class om{static emptySet(e){return new om(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||_o.comparator(t.key,n.key):(e,t)=>_o.comparator(e.key,t.key),this.keyedMap=Eu(),this.sortedSet=new Ol(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof om))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new om;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class lm{constructor(){this.ga=new Ol(_o.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):$a(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class cm{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new cm(e,t,om.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&du(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class um{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dm{constructor(){this.queries=hm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=to(e),r=n.queries;n.queries=hm(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new ro(no.ABORTED,"Firestore shutting down"))}}function hm(){return new yu(e=>hu(e),du)}async function fm(e,t){const n=to(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new um,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=am(e,"Initialization of query '".concat(fu(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&vm(n)}async function mm(e,t){const n=to(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pm(e,t){const n=to(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&vm(n)}function gm(e,t,n){const r=to(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function vm(e){e.Ca.forEach(e=>{e.next()})}var ym,bm;(bm=ym||(ym={})).Ma="default",bm.Cache="cache";class xm{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new cm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=cm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}class wm{constructor(e){this.key=e}}class Em{constructor(e){this.key=e}}class Nm{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ju(),this.mutatedKeys=ju(),this.eu=gu(e),this.tu=new om(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new lm,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=mu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $a(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new cm(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ju(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Em(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new wm(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=ju();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return cm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Sm="SyncEngine";class Cm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class km{constructor(e){this.key=e,this.hu=!1}}class _m{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new yu(e=>hu(e),du),this.Iu=new Map,this.Eu=new Set,this.du=new Ol(_o.comparator),this.Au=new Map,this.Ru=new Oh,this.Vu={},this.mu=new Map,this.fu=xh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Tm(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ym(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Im(r,t,n,!0),i}async function jm(e,t){const n=Ym(e);await Im(n,t,!0,!1)}async function Im(e,t,n,r){const i=await ef(e.localStore,ou(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Pm(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Af(e.remoteStore,i),o}async function Pm(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await nf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Hm(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await nf(e.localStore,t,!0),a=new Nm(t,s.Qs),o=a.ru(s.documents),l=Cd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Hm(e,n,c.au);const u=new Cm(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Am(e,t,n){const r=to(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!du(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rf(r.remoteStore,i.targetId),zm(r,i.targetId)}).catch(Yo)):(zm(r,i.targetId),await tf(r.localStore,i.targetId,!0))}async function Rm(e,t){const n=to(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rf(n.remoteStore,r.targetId))}async function Om(e,t){const n=to(e);try{const e=await function(e,t){const n=to(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(zl.EMPTY_BYTE_STRING,Vo.min()).withLastLimboFreeSnapshotVersion(Vo.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=xu(),l=ju();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push($h(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(Vo.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Xo.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(eo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?eo(r.hu,14607):e.removedDocuments.size>0&&(eo(r.hu,42227),r.hu=!1))}),await Wm(n,e,t)}catch(e){await Yo(e)}}function Dm(e,t,n){const r=to(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=to(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&vm(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Lm(e,t,n){const r=to(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new Ol(_o.comparator);e=e.insert(s,_c.newNoDocument(s,Vo.min()));const n=ju().add(s),i=new Sd(Vo.min(),new Map,new Ol(go),e,n);await Om(r,i),r.du=r.du.remove(s),r.Au.delete(t),Km(r)}else await tf(r.localStore,t,!1).then(()=>zm(r,t,n)).catch(Yo)}async function Mm(e,t){const n=to(e),r=t.batch.batchId;try{const e=await function(e,t){const n=to(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Xo.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);eo(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ju();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Vm(n,r,null),Um(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wm(n,e)}catch(e){await Yo(e)}}async function Fm(e,t,n){const r=to(e);try{const e=await function(e,t){const n=to(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(eo(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Vm(r,t,n),Um(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Wm(r,e)}catch(n){await Yo(n)}}function Um(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Vm(e,t,n){const r=to(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function zm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Bm(e,t)})}function Bm(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Rf(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Km(e))}function Hm(e,t,n){for(const r of n)r instanceof wm?(e.Ru.addReference(r.key,t),qm(e,r)):r instanceof Em?(Qa(Sm,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Bm(e,r.key)):$a(19791,{wu:r})}function qm(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Qa(Sm,"New document in limbo: "+n),e.Eu.add(r),Km(e))}function Km(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new _o(So.fromString(t)),r=e.fu.next();e.Au.set(r,new km(n)),e.du=e.du.insert(n,r),Af(e.remoteStore,new dh(ou(ru(n.path)),r,"TargetPurposeLimboResolution",Zo.ce))}}async function Wm(e,t,n){const r=to(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=qh.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=to(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Xo.forEach(t,t=>Xo.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Xo.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!$o(e))throw e;Qa(Gh,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function Gm(e,t){const n=to(e);if(!n.currentUser.isEqual(t)){Qa(Sm,"User change. New user:",t.toKey());const e=await Xh(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new ro(no.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Wm(n,e.Ls)}}function Qm(e,t){const n=to(e),r=n.Au.get(t);if(r&&r.hu)return ju().add(r.key);{let e=ju();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Ym(e){const t=to(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Om.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lm.bind(null,t),t.Pu.H_=pm.bind(null,t.eventManager),t.Pu.yu=gm.bind(null,t.eventManager),t}function Xm(e){const t=to(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Mm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fm.bind(null,t),t}class Jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Yh(this.persistence,new Wh,e.initialUser,this.serializer)}Cu(e){return new Vh(Bh.mi,this.serializer)}Du(e){return new af}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jm.provider={build:()=>new Jm};class $m extends Jm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){eo(this.persistence.referenceDelegate instanceof Hh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ch(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?bh.withCacheSize(this.cacheSizeBytes):bh.DEFAULT;return new Vh(e=>Hh.mi(e,t),this.serializer)}}class Zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Dm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gm.bind(null,this.syncEngine),await nm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new dm}createDatastore(e){const t=bf(e.databaseInfo.databaseId),n=function(e){return new vf(e)}(e.databaseInfo);return function(e,t,n,r){return new kf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new jf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Dm(this.syncEngine,e,0),cf.v()?new cf:new of)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new _m(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=to(e);Qa(Tf,"RemoteStore shutting down."),t.Ea.add(5),await Pf(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Zm.provider={build:()=>new Zm};class ep{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ya("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const tp="FirestoreClient";class np{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=qa.UNAUTHENTICATED,this.clientId=po.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Qa(tp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Qa(tp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=am(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function rp(e,t){e.asyncQueue.verifyOperationInProgress(),Qa(tp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Xh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ip(e,t){e.asyncQueue.verifyOperationInProgress();const n=await sp(e);Qa(tp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>tm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>tm(t.remoteStore,n)),e._onlineComponents=t}async function sp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Qa(tp,"Using user provided OfflineComponentProvider");try{await rp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===no.FAILED_PRECONDITION||e.code===no.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),await rp(e,new Jm)}}else Qa(tp,"Using default OfflineComponentProvider"),await rp(e,new $m(void 0));return e._offlineComponents}async function ap(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Qa(tp,"Using user provided OnlineComponentProvider"),await ip(e,e._uninitializedComponentsProvider._online)):(Qa(tp,"Using default OnlineComponentProvider"),await ip(e,new Zm))),e._onlineComponents}function op(e){return ap(e).then(e=>e.syncEngine)}async function lp(e){const t=await ap(e),n=t.eventManager;return n.onListen=Tm.bind(null,t.syncEngine),n.onUnlisten=Am.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=jm.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Rm.bind(null,t.syncEngine),n}function cp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new io;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new ep({next:o=>{s.Nu(),t.enqueueAndForget(()=>mm(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new ro(no.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new ro(no.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new xm(ru(n.path),s,{includeMetadataChanges:!0,qa:!0});return fm(e,a)}(await lp(e),e.asyncQueue,t,n,r)),r.promise}function up(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new io;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new ep({next:n=>{s.Nu(),t.enqueueAndForget(()=>mm(e,a)),n.fromCache&&"server"===r.source?i.reject(new ro(no.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new xm(n,s,{includeMetadataChanges:!0,qa:!0});return fm(e,a)}(await lp(e),e.asyncQueue,t,n,r)),r.promise}function dp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const hp=new Map,fp="firestore.googleapis.com",mp=!0;class pp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ro(no.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fp,this.ssl=mp}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:mp;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=yh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Eh)throw new ro(no.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ro(no.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ro(no.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ro(no.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ro(no.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ro(no.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ro(no.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ao;switch(e.type){case"firstParty":return new uo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ro(no.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hp.get(e);t&&(Qa("ComponentProvider","Removing Datastore"),hp.delete(e),t.terminate())}(this),Promise.resolve()}}function vp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Ro(e,gp);const i=ot(t),s=e._getSettings(),a=Re(Re({},s),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);i&&(lt("https://".concat(o)),dt("Firestore",!0)),s.host!==fp&&s.host!==o&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Re(Re({},s),{},{host:o,ssl:i,emulatorOptions:r});if(!bt(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=qa.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Re({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ro(no.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new qa(i)}e._authCredentials=new oo(new so(t,n))}}class yp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new yp(this.firestore,e,this._query)}}class bp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bp(this.firestore,e,this._key)}toJSON(){return{type:bp._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Lo(t,bp._jsonSchema))return new bp(e,n||null,new _o(So.fromString(t.referencePath)))}}bp._jsonSchemaVersion="firestore/documentReference/1.0",bp._jsonSchema={type:Do("string",bp._jsonSchemaVersion),referencePath:Do("string")};class xp extends yp{constructor(e,t,n){super(e,t,ru(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bp(this.firestore,null,new _o(e))}withConverter(e){return new xp(this.firestore,e,this._path)}}function wp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kt(e),To("collection","path",t),e instanceof gp){const n=So.fromString(t,...r);return Io(n),new xp(e,null,n)}{if(!(e instanceof bp||e instanceof xp))throw new ro(no.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(So.fromString(t,...r));return Io(n),new xp(e.firestore,null,n)}}function Ep(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kt(e),1===arguments.length&&(t=po.newId()),To("doc","path",t),e instanceof gp){const n=So.fromString(t,...r);return jo(n),new bp(e,null,new _o(n))}{if(!(e instanceof bp||e instanceof xp))throw new ro(no.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(So.fromString(t,...r));return jo(n),new bp(e.firestore,e instanceof xp?e.converter:null,new _o(n))}}const Np="AsyncQueue";class Sp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xf(this,"async_queue_retry"),this._c=()=>{const e=yf();e&&Qa(Np,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=yf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=yf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new io;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(Nk){if(!$o(Nk))throw Nk;Qa(Np,"Operation failed with retryable error: "+Nk)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Ya("INTERNAL UNHANDLED ERROR: ",Cp(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=sm.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&$a(47125,{Pc:Cp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Cp(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class kp extends gp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Sp,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sp(e),this._firestoreClient=void 0,await e}}}function _p(e){if(e._terminated)throw new ro(no.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Tp(e),e._firestoreClient}function Tp(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Zl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,dp(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new np(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class jp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jp(zl.fromBase64String(e))}catch(e){throw new ro(no.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new jp(zl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jp._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lo(e,jp._jsonSchema))return jp.fromBase64String(e.bytes)}}jp._jsonSchemaVersion="firestore/bytes/1.0",jp._jsonSchema={type:Do("string",jp._jsonSchemaVersion),bytes:Do("string")};class Ip{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ro(no.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ko(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pp{constructor(e){this._methodName=e}}class Ap{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ro(no.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ro(no.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return go(this._lat,e._lat)||go(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ap._jsonSchemaVersion}}static fromJSON(e){if(Lo(e,Ap._jsonSchema))return new Ap(e.latitude,e.longitude)}}Ap._jsonSchemaVersion="firestore/geoPoint/1.0",Ap._jsonSchema={type:Do("string",Ap._jsonSchemaVersion),latitude:Do("number"),longitude:Do("number")};class Rp{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rp._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lo(e,Rp._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Rp(e.vectorValues);throw new ro(no.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rp._jsonSchemaVersion="firestore/vectorValue/1.0",Rp._jsonSchema={type:Do("string",Rp._jsonSchemaVersion),vectorValues:Do("object")};const Op=/^__.*__$/;class Dp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rd(e,this.data,this.fieldMask,t,this.fieldTransforms):new nd(e,this.data,t,this.fieldTransforms)}}class Lp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new rd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $a(40011,{Ac:e})}}class Fp{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fp(Re(Re({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Mp(this.Ac)&&Op.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Up{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||bf(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Fp({Ac:e,methodName:t,Dc:n,path:ko.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vp(e){const t=e._freezeSettings(),n=bf(e._databaseId);return new Up(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zp(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);Yp("Data must be an object, but it was:",a,r);const o=Gp(r,a);let l,c;if(s.merge)l=new Ul(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Xp(t,r,n);if(!a.contains(i))throw new ro(no.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));eg(e,i)||e.push(i)}l=new Ul(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Dp(new Cc(o),l,c)}class Bp extends Pp{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bp}}function Hp(e,t,n,r){const i=e.Cc(1,t,n);Yp("Data must be an object, but it was:",i,r);const s=[],a=Cc.empty();Al(r,(e,r)=>{const o=$p(t,e,n);r=kt(r);const l=i.yc(o);if(r instanceof Bp)s.push(o);else{const e=Wp(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new Ul(s);return new Lp(a,o,i.fieldTransforms)}function qp(e,t,n,r,i,s){const a=e.Cc(1,t,n),o=[Xp(t,r,n)],l=[i];if(s.length%2!=0)throw new ro(no.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Xp(t,s[h])),l.push(s[h+1]);const c=[],u=Cc.empty();for(let h=o.length-1;h>=0;--h)if(!eg(c,o[h])){const e=o[h];let t=l[h];t=kt(t);const n=a.yc(e);if(t instanceof Bp)c.push(e);else{const r=Wp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ul(c);return new Lp(u,d,a.fieldTransforms)}function Kp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Wp(n,e.Cc(r?4:3,t))}function Wp(e,t){if(Qp(e=kt(e)))return Yp("Unsupported field value:",t,e),Gp(e,t);if(e instanceof Pp)return function(e,t){if(!Mp(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Wp(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=kt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ou(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Uo.fromDate(e);return{timestampValue:Fd(t.serializer,n)}}if(e instanceof Uo){const n=new Uo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fd(t.serializer,n)}}if(e instanceof Ap)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jp)return{bytesValue:Ud(t.serializer,e._byteString)};if(e instanceof bp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Bd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Rp)return function(e,t){return{mapValue:{fields:{[nc]:{stringValue:sc},[ac]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Au(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Ao(e)))}(e,t)}function Gp(e,t){const n={};return Rl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Al(e,(e,r)=>{const i=Wp(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Qp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Uo||e instanceof Ap||e instanceof jp||e instanceof bp||e instanceof Pp||e instanceof Rp)}function Yp(e,t,n){if(!Qp(n)||!Po(n)){const r=Ao(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Xp(e,t,n){if((t=kt(t))instanceof Ip)return t._internalPath;if("string"==typeof t)return $p(e,t);throw Zp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Jp=new RegExp("[~\\*/\\[\\]]");function $p(e,t,n){if(t.search(Jp)>=0)throw Zp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ip(...t.split("."))._internalPath}catch(r){throw Zp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Zp(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new ro(no.INVALID_ARGUMENT,o+e+l)}function eg(e,t){return e.some(e=>e.isEqual(t))}class tg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ng(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ng extends tg{data(){return super.data()}}function rg(e,t){return"string"==typeof t?$p(e,t):t instanceof Ip?t._internalPath:t._delegate._internalPath}function ig(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ro(no.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class ag extends sg{}function og(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof sg&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof ug).length,n=e.filter(e=>e instanceof lg).length;if(t>1||t>0&&n>0)throw new ro(no.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class lg extends ag{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new lg(e,t,n)}_apply(e){const t=this._parse(e);return vg(e._query,t),new yp(e.firestore,e.converter,cu(e._query,t))}_parse(e){const t=Vp(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ro(no.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){gg(a,s);const t=[];for(const n of a)t.push(pg(r,e,n));o={arrayValue:{values:t}}}else o=pg(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||gg(a,s),o=Kp(n,t,a,"in"===s||"not-in"===s);return Oc.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function cg(e,t,n){const r=t,i=rg("where",e);return lg._create(i,r,n)}class ug extends sg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ug(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Dc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)vg(n,i),n=cu(n,i)}(e._query,t),new yp(e.firestore,e.converter,cu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dg extends ag{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ro(no.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ro(no.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pc(t,n)}(e._query,this._field,this._direction);return new yp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new tu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function hg(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=rg("orderBy",e);return dg._create(n,t)}class fg extends ag{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new fg(e,t,n)}_apply(e){return new yp(e.firestore,e.converter,uu(e._query,this._limit,this._limitType))}}function mg(e){return Oo("limit",e),fg._create("limit",e,"F")}function pg(e,t,n){if("string"==typeof(n=kt(n))){if(""===n)throw new ro(no.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!su(t)&&-1!==n.indexOf("/"))throw new ro(no.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(So.fromString(n));if(!_o.isDocumentKey(r))throw new ro(no.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gc(e,new _o(r))}if(n instanceof bp)return gc(e,n._key);throw new ro(no.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ao(n),"."))}function gg(e,t){if(!Array.isArray(e)||0===e.length)throw new ro(no.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function vg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ro(no.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ro(no.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class yg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ql(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $a(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Al(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[ac].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>ql(e.doubleValue));return new Rp(n)}convertGeoPoint(e){return new Ap(ql(e.latitude),ql(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Jl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const t=Hl(e);return new Uo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=So.fromString(e);eo(uh(n),9688,{name:e});const r=new tc(n.get(1),n.get(3)),i=new _o(n.popFirst(5));return r.isEqual(t)||Ya("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function bg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class xg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wg extends tg{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(rg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ro(no.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}wg._jsonSchemaVersion="firestore/documentSnapshot/1.0",wg._jsonSchema={type:Do("string",wg._jsonSchemaVersion),bundleSource:Do("string","DocumentSnapshot"),bundleName:Do("string"),bundle:Do("string")};class Eg extends wg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ng{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Eg(this._firestore,this._userDataWriter,n.key,n,new xg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ro(no.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Eg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new xg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Eg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Sg(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ro(no.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ng._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=po.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $a(61501,{type:e})}}function Cg(e){e=Ro(e,bp);const t=Ro(e.firestore,kp);return cp(_p(t),e._key).then(n=>Pg(t,e,n))}Ng._jsonSchemaVersion="firestore/querySnapshot/1.0",Ng._jsonSchema={type:Do("string",Ng._jsonSchemaVersion),bundleSource:Do("string","QuerySnapshot"),bundleName:Do("string"),bundle:Do("string")};class kg extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new jp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bp(this.firestore,null,t)}}function _g(e){e=Ro(e,yp);const t=Ro(e.firestore,kp),n=_p(t),r=new kg(t);return ig(e._query),up(n,e._query).then(n=>new Ng(t,r,e,n))}function Tg(e,t,n){e=Ro(e,bp);const r=Ro(e.firestore,kp),i=Vp(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=kt(t))||t instanceof Ip?qp(i,"updateDoc",e._key,t,n,o):Hp(i,"updateDoc",e._key,t),Ig(r,[s.toMutation(e._key,Qu.exists(!0))])}function jg(e,t){const n=Ro(e.firestore,kp),r=Ep(e),i=bg(e.converter,t);return Ig(n,[zp(Vp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qu.exists(!1))]).then(()=>r)}function Ig(e,t){return function(e,t){const n=new io;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Xm(e);try{const e=await function(e,t){const n=to(e),r=Uo.now(),i=t.reduce((e,t)=>e.add(t.key),ju());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=xu(),l=ju();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=ed(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new rd(e.key,t,kc(t.value.mapValue),Qu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Nu(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Ol(go)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Wm(r,e.changes),await Wf(r.remoteStore)}catch(e){const t=am(e,"Failed to persist write");n.reject(t)}}(await op(e),t,n)),n.promise}(_p(e),t)}function Pg(e,t,n){const r=n.docs.get(t._key),i=new kg(e);return new wg(e,i,t._key,r,new xg(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ka=e}(Bn),Mn(new _t("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new kp(new lo(e.getProvider("auth-internal")),new fo(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ro(no.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(e.options.projectId,t)}(s,r),s);return i=Re({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Kn(Ba,Ha,e),Kn(Ba,Ha,"esm2020")}();const Ag=Hn({apiKey:"AIzaSyBD06oTD1m9ea9RE1AEdPtzJePWGL-IN6k",authDomain:"proyectou-c9e45.firebaseapp.com",projectId:"proyectou-c9e45",storageBucket:"proyectou-c9e45.firebasestorage.app",messagingSenderId:"730529882716",appId:"1:730529882716:web:153699bc07f91ac6aabc99"}),Rg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();const t=Fn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Fn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(bt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ur(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:wa,persistence:[Ps,ds,gs]}),r=st("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ca)return;const r=null===t||void 0===t?void 0:t.token;ka!==r&&(ka=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){kt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){kt(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=rt("auth");return s&&Pi(n,"http://".concat(s)),n}(Ag),Og=function(e,t){const n="object"==typeof e?e:qn(),r="string"==typeof e?e:t||ec,i=Fn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=rt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&vp(i,...e)}return i}(Ag);const Dg=new class{constructor(){this.currentUser=null,this.isAuthenticated=!1,this.authListeners=[],function(e,t,n,r){kt(e).onAuthStateChanged(t,n,r)}(Rg,e=>{e?(this.currentUser=e,this.isAuthenticated=!0,localStorage.setItem("currentUser",JSON.stringify(this._serializeUser(e))),localStorage.setItem("isAuthenticated","true")):(this.currentUser=null,this.isAuthenticated=!1,localStorage.removeItem("currentUser"),localStorage.removeItem("isAuthenticated")),this.notifyAuthListeners()})}_serializeUser(e){return{uid:e.uid,email:e.email,displayName:e.displayName||null}}async register(e,t,n){try{const r=await async function(e,t,n){if(Un(e.app))return Promise.reject(fr(e));const r=bi(e),i=ji(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ji,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&as(e),t}),a=await $i._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(Rg,e,t),i=r.user;return await function(e,t,n){e=Ro(e,bp);const r=Ro(e.firestore,kp),i=bg(e.converter,t,n);return Ig(r,[zp(Vp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qu.none())])}(Ep(Og,"users",i.uid),{email:e,username:n,createdAt:new Date}),{success:!0,user:this._serializeUser(i)}}catch(r){return{success:!1,message:r.message}}}async login(e,t){try{const n=await function(e,t,n){return Un(e.app)?Promise.reject(fr(e)):ss(kt(e),qi.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&as(e),t})}(Rg,e,t);return this.currentUser=n.user,this.isAuthenticated=!0,localStorage.setItem("currentUser",JSON.stringify(this._serializeUser(this.currentUser))),localStorage.setItem("isAuthenticated","true"),this.notifyAuthListeners(),{success:!0,message:"El inicio de sesi\xf3n fue exitoso",user:this._serializeUser(this.currentUser)}}catch(n){return{success:!1,message:n.message}}}async logout(){try{return await function(e){return kt(e).signOut()}(Rg),this.currentUser=null,this.isAuthenticated=!1,localStorage.removeItem("currentUser"),localStorage.removeItem("isAuthenticated"),this.notifyAuthListeners(),{success:!0,message:"La sesi\xf3n fue cerrada correctamente"}}catch(e){return{success:!1,message:e.message}}}getCurrentUser(){return this.currentUser?this._serializeUser(this.currentUser):null}isUserAuthenticated(){return this.isAuthenticated}restoreSession(){try{const e=localStorage.getItem("currentUser"),t=localStorage.getItem("isAuthenticated");return!(!e||"true"!==t)&&(this.currentUser=JSON.parse(e),this.isAuthenticated=!0,this.notifyAuthListeners(),!0)}catch(e){return console.error("Error al restaurar sesi\xf3n:",e),!1}}addAuthListener(e){this.authListeners.push(e)}removeAuthListener(e){this.authListeners=this.authListeners.filter(t=>t!==e)}notifyAuthListeners(){this.authListeners.forEach(e=>{e({isAuthenticated:this.isAuthenticated,user:this.getCurrentUser()})})}hasPermission(e){if(!this.isAuthenticated)return!1;return["create_denuncia","comment","like","view_profile","edit_profile"].includes(e)}},Lg=Dg;class Mg{constructor(e){let{id:t,titulo:n,descripcion:r,categoria:i,fechaCreacion:s,likes:a=0,comentarios:o=[],usuarioId:l,anonimo:c=!0,estado:u="activa"}=e;this.id=t,this.titulo=n,this.descripcion=r,this.categoria=i,this.fechaCreacion=s,this.likes=a,this.comentarios=o,this.usuarioId=l,this.anonimo=c,this.estado=u}agregarLike(){this.likes+=1}quitarLike(){this.likes>0&&(this.likes-=1)}agregarComentario(e){this.comentarios.push(e)}getFechaFormateada(){return new Date(this.fechaCreacion).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}getCategoriaColor(){return{Seguridad:"#ef4444",Infraestructura:"#f59e0b","Medio Ambiente":"#10b981","Servicios P\xfablicos":"#3b82f6",Transporte:"#8b5cf6",Salud:"#06b6d4","Educaci\xf3n":"#84cc16",Otros:"#64748b"}[this.categoria]||"#64748b"}validar(){const e=[];return(!this.titulo||this.titulo.trim().length<5)&&e.push("El t\xedtulo debe tener al menos 5 caracteres"),(!this.descripcion||this.descripcion.trim().length<10)&&e.push("La descripci\xf3n debe tener al menos 10 caracteres"),this.categoria||e.push("Debe seleccionar una categor\xeda"),e}toJSON(){return{id:this.id,titulo:this.titulo,descripcion:this.descripcion,categoria:this.categoria,fechaCreacion:this.fechaCreacion,likes:this.likes,comentarios:this.comentarios,usuarioId:this.usuarioId,anonimo:this.anonimo,estado:this.estado}}}const Fg=["Seguridad","Infraestructura","Medio Ambiente","Servicios P\xfablicos","Transporte","Salud","Educaci\xf3n","Otros"];class Ug{constructor(e){let{id:t,denunciaId:n,usuarioId:r,contenido:i,fechaCreacion:s,likes:a=0,respuestas:o=[],comentarioPadreId:l=null,anonimo:c=!0,estado:u="activo"}=e;this.id=t,this.denunciaId=n,this.usuarioId=r,this.contenido=i,this.fechaCreacion=s,this.likes=a,this.respuestas=o,this.comentarioPadreId=l,this.anonimo=c,this.estado=u}agregarLike(){this.likes+=1}quitarLike(){this.likes>0&&(this.likes-=1)}agregarRespuesta(e){this.respuestas.includes(e)||this.respuestas.push(e)}getFechaFormateada(){const e=new Date(this.fechaCreacion),t=new Date-e,n=Math.floor(t/6e4);if(n<1)return"Hace un momento";if(n<60)return"Hace ".concat(n," minuto").concat(n>1?"s":"");if(n<1440){const e=Math.floor(n/60);return"Hace ".concat(e," hora").concat(e>1?"s":"")}if(n<10080){const e=Math.floor(n/1440);return"Hace ".concat(e," d\xeda").concat(e>1?"s":"")}return e.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}validar(){const e=[];return(!this.contenido||this.contenido.trim().length<1)&&e.push("El comentario no puede estar vac\xedo"),this.contenido&&this.contenido.length>500&&e.push("El comentario no puede tener m\xe1s de 500 caracteres"),this.denunciaId||e.push("El comentario debe estar asociado a una denuncia"),this.usuarioId||e.push("El comentario debe tener un usuario asociado"),e}esRespuesta(){return null!==this.comentarioPadreId}esPrincipal(){return null===this.comentarioPadreId}getContenidoTruncado(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this.contenido.length<=e?this.contenido:this.contenido.substring(0,e)+"..."}tieneContenidoOfensivo(){const e=this.contenido.toLowerCase();return["spam","fake","mentira","falso"].some(t=>e.includes(t))}marcarInactivo(){this.estado="inactivo"}activar(){this.estado="activo"}toJSON(){return{id:this.id,denunciaId:this.denunciaId,usuarioId:this.usuarioId,contenido:this.contenido,fechaCreacion:this.fechaCreacion,likes:this.likes,respuestas:this.respuestas,comentarioPadreId:this.comentarioPadreId,anonimo:this.anonimo,estado:this.estado}}}const Vg=new class{constructor(){this.listeners=[]}async getAllDenuncias(){const e=wp(Og,"denuncias");return(await _g(e)).docs.map(e=>Re({id:e.id},this._convertTimestamps(e.data())))}async getDenunciasByCategoria(e){const t=og(wp(Og,"denuncias"),cg("categoria","==",e));return(await _g(t)).docs.map(e=>Re({id:e.id},this._convertTimestamps(e.data())))}async getDenunciasOrdenadas(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"likes";const t=og(wp(Og,"denuncias"),hg(e,"desc"));return(await _g(t)).docs.map(e=>Re({id:e.id},this._convertTimestamps(e.data())))}async getDenunciaById(e){const t=Ep(Og,"denuncias",e),n=await Cg(t);return n.exists()?Re({id:n.id},this._convertTimestamps(n.data())):null}async crearDenuncia(e){try{const t=Rg.currentUser;if(!t)return{success:!1,message:"Se debe de estar autenticado para crear una denuncia"};const n=new Mg({titulo:e.titulo,descripcion:e.descripcion,categoria:e.categoria,fechaCreacion:new Date,usuarioId:t.uid,likes:0,comentarios:[]}),r=n.validar();if(r.length>0)return{success:!1,message:"Errores de validaci\xf3n",errores:r};const i=wp(Og,"denuncias"),s=await jg(i,{titulo:n.titulo,descripcion:n.descripcion,categoria:n.categoria,fechaCreacion:n.fechaCreacion,usuarioId:n.usuarioId,likes:0,usuariosQueDieronLike:[],comentarios:[]});return this.notifyListeners(),{success:!0,message:"Denuncia creada exitosamente",denuncia:Re({id:s.id},n)}}catch(t){return{success:!1,message:"Error al crear la denuncia"}}}async toggleLikeDenuncia(e){try{const t=Rg.currentUser;if(!t)return{success:!1,message:"Se debe de estar autenticado para dar like "};const n=Ep(Og,"denuncias",e),r=await Cg(n);if(!r.exists())return{success:!1,message:"Denuncia no encontrada"};const i=r.data();let s=i.usuariosQueDieronLike||[],a=i.likes||0;const o=s.includes(t.uid);return o?(s=s.filter(e=>e!==t.uid),a=Math.max(0,a-1)):(s.push(t.uid),a+=1),await Tg(n,{usuariosQueDieronLike:s,likes:a}),this.notifyListeners(),{success:!0,message:o?"Like eliminado: ":"Like agregado correctamente",liked:!o,likes:a}}catch(t){return{success:!1,message:"Error al procesar el like"}}}async agregarComentario(e,t){try{const n=Rg.currentUser;if(!n)return{success:!1,message:"Debe estar autenticado para comentar"};const r=Ep(Og,"denuncias",e),i=await Cg(r);if(!i.exists())return{success:!1,message:"La denuncia no fue encontrada"};const s=new Date,a=new Ug({contenido:t,fechaCreacion:s,usuarioId:n.uid,denunciaId:e}),o=a.validar();if(o.length>0)return{success:!1,message:"Error de validaci\xf3n",errores:o};const l=wp(Og,"comentarios"),c=await jg(l,{contenido:t,fechaCreacion:s,usuarioId:n.uid,denunciaId:e}),u=i.data().comentarios||[];return u.push(c.id),await Tg(r,{comentarios:u}),this.notifyListeners(),{success:!0,message:"Comentario agregado exitosamente",comentario:Re({id:c.id},a)}}catch(n){return{success:!1,message:"Error al agregar comentario"}}}async getComentariosByDenuncia(e){const t=og(wp(Og,"comentarios"),cg("denunciaId","==",e),hg("fechaCreacion","asc"));return(await _g(t)).docs.map(e=>Re({id:e.id},this._convertTimestamps(e.data())))}getCategorias(){return Fg}async getEstadisticas(){const e=await this.getAllDenuncias(),t=wp(Og,"comentarios"),n=await _g(t),r={totalDenuncias:e.length,totalComentarios:n.size,totalLikes:e.reduce((e,t)=>e+(t.likes||0),0),categorias:{}};return Fg.forEach(t=>{r.categorias[t]=e.filter(e=>e.categoria===t).length}),r}async buscarDenuncias(e){const t=await this.getAllDenuncias(),n=e.toLowerCase();return t.filter(e=>e.titulo.toLowerCase().includes(n)||e.descripcion.toLowerCase().includes(n))}async getDenunciasRecientes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=og(wp(Og,"denuncias"),hg("fechaCreacion","desc"),mg(e));return(await _g(t)).docs.map(e=>Re({id:e.id},this._convertTimestamps(e.data())))}async getDenunciasPopulares(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=og(wp(Og,"denuncias"),hg("likes","desc"),mg(e));return(await _g(t)).docs.map(e=>Re({id:e.id},e.data()))}async getMisDenuncias(){const e=Rg.currentUser;if(!e)return[];const t=og(wp(Og,"denuncias"),cg("usuarioId","==",e.uid));return(await _g(t)).docs.map(e=>Re({id:e.id},e.data()))}async getDenunciasConMisLikes(){const e=Rg.currentUser;if(!e)return[];const t=wp(Og,"denuncias");return(await _g(t)).docs.map(e=>Re({id:e.id},this._convertTimestamps(e.data()))).filter(t=>Array.isArray(t.usuariosQueDieronLike)&&t.usuariosQueDieronLike.includes(e.uid))}async hasUserLikedDenuncia(e){const t=Rg.currentUser;if(!t)return!1;const n=Ep(Og,"denuncias",e),r=await Cg(n);if(!r.exists())return!1;const i=r.data();return Array.isArray(i.usuariosQueDieronLike)&&i.usuariosQueDieronLike.includes(t.uid)}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}notifyListeners(){this.listeners.forEach(e=>e({}))}_convertTimestamps(e){const t=Re({},e);return t.fechaCreacion&&"function"===typeof t.fechaCreacion.toDate&&(t.fechaCreacion=t.fechaCreacion.toDate()),t}},zg=Vg,Bg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Hg=t.createContext(null);function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(null,arguments)}n(740);function Kg(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Wg(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Gg(e,n){return Object.keys(n).reduce(function(r,i){var s,a=r,o=a[Kg(i)],l=a[i],c=Oe(a,[Kg(i),i].map(Wg)),u=n[i],d=function(e,n,r){var i=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),a=s[0],o=s[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&a!==n&&o(n),[l?e:a,(0,t.useCallback)(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),o(e)},[r])]}(l,o,e[u]),h=d[0],f=d[1];return qg({},c,((s={})[i]=h,s[u]=f,s))},e)}function Qg(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Yg(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Xg(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Qg.__suppressDeprecationWarning=!0,Yg.__suppressDeprecationWarning=!0,Xg.__suppressDeprecationWarning=!0;const Jg=["bsPrefix","className","as"],$g=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:i}=e,s=De(e,Jg);n=qe(n,"navbar-brand");const a=i||(s.href?"a":"span");return(0,Fe.jsx)(a,Re(Re({},s),{},{ref:t,className:Me()(r,n)}))});$g.displayName="NavbarBrand";const Zg=$g;function ev(e){return e&&e.ownerDocument||document}function tv(e,t){return function(e){var t=ev(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var nv=/([A-Z])/g;var rv=/^ms-/;function iv(e){return function(e){return e.replace(nv,"-$1").toLowerCase()}(e).replace(rv,"-ms-")}var sv=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const av=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(iv(t))||tv(e).getPropertyValue(iv(t));Object.keys(t).forEach(function(i){var s=t[i];s||0===s?!function(e){return!(!e||!sv.test(e))}(i)?n+=iv(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(iv(i))}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function ov(e,t){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ov(e,t)}const lv=!1,cv=t.createContext(null);var uv="unmounted",dv="exited",hv="entering",fv="entered",mv="exiting",pv=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=dv,r.appearStatus=hv):i=fv:i=t.unmountOnExit||t.mountOnEnter?uv:dv,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,ov(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===uv?{status:dv}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==hv&&n!==fv&&(t=hv):n!==hv&&n!==fv||(t=mv)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===hv){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===dv&&this.setState({status:uv})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],a=i[0],o=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||lv?this.safeSetState({status:fv},function(){t.props.onEntered(a)}):(this.props.onEnter(a,o),this.safeSetState({status:hv},function(){t.props.onEntering(a,o),t.onTransitionEnd(c,function(){t.safeSetState({status:fv},function(){t.props.onEntered(a,o)})})}))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!lv?(this.props.onExit(r),this.safeSetState({status:mv},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:dv},function(){e.props.onExited(r)})})})):this.safeSetState({status:dv},function(){e.props.onExited(r)})},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===uv)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Oe(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(cv.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function gv(){}pv.contextType=cv,pv.propTypes={},pv.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gv,onEntering:gv,onEntered:gv,onExit:gv,onExiting:gv,onExited:gv},pv.UNMOUNTED=uv,pv.EXITED=dv,pv.ENTERING=hv,pv.ENTERED=fv,pv.EXITING=mv;const vv=pv;function yv(e){if(!e||"function"===typeof e)return null;const{major:n}=function(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return n>=19?e.props.ref:e.ref}const bv=!("undefined"===typeof window||!window.document||!window.document.createElement);var xv=!1,wv=!1;try{var Ev={get passive(){return xv=!0},get once(){return wv=xv=!0}};bv&&(window.addEventListener("test",Ev,Ev),window.removeEventListener("test",Ev,!0))}catch(Nk){}const Nv=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!wv){var i=r.once,s=r.capture,a=n;!wv&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=a),e.addEventListener(t,a,xv?r:s)}e.addEventListener(t,n,r)};const Sv=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const Cv=function(e,t,n,r){return Nv(e,t,n,r),function(){Sv(e,t,n,r)}};function kv(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout(function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)},t+n),s=Cv(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function _v(e,t,n,r){null==n&&(n=function(e){var t=av(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=kv(e,n,r),s=Cv(e,"transitionend",t);return function(){i(),s()}}function Tv(e,t){const n=av(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function jv(e,t){const n=Tv(e,"transitionDuration"),r=Tv(e,"transitionDelay"),i=_v(e,n=>{n.target===e&&(i(),t(n))},n+r)}const Iv=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>null!=e).reduce((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}},null)};function Pv(e){e.offsetHeight}const Av=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Rv=function(e,n){return(0,t.useMemo)(()=>function(e,t){const n=Av(e),r=Av(t);return e=>{n&&n(e),r&&r(e)}}(e,n),[e,n])};const Ov=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Dv=t.forwardRef((e,n)=>{let{onEnter:r,onEntering:i,onEntered:a,onExit:o,onExiting:l,onExited:c,addEndListener:u,children:d,childRef:h}=e,f=De(e,Ov);const m=(0,t.useRef)(null),p=Rv(m,h),g=e=>{var t;p((t=e)&&"setState"in t?s.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&m.current&&e(m.current,t)},y=(0,t.useCallback)(v(r),[r]),b=(0,t.useCallback)(v(i),[i]),x=(0,t.useCallback)(v(a),[a]),w=(0,t.useCallback)(v(o),[o]),E=(0,t.useCallback)(v(l),[l]),N=(0,t.useCallback)(v(c),[c]),S=(0,t.useCallback)(v(u),[u]);return(0,Fe.jsx)(vv,Re(Re({ref:n},f),{},{onEnter:y,onEntered:x,onEntering:b,onExit:w,onExited:N,onExiting:E,addEndListener:S,nodeRef:m,children:"function"===typeof d?(e,t)=>d(e,Re(Re({},t),{},{ref:g})):t.cloneElement(d,{ref:g})}))});Dv.displayName="TransitionWrapper";const Lv=Dv,Mv=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],Fv={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Uv(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=Fv[e];return n+parseInt(av(t,r[0]),10)+parseInt(av(t,r[1]),10)}const Vv={[dv]:"collapse",[mv]:"collapsing",[hv]:"collapsing",[fv]:"collapse show"},zv=t.forwardRef((e,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:a,onExiting:o,className:l,children:c,dimension:u="height",in:d=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:m=!1,appear:p=!1,getDimensionValue:g=Uv}=e,v=De(e,Mv);const y="function"===typeof u?u():u,b=(0,t.useMemo)(()=>Iv(e=>{e.style[y]="0"},r),[y,r]),x=(0,t.useMemo)(()=>Iv(e=>{const t="scroll".concat(y[0].toUpperCase()).concat(y.slice(1));e.style[y]="".concat(e[t],"px")},i),[y,i]),w=(0,t.useMemo)(()=>Iv(e=>{e.style[y]=null},s),[y,s]),E=(0,t.useMemo)(()=>Iv(e=>{e.style[y]="".concat(g(y,e),"px"),Pv(e)},a),[a,g,y]),N=(0,t.useMemo)(()=>Iv(e=>{e.style[y]=null},o),[y,o]);return(0,Fe.jsx)(Lv,Re(Re({ref:n,addEndListener:jv},v),{},{"aria-expanded":v.role?d:null,onEnter:b,onEntering:x,onEntered:w,onExit:E,onExiting:N,childRef:yv(c),in:d,timeout:h,mountOnEnter:f,unmountOnExit:m,appear:p,children:(e,n)=>t.cloneElement(c,Re(Re({},n),{},{className:Me()(l,c.props.className,Vv[e],"width"===y&&"collapse-horizontal")}))}))});zv.displayName="Collapse";const Bv=zv,Hv=t.createContext(null);Hv.displayName="NavbarContext";const qv=Hv,Kv=["children","bsPrefix"],Wv=t.forwardRef((e,n)=>{let{children:r,bsPrefix:i}=e,s=De(e,Kv);i=qe(i,"navbar-collapse");const a=(0,t.useContext)(qv);return(0,Fe.jsx)(Bv,Re(Re({in:!(!a||!a.expanded)},s),{},{children:(0,Fe.jsx)("div",{ref:n,className:i,children:r})}))});Wv.displayName="NavbarCollapse";const Gv=Wv;const Qv=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)(()=>{n.current=e},[e]),n};function Yv(e){const n=Qv(e);return(0,t.useCallback)(function(){return n.current&&n.current(...arguments)},[n])}const Xv=["bsPrefix","className","children","label","as","onClick"],Jv=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,children:s,label:a="Toggle navigation",as:o="button",onClick:l}=e,c=De(e,Xv);r=qe(r,"navbar-toggler");const{onToggle:u,expanded:d}=(0,t.useContext)(qv)||{},h=Yv(e=>{l&&l(e),u&&u()});return"button"===o&&(c.type="button"),(0,Fe.jsx)(o,Re(Re({},c),{},{ref:n,onClick:h,"aria-label":a,className:Me()(i,r,!d&&"collapsed"),children:s||(0,Fe.jsx)("span",{className:"".concat(r,"-icon")})}))});Jv.displayName="NavbarToggle";const $v=Jv,Zv="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,ey="undefined"!==typeof document||Zv?t.useLayoutEffect:t.useEffect,ty=new WeakMap,ny=(e,t)=>{if(!e||!t)return;const n=ty.get(t)||new Map;ty.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function ry(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=ny(e,n),[i,s]=(0,t.useState)(()=>!!r&&r.matches);return ey(()=>{let t=ny(e,n);if(!t)return s(!1);let r=ty.get(n);const i=()=>{s(t.matches)};return t.refCount++,t.addListener(i),i(),()=>{t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}},[e]),i}const iy=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let i=e[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,s,a){let o;"object"===typeof n?(o=n,a=s,s=!0):(s=s||!0,o={[n]:s});let l=(0,t.useMemo)(()=>Object.entries(o).reduce((t,n)=>{let[s,a]=n;return"up"!==a&&!0!==a||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(s))),"down"!==a&&!0!==a||(t=r(t,i(s))),t},""),[JSON.stringify(o)]);return ry(l,a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),sy=iy;function ay(e){void 0===e&&(e=ev());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Nk){return e.body}}function oy(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function ly(){const e=(0,t.useRef)(!0),n=(0,t.useRef)(()=>e.current);return(0,t.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),n.current}function cy(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)(()=>()=>n.current(),[])}function uy(e){const n=(0,t.useRef)(null);return(0,t.useEffect)(()=>{n.current=e}),n.current}const dy=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)(()=>{n.current=e},[e]),n};function hy(e){const n=dy(e);return(0,t.useCallback)(function(){return n.current&&n.current(...arguments)},[n])}function fy(e){return"".concat("data-rr-ui-").concat(e)}const my=fy("modal-open");const py=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(av(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(my,""),av(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(my),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},gy=(0,t.createContext)(bv?window:void 0);gy.Provider;function vy(){return(0,t.useContext)(gy)}const yy=(e,t)=>bv?null==e?(t||ev()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const by=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const xy=function(e,n){return(0,t.useMemo)(()=>function(e,t){const n=by(e),r=by(t);return e=>{n&&n(e),r&&r(e)}}(e,n),[e,n])},wy="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Ey="undefined"!==typeof document||wy?t.useLayoutEffect:t.useEffect;const Ny=function(e){let{children:n,in:r,onExited:i,mountOnEnter:s,unmountOnExit:a}=e;const o=(0,t.useRef)(null),l=(0,t.useRef)(r),c=hy(i);(0,t.useEffect)(()=>{r?l.current=!0:c(o.current)},[r,c]);const u=xy(o,yv(n)),d=(0,t.cloneElement)(n,{ref:u});return r?d:a||!l.current&&s?null:d},Sy=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const Cy=["component"];const ky=t.forwardRef((e,n)=>{let{component:r}=e;const i=function(e){let{onEnter:n,onEntering:r,onEntered:i,onExit:s,onExiting:a,onExited:o,addEndListener:l,children:c}=e,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Sy);const d=(0,t.useRef)(null),h=xy(d,yv(c)),f=e=>t=>{e&&d.current&&e(d.current,t)},m=(0,t.useCallback)(f(n),[n]),p=(0,t.useCallback)(f(r),[r]),g=(0,t.useCallback)(f(i),[i]),v=(0,t.useCallback)(f(s),[s]),y=(0,t.useCallback)(f(a),[a]),b=(0,t.useCallback)(f(o),[o]),x=(0,t.useCallback)(f(l),[l]);return Object.assign({},u,{nodeRef:d},n&&{onEnter:m},r&&{onEntering:p},i&&{onEntered:g},s&&{onExit:v},a&&{onExiting:y},o&&{onExited:b},l&&{addEndListener:x},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:h})):(0,t.cloneElement)(c,{ref:h})})}(function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Cy));return(0,Fe.jsx)(r,Object.assign({ref:n},i))}),_y=ky;function Ty(e){let{children:n,in:r,onExited:i,onEntered:s,transition:a}=e;const[o,l]=(0,t.useState)(!r);r&&o&&l(!1);const c=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),s=(0,t.useRef)(!0),a=hy(r);return Ey(()=>{if(!i.current)return;let e=!1;return a({in:n,element:i.current,initial:s.current,isStale:()=>e}),()=>{e=!0}},[n,a]),Ey(()=>(s.current=!1,()=>{s.current=!0}),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(a(e)).then(()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==i||i(e.element)))},t=>{throw e.in||l(!0),t})}}),u=xy(c,yv(n));return o&&!r?null:(0,t.cloneElement)(n,{ref:u})}function jy(e,t,n){return e?(0,Fe.jsx)(_y,Object.assign({},n,{component:e})):t?(0,Fe.jsx)(Ty,Object.assign({},n,{transition:t})):(0,Fe.jsx)(Ny,Object.assign({},n))}const Iy=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Py;function Ay(e){const n=vy(),r=e||function(e){return Py||(Py=new py({ownerDocument:null==e?void 0:e.document})),Py}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)(e=>{i.current.dialog=e},[]),setBackdropRef:(0,t.useCallback)(e=>{i.current.backdrop=e},[])})}const Ry=(0,t.forwardRef)((e,n)=>{let{show:r=!1,role:i="dialog",className:a,style:o,children:l,backdrop:c=!0,keyboard:u=!0,onBackdropClick:d,onEscapeKeyDown:h,transition:f,runTransition:m,backdropTransition:p,runBackdropTransition:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:x,renderDialog:w,renderBackdrop:E=e=>(0,Fe.jsx)("div",Object.assign({},e)),manager:N,container:S,onShow:C,onHide:k=()=>{},onExit:_,onExited:T,onExiting:j,onEnter:I,onEntering:P,onEntered:A}=e,R=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Iy);const O=vy(),D=function(e,n){const r=vy(),[i,s]=(0,t.useState)(()=>yy(e,null==r?void 0:r.document));if(!i){const t=yy(e);t&&s(t)}return(0,t.useEffect)(()=>{n&&i&&n(i)},[n,i]),(0,t.useEffect)(()=>{const t=yy(e);t!==i&&s(t)},[e,i]),i}(S),L=Ay(N),M=ly(),F=uy(r),[U,V]=(0,t.useState)(!r),z=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,()=>L,[L]),bv&&!F&&r&&(z.current=ay(null==O?void 0:O.document)),r&&U&&V(!1);const B=hy(()=>{if(L.add(),Q.current=Cv(document,"keydown",W),G.current=Cv(document,"focus",()=>setTimeout(q),!0),C&&C(),v){var e,t;const n=ay(null!=(e=null==(t=L.dialog)?void 0:t.ownerDocument)?e:null==O?void 0:O.document);L.dialog&&n&&!oy(L.dialog,n)&&(z.current=n,L.dialog.focus())}}),H=hy(()=>{var e;(L.remove(),null==Q.current||Q.current(),null==G.current||G.current(),b)&&(null==(e=z.current)||null==e.focus||e.focus(x),z.current=null)});(0,t.useEffect)(()=>{r&&D&&B()},[r,D,B]),(0,t.useEffect)(()=>{U&&H()},[U,H]),cy(()=>{H()});const q=hy(()=>{if(!y||!M()||!L.isTopModal())return;const e=ay(null==O?void 0:O.document);L.dialog&&e&&!oy(L.dialog,e)&&L.dialog.focus()}),K=hy(e=>{e.target===e.currentTarget&&(null==d||d(e),!0===c&&k())}),W=hy(e=>{u&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&L.isTopModal()&&(null==h||h(e),e.defaultPrevented||k())}),G=(0,t.useRef)(),Q=(0,t.useRef)();if(!D)return null;const Y=Object.assign({role:i,ref:L.setDialogRef,"aria-modal":"dialog"===i||void 0},R,{style:o,className:a,tabIndex:-1});let X=w?w(Y):(0,Fe.jsx)("div",Object.assign({},Y,{children:t.cloneElement(l,{role:"document"})}));X=jy(f,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:_,onExiting:j,onExited:function(){V(!0),null==T||T(...arguments)},onEnter:I,onEntering:P,onEntered:A,children:X});let J=null;return c&&(J=E({ref:L.setBackdropRef,onClick:K}),J=jy(p,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:J})),(0,Fe.jsx)(Fe.Fragment,{children:s.createPortal((0,Fe.jsxs)(Fe.Fragment,{children:[J,X]}),D)})});Ry.displayName="Modal";const Oy=Object.assign(Ry,{Manager:py}),Dy=["className","children","transitionClasses","onEnter"],Ly={[hv]:"show",[fv]:"show"},My=t.forwardRef((e,n)=>{let{className:r,children:i,transitionClasses:s={},onEnter:a}=e;const o=Re({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},De(e,Dy)),l=(0,t.useCallback)((e,t)=>{Pv(e),null==a||a(e,t)},[a]);return(0,Fe.jsx)(Lv,Re(Re({ref:n,addEndListener:jv},o),{},{onEnter:l,childRef:yv(i),children:(e,n)=>t.cloneElement(i,Re(Re({},n),{},{className:Me()("fade",r,i.props.className,Ly[e],s[e])}))}))});My.displayName="Fade";const Fy=My,Uy=["className","bsPrefix","as"],Vy=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,s=De(e,Uy);return r=qe(r,"offcanvas-body"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});Vy.displayName="OffcanvasBody";const zy=Vy,By=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],Hy={[hv]:"show",[fv]:"show"},qy=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,children:s,in:a=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:c=!1}=e,u=De(e,By);return r=qe(r,"offcanvas"),(0,Fe.jsx)(Lv,Re(Re({ref:n,addEndListener:jv,in:a,mountOnEnter:o,unmountOnExit:l,appear:c},u),{},{childRef:yv(s),children:(e,n)=>t.cloneElement(s,Re(Re({},n),{},{className:Me()(i,s.props.className,(e===hv||e===mv)&&"".concat(r,"-toggling"),Hy[e])}))}))});qy.displayName="OffcanvasToggling";const Ky=qy,Wy=t.createContext({onHide(){}});var Gy=n(173),Qy=n.n(Gy);const Yy=["className","variant","aria-label"],Xy={"aria-label":Qy().string,onClick:Qy().func,variant:Qy().oneOf(["white"])},Jy=t.forwardRef((e,t)=>{let{className:n,variant:r,"aria-label":i="Close"}=e,s=De(e,Yy);return(0,Fe.jsx)("button",Re({ref:t,type:"button",className:Me()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i},s))});Jy.displayName="CloseButton",Jy.propTypes=Xy;const $y=Jy,Zy=["closeLabel","closeVariant","closeButton","onHide","children"],eb=t.forwardRef((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:s=!1,onHide:a,children:o}=e,l=De(e,Zy);const c=(0,t.useContext)(Wy),u=Yv(()=>{null==c||c.onHide(),null==a||a()});return(0,Fe.jsxs)("div",Re(Re({ref:n},l),{},{children:[o,s&&(0,Fe.jsx)($y,{"aria-label":r,variant:i,onClick:u})]}))});eb.displayName="AbstractModalHeader";const tb=eb,nb=["bsPrefix","className","closeLabel","closeButton"],rb=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1}=e,a=De(e,nb);return n=qe(n,"offcanvas-header"),(0,Fe.jsx)(tb,Re(Re({ref:t},a),{},{className:Me()(r,n),closeLabel:i,closeButton:s}))});rb.displayName="OffcanvasHeader";const ib=rb,sb=e=>t.forwardRef((t,n)=>(0,Fe.jsx)("div",Re(Re({},t),{},{ref:n,className:Me()(t.className,e)}))),ab=["className","bsPrefix","as"],ob=sb("h5"),lb=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i=ob}=e,s=De(e,ab);return r=qe(r,"offcanvas-title"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});lb.displayName="OffcanvasTitle";const cb=lb;var ub=Function.prototype.bind.call(Function.prototype.call,[].slice);function db(e,t){return ub(e.querySelectorAll(t))}function hb(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const fb=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",mb=".sticky-top",pb=".navbar-toggler";class gb extends py{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,av(t,{[e]:"".concat(parseFloat(av(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],av(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";db(t,fb).forEach(t=>this.adjustAndStore(i,t,e.scrollBarWidth)),db(t,mb).forEach(t=>this.adjustAndStore(s,t,-e.scrollBarWidth)),db(t,pb).forEach(t=>this.adjustAndStore(s,t,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=hb(n.className,r):n.setAttribute("class",hb(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";db(t,fb).forEach(e=>this.restore(i,e)),db(t,mb).forEach(e=>this.restore(s,e)),db(t,pb).forEach(e=>this.restore(s,e))}}let vb;const yb=gb,bb=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function xb(e){return(0,Fe.jsx)(Ky,Re({},e))}function wb(e){return(0,Fe.jsx)(Fy,Re({},e))}const Eb=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,children:s,"aria-labelledby":a,placement:o="start",responsive:l,show:c=!1,backdrop:u=!0,keyboard:d=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:m,onHide:p,container:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:x,onEntered:w,onExit:E,onExiting:N,onEnter:S,onEntering:C,onExited:k,backdropClassName:_,manager:T,renderStaticNode:j=!1}=e,I=De(e,bb);const P=(0,t.useRef)();r=qe(r,"offcanvas");const[A,R]=(0,t.useState)(!1),O=Yv(p),D=sy(l||"xs","up");(0,t.useEffect)(()=>{R(l?c&&!D:c)},[c,l,D]);const L=(0,t.useMemo)(()=>({onHide:O}),[O]);const M=(0,t.useCallback)(e=>(0,Fe.jsx)("div",Re(Re({},e),{},{className:Me()("".concat(r,"-backdrop"),_)})),[_,r]),F=e=>(0,Fe.jsx)("div",Re(Re(Re({},e),I),{},{className:Me()(i,l?"".concat(r,"-").concat(l):r,"".concat(r,"-").concat(o)),"aria-labelledby":a,children:s}));return(0,Fe.jsxs)(Fe.Fragment,{children:[!A&&(l||j)&&F({}),(0,Fe.jsx)(Wy.Provider,{value:L,children:(0,Fe.jsx)(Oy,{show:A,ref:n,backdrop:u,container:g,keyboard:d,autoFocus:v,enforceFocus:y&&!h,restoreFocus:b,restoreFocusOptions:x,onEscapeKeyDown:f,onShow:m,onHide:O,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S(e,...n)},onEntering:C,onEntered:w,onExit:E,onExiting:N,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==k||k(...n)},manager:T||(h?(P.current||(P.current=new yb({handleContainerOverflow:!1})),P.current):function(e){return vb||(vb=new gb(e)),vb}()),transition:xb,backdropTransition:wb,renderBackdrop:M,renderDialog:F})})]})});Eb.displayName="Offcanvas";const Nb=Object.assign(Eb,{Body:zy,Header:ib,Title:cb}),Sb=["onHide"],Cb=t.forwardRef((e,n)=>{let{onHide:r}=e,i=De(e,Sb);const s=(0,t.useContext)(qv),a=Yv(()=>{null==s||null==s.onToggle||s.onToggle(),null==r||r()});return(0,Fe.jsx)(Nb,Re(Re({ref:n,show:!(null==s||!s.expanded)},i),{},{renderStaticNode:!0,onHide:a}))});Cb.displayName="NavbarOffcanvas";const kb=Cb,_b=["className","bsPrefix","as"],Tb=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="span"}=e,s=De(e,_b);return r=qe(r,"navbar-text"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});Tb.displayName="NavbarText";const jb=Tb,Ib=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Pb=t.forwardRef((e,n)=>{const r=Gg(e,{expanded:"onToggle"}),{bsPrefix:i,expand:s=!0,variant:a="light",bg:o,fixed:l,sticky:c,className:u,as:d="nav",expanded:h,onToggle:f,onSelect:m,collapseOnSelect:p=!1}=r,g=De(r,Ib),v=qe(i,"navbar"),y=(0,t.useCallback)(function(){null==m||m(...arguments),p&&h&&(null==f||f(!1))},[m,p,h,f]);void 0===g.role&&"nav"!==d&&(g.role="navigation");let b="".concat(v,"-expand");"string"===typeof s&&(b="".concat(b,"-").concat(s));const x=(0,t.useMemo)(()=>({onToggle:()=>null==f?void 0:f(!h),bsPrefix:v,expanded:!!h,expand:s}),[v,h,s,f]);return(0,Fe.jsx)(qv.Provider,{value:x,children:(0,Fe.jsx)(Hg.Provider,{value:y,children:(0,Fe.jsx)(d,Re(Re({ref:n},g),{},{className:Me()(u,v,s&&b,a&&"".concat(v,"-").concat(a),o&&"bg-".concat(o),c&&"sticky-".concat(c),l&&"fixed-".concat(l))}))})})});Pb.displayName="Navbar";const Ab=Object.assign(Pb,{Brand:Zg,Collapse:Gv,Offcanvas:kb,Text:jb,Toggle:$v});function Rb(){const[,e]=(0,t.useReducer)(e=>e+1,0);return e}const Ob=t.createContext(null);Ob.displayName="NavContext";const Db=Ob,Lb=t.createContext(null),Mb=["as","disabled"];function Fb(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:a,onClick:o,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const Ub=t.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Mb);const[s,{tagName:a}]=Fb(Object.assign({tagName:n,disabled:r},i));return(0,Fe.jsx)(a,Object.assign({},i,s,{ref:t}))});Ub.displayName="Button";const Vb=Ub,zb=["as","active","eventKey"];function Bb(e){let{key:n,onClick:r,active:i,id:s,role:a,disabled:o}=e;const l=(0,t.useContext)(Hg),c=(0,t.useContext)(Db),u=(0,t.useContext)(Lb);let d=i;const h={role:a};if(c){a||"tablist"!==c.role||(h.role="tab");const e=c.getControllerId(null!=n?n:null),t=c.getControlledId(null!=n?n:null);h[fy("event-key")]=n,h.id=e||s,d=null==i&&null!=n?c.activeKey===n:i,!d&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=t)}return"tab"===h.role&&(h["aria-selected"]=d,d||(h.tabIndex=-1),o&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=hy(e=>{o||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))}),[h,{isActive:d}]}const Hb=t.forwardRef((e,t)=>{let{as:n=Vb,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,zb);const[a,o]=Bb(Object.assign({key:Bg(i,s.href),active:r},s));return a[fy("active")]=o.isActive,(0,Fe.jsx)(n,Object.assign({},s,a,{ref:t}))});Hb.displayName="NavItem";const qb=Hb,Kb=["as","onSelect","activeKey","role","onKeyDown"];const Wb=()=>{},Gb=fy("event-key"),Qb=t.forwardRef((e,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:a,onKeyDown:o}=e,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Kb);const c=Rb(),u=(0,t.useRef)(!1),d=(0,t.useContext)(Hg),h=(0,t.useContext)(Lb);let f,m;h&&(a=a||"tablist",s=h.activeKey,f=h.getControlledId,m=h.getControllerId);const p=(0,t.useRef)(null),g=e=>{const t=p.current;if(!t)return null;const n=db(t,"[".concat(Gb,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},v=(e,t)=>{null!=e&&(null==i||i(e,t),null==d||d(e,t))};(0,t.useEffect)(()=>{if(p.current&&u.current){const e=p.current.querySelector("[".concat(Gb,"][aria-selected=true]"));null==e||e.focus()}u.current=!1});const y=xy(n,p);return(0,Fe.jsx)(Hg.Provider,{value:v,children:(0,Fe.jsx)(Db.Provider,{value:{role:a,activeKey:Bg(s),getControlledId:f||Wb,getControllerId:m||Wb},children:(0,Fe.jsx)(r,Object.assign({},l,{onKeyDown:e=>{if(null==o||o(e),!h)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}t&&(e.preventDefault(),v(t.dataset[function(e){return"".concat("rrUi").concat(e)}("EventKey")]||null,e),u.current=!0,c())},ref:y,role:a}))})})});Qb.displayName="Nav";const Yb=Object.assign(Qb,{Item:qb}),Xb=t.createContext(null);Xb.displayName="CardHeaderContext";const Jb=Xb,$b=["className","bsPrefix","as"],Zb=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,s=De(e,$b);return r=qe(r,"nav-item"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});Zb.displayName="NavItem";const ex=Zb;new WeakMap;const tx=["onKeyDown"];const nx=t.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,tx);const[i]=Fb(Object.assign({tagName:"a"},r)),s=hy(e=>{i.onKeyDown(e),null==n||n(e)});return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,Fe.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,Fe.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s}));var a});nx.displayName="Anchor";const rx=nx,ix=["bsPrefix","className","as","active","eventKey","disabled"],sx=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:i=rx,active:s,eventKey:a,disabled:o=!1}=e,l=De(e,ix);n=qe(n,"nav-link");const[c,u]=Bb(Re({key:Bg(a,l.href),active:s,disabled:o},l));return(0,Fe.jsx)(i,Re(Re(Re({},l),c),{},{ref:t,disabled:o,className:Me()(r,n,o&&"disabled",u.isActive&&"active")}))});sx.displayName="NavLink";const ax=sx,ox=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],lx=t.forwardRef((e,n)=>{const r=Gg(e,{activeKey:"onSelect"}),{as:i="div",bsPrefix:s,variant:a,fill:o=!1,justify:l=!1,navbar:c,navbarScroll:u,className:d,activeKey:h}=r,f=De(r,ox),m=qe(s,"nav");let p,g,v=!1;const y=(0,t.useContext)(qv),b=(0,t.useContext)(Jb);return y?(p=y.bsPrefix,v=null==c||c):b&&({cardHeaderBsPrefix:g}=b),(0,Fe.jsx)(Yb,Re({as:i,ref:n,activeKey:h,className:Me()(d,{[m]:!v,["".concat(p,"-nav")]:v,["".concat(p,"-nav-scroll")]:v&&u,["".concat(g,"-").concat(a)]:!!g,["".concat(m,"-").concat(a)]:!!a,["".concat(m,"-fill")]:o,["".concat(m,"-justified")]:l})},f))});lx.displayName="Nav";const cx=Object.assign(lx,{Item:ex,Link:ax}),ux=["as","bsPrefix","variant","size","active","disabled","className"],dx=t.forwardRef((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:s,active:a=!1,disabled:o=!1,className:l}=e,c=De(e,ux);const u=qe(r,"btn"),[d,{tagName:h}]=Fb(Re({tagName:n,disabled:o},c)),f=h;return(0,Fe.jsx)(f,Re(Re(Re({},d),c),{},{ref:t,disabled:o,className:Me()(l,u,a&&"active",i&&"".concat(u,"-").concat(i),s&&"".concat(u,"-").concat(s),c.href&&o&&"disabled")}))});dx.displayName="Button";const hx=dx;function fx(e,n,r){const i=(0,t.useRef)(void 0!==e),[s,a]=(0,t.useState)(n),o=void 0!==e,l=i.current;return i.current=o,!o&&l&&s!==n&&a(n),[o?e:s,(0,t.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[i,...s]=t;let o=null==r?void 0:r(i,...s);return a(i),o},[r])]}const mx=t.createContext(null);var px=Object.prototype.hasOwnProperty;function gx(e,t,n){for(n of e.keys())if(vx(n,t))return n}function vx(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&vx(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=gx(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=gx(t,i)))return!1;if(!vx(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(px.call(e,n)&&++r&&!px.call(t,n))return!1;if(!(n in t)||!vx(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const yx=function(e){const n=ly();return[e[0],(0,t.useCallback)(t=>{if(n())return e[1](t)},[n,e[1]])]};function bx(e){return e.split("-")[0]}function xx(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function wx(e){return e instanceof xx(e).Element||e instanceof Element}function Ex(e){return e instanceof xx(e).HTMLElement||e instanceof HTMLElement}function Nx(e){return"undefined"!==typeof ShadowRoot&&(e instanceof xx(e).ShadowRoot||e instanceof ShadowRoot)}var Sx=Math.max,Cx=Math.min,kx=Math.round;function _x(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Tx(){return!/^((?!chrome|android).)*safari/i.test(_x())}function jx(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&Ex(e)&&(i=e.offsetWidth>0&&kx(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&kx(r.height)/e.offsetHeight||1);var a=(wx(e)?xx(e):window).visualViewport,o=!Tx()&&n,l=(r.left+(o&&a?a.offsetLeft:0))/i,c=(r.top+(o&&a?a.offsetTop:0))/s,u=r.width/i,d=r.height/s;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function Ix(e){var t=jx(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Px(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Nx(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ax(e){return e?(e.nodeName||"").toLowerCase():null}function Rx(e){return xx(e).getComputedStyle(e)}function Ox(e){return["table","td","th"].indexOf(Ax(e))>=0}function Dx(e){return((wx(e)?e.ownerDocument:e.document)||window.document).documentElement}function Lx(e){return"html"===Ax(e)?e:e.assignedSlot||e.parentNode||(Nx(e)?e.host:null)||Dx(e)}function Mx(e){return Ex(e)&&"fixed"!==Rx(e).position?e.offsetParent:null}function Fx(e){for(var t=xx(e),n=Mx(e);n&&Ox(n)&&"static"===Rx(n).position;)n=Mx(n);return n&&("html"===Ax(n)||"body"===Ax(n)&&"static"===Rx(n).position)?t:n||function(e){var t=/firefox/i.test(_x());if(/Trident/i.test(_x())&&Ex(e)&&"fixed"===Rx(e).position)return null;var n=Lx(e);for(Nx(n)&&(n=n.host);Ex(n)&&["html","body"].indexOf(Ax(n))<0;){var r=Rx(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Ux(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vx(e,t,n){return Sx(e,Cx(t,n))}function zx(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Bx(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}var Hx="top",qx="bottom",Kx="right",Wx="left",Gx="auto",Qx=[Hx,qx,Kx,Wx],Yx="start",Xx="end",Jx="viewport",$x="popper",Zx=Qx.reduce(function(e,t){return e.concat([t+"-"+Yx,t+"-"+Xx])},[]),ew=[].concat(Qx,[Gx]).reduce(function(e,t){return e.concat([t,t+"-"+Yx,t+"-"+Xx])},[]),tw=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const nw={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=bx(n.placement),l=Ux(o),c=[Wx,Kx].indexOf(o)>=0?"height":"width";if(s&&a){var u=function(e,t){return zx("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Bx(e,Qx))}(i.padding,n),d=Ix(s),h="y"===l?Hx:Wx,f="y"===l?qx:Kx,m=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],p=a[l]-n.rects.reference[l],g=Fx(s),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=m/2-p/2,b=u[h],x=v-d[c]-u[f],w=v/2-d[c]/2+y,E=Vx(b,w,x),N=l;n.modifiersData[r]=((t={})[N]=E,t.centerOffset=E-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Px(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rw(e){return e.split("-")[1]}var iw={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sw(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,a=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,f=void 0===h?0:h,m=a.y,p=void 0===m?0:m,g="function"===typeof u?u({x:f,y:p}):{x:f,y:p};f=g.x,p=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=Wx,x=Hx,w=window;if(c){var E=Fx(n),N="clientHeight",S="clientWidth";if(E===xx(n)&&"static"!==Rx(E=Dx(n)).position&&"absolute"===o&&(N="scrollHeight",S="scrollWidth"),i===Hx||(i===Wx||i===Kx)&&s===Xx)x=qx,p-=(d&&E===w&&w.visualViewport?w.visualViewport.height:E[N])-r.height,p*=l?1:-1;if(i===Wx||(i===Hx||i===qx)&&s===Xx)b=Kx,f-=(d&&E===w&&w.visualViewport?w.visualViewport.width:E[S])-r.width,f*=l?1:-1}var C,k=Object.assign({position:o},c&&iw),_=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:kx(n*i)/i||0,y:kx(r*i)/i||0}}({x:f,y:p},xx(n)):{x:f,y:p};return f=_.x,p=_.y,l?Object.assign({},k,((C={})[x]=y?"0":"",C[b]=v?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",C)):Object.assign({},k,((t={})[x]=y?p+"px":"",t[b]=v?f+"px":"",t.transform="",t))}const aw={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,s=n.adaptive,a=void 0===s||s,o=n.roundOffsets,l=void 0===o||o,c={placement:bx(t.placement),variation:rw(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,sw(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,sw(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ow={passive:!0};const lw={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,a=r.resize,o=void 0===a||a,l=xx(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(e){e.addEventListener("scroll",n.update,ow)}),o&&l.addEventListener("resize",n.update,ow),function(){s&&c.forEach(function(e){e.removeEventListener("scroll",n.update,ow)}),o&&l.removeEventListener("resize",n.update,ow)}},data:{}};var cw={left:"right",right:"left",bottom:"top",top:"bottom"};function uw(e){return e.replace(/left|right|bottom|top/g,function(e){return cw[e]})}var dw={start:"end",end:"start"};function hw(e){return e.replace(/start|end/g,function(e){return dw[e]})}function fw(e){var t=xx(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function mw(e){return jx(Dx(e)).left+fw(e).scrollLeft}function pw(e){var t=Rx(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function gw(e){return["html","body","#document"].indexOf(Ax(e))>=0?e.ownerDocument.body:Ex(e)&&pw(e)?e:gw(Lx(e))}function vw(e,t){var n;void 0===t&&(t=[]);var r=gw(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=xx(r),a=i?[s].concat(s.visualViewport||[],pw(r)?r:[]):r,o=t.concat(a);return i?o:o.concat(vw(Lx(a)))}function yw(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function bw(e,t,n){return t===Jx?yw(function(e,t){var n=xx(e),r=Dx(e),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var c=Tx();(c||!c&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+mw(e),y:l}}(e,n)):wx(t)?function(e,t){var n=jx(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):yw(function(e){var t,n=Dx(e),r=fw(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=Sx(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Sx(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+mw(e),l=-r.scrollTop;return"rtl"===Rx(i||n).direction&&(o+=Sx(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}(Dx(e)))}function xw(e,t,n,r){var i="clippingParents"===t?function(e){var t=vw(Lx(e)),n=["absolute","fixed"].indexOf(Rx(e).position)>=0&&Ex(e)?Fx(e):e;return wx(n)?t.filter(function(e){return wx(e)&&Px(e,n)&&"body"!==Ax(e)}):[]}(e):[].concat(t),s=[].concat(i,[n]),a=s[0],o=s.reduce(function(t,n){var i=bw(e,n,r);return t.top=Sx(i.top,t.top),t.right=Cx(i.right,t.right),t.bottom=Cx(i.bottom,t.bottom),t.left=Sx(i.left,t.left),t},bw(e,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ww(e){var t,n=e.reference,r=e.element,i=e.placement,s=i?bx(i):null,a=i?rw(i):null,o=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case Hx:t={x:o,y:n.y-r.height};break;case qx:t={x:o,y:n.y+n.height};break;case Kx:t={x:n.x+n.width,y:l};break;case Wx:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?Ux(s):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case Yx:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Xx:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function Ew(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,s=n.strategy,a=void 0===s?e.strategy:s,o=n.boundary,l=void 0===o?"clippingParents":o,c=n.rootBoundary,u=void 0===c?Jx:c,d=n.elementContext,h=void 0===d?$x:d,f=n.altBoundary,m=void 0!==f&&f,p=n.padding,g=void 0===p?0:p,v=zx("number"!==typeof g?g:Bx(g,Qx)),y=h===$x?"reference":$x,b=e.rects.popper,x=e.elements[m?y:h],w=xw(wx(x)?x:x.contextElement||Dx(e.elements.popper),l,u,a),E=jx(e.elements.reference),N=ww({reference:E,element:b,strategy:"absolute",placement:i}),S=yw(Object.assign({},b,N)),C=h===$x?S:E,k={top:w.top-C.top+v.top,bottom:C.bottom-w.bottom+v.bottom,left:w.left-C.left+v.left,right:C.right-w.right+v.right},_=e.modifiersData.offset;if(h===$x&&_){var T=_[i];Object.keys(k).forEach(function(e){var t=[Kx,qx].indexOf(e)>=0?1:-1,n=[Hx,qx].indexOf(e)>=0?"y":"x";k[e]+=T[n]*t})}return k}const Nw={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=void 0===i||i,a=n.altAxis,o=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,m=void 0===f||f,p=n.allowedAutoPlacements,g=t.options.placement,v=bx(g),y=l||(v===g||!m?[uw(g)]:function(e){if(bx(e)===Gx)return[];var t=uw(e);return[hw(e),t,hw(t)]}(g)),b=[g].concat(y).reduce(function(e,n){return e.concat(bx(n)===Gx?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?ew:l,u=rw(r),d=u?o?Zx:Zx.filter(function(e){return rw(e)===u}):Qx,h=d.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=d);var f=h.reduce(function(t,n){return t[n]=Ew(e,{placement:n,boundary:i,rootBoundary:s,padding:a})[bx(n)],t},{});return Object.keys(f).sort(function(e,t){return f[e]-f[t]})}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:p}):n)},[]),x=t.rects.reference,w=t.rects.popper,E=new Map,N=!0,S=b[0],C=0;C<b.length;C++){var k=b[C],_=bx(k),T=rw(k)===Yx,j=[Hx,qx].indexOf(_)>=0,I=j?"width":"height",P=Ew(t,{placement:k,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),A=j?T?Kx:Wx:T?qx:Hx;x[I]>w[I]&&(A=uw(A));var R=uw(A),O=[];if(s&&O.push(P[_]<=0),o&&O.push(P[A]<=0,P[R]<=0),O.every(function(e){return e})){S=k,N=!1;break}E.set(k,O)}if(N)for(var D=function(e){var t=b.find(function(t){var n=E.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return S=t,"break"},L=m?3:1;L>0;L--){if("break"===D(L))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Sw(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Cw(e){return[Hx,Kx,qx,Wx].some(function(t){return e[t]>=0})}const kw={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=void 0===i?[0,0]:i,a=ew.reduce(function(e,n){return e[n]=function(e,t,n){var r=bx(e),i=[Wx,Hx].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[Wx,Kx].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}(n,t.rects,s),e},{}),o=a[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};const _w={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=void 0===i||i,a=n.altAxis,o=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,m=n.tetherOffset,p=void 0===m?0:m,g=Ew(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=bx(t.placement),y=rw(t.placement),b=!y,x=Ux(v),w="x"===x?"y":"x",E=t.modifiersData.popperOffsets,N=t.rects.reference,S=t.rects.popper,C="function"===typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,k="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(E){if(s){var j,I="y"===x?Hx:Wx,P="y"===x?qx:Kx,A="y"===x?"height":"width",R=E[x],O=R+g[I],D=R-g[P],L=f?-S[A]/2:0,M=y===Yx?N[A]:S[A],F=y===Yx?-S[A]:-N[A],U=t.elements.arrow,V=f&&U?Ix(U):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=z[I],H=z[P],q=Vx(0,N[A],V[A]),K=b?N[A]/2-L-q-B-k.mainAxis:M-q-B-k.mainAxis,W=b?-N[A]/2+L+q+H+k.mainAxis:F+q+H+k.mainAxis,G=t.elements.arrow&&Fx(t.elements.arrow),Q=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,Y=null!=(j=null==_?void 0:_[x])?j:0,X=R+W-Y,J=Vx(f?Cx(O,R+K-Y-Q):O,R,f?Sx(D,X):D);E[x]=J,T[x]=J-R}if(o){var $,Z="x"===x?Hx:Wx,ee="x"===x?qx:Kx,te=E[w],ne="y"===w?"height":"width",re=te+g[Z],ie=te-g[ee],se=-1!==[Hx,Wx].indexOf(v),ae=null!=($=null==_?void 0:_[w])?$:0,oe=se?re:te-N[ne]-S[ne]-ae+k.altAxis,le=se?te+N[ne]+S[ne]-ae-k.altAxis:ie,ce=f&&se?function(e,t,n){var r=Vx(e,t,n);return r>n?n:r}(oe,te,le):Vx(f?oe:re,te,f?le:ie);E[w]=ce,T[w]=ce-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};function Tw(e,t,n){void 0===n&&(n=!1);var r=Ex(t),i=Ex(t)&&function(e){var t=e.getBoundingClientRect(),n=kx(t.width)/e.offsetWidth||1,r=kx(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=Dx(t),a=jx(e,i,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Ax(t)||pw(s))&&(o=function(e){return e!==xx(e)&&Ex(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:fw(e);var t}(t)),Ex(t)?((l=jx(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=mw(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function jw(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||i(e)}),r}function Iw(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var Pw={placement:"bottom",modifiers:[],strategy:"absolute"};function Aw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Rw(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?Pw:i;return function(e,t,n){void 0===n&&(n=s);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pw,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],o=!1,l={state:i,setOptions:function(n){var o="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},s,i.options,o),i.scrollParents={reference:wx(e)?vw(e):e.contextElement?vw(e.contextElement):[],popper:vw(t)};var u=function(e){var t=jw(e);return tw.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter(function(e){return e.enabled}),i.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var o=s({state:i,name:t,instance:l,options:r}),c=function(){};a.push(o||c)}}),l.update()},forceUpdate:function(){if(!o){var e=i.elements,t=e.reference,n=e.popper;if(Aw(t,n)){i.rects={reference:Tw(t,Fx(n),"fixed"===i.options.strategy),popper:Ix(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(e){return i.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var s=i.orderedModifiers[r],a=s.fn,c=s.options,u=void 0===c?{}:c,d=s.name;"function"===typeof a&&(i=a({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:Iw(function(){return new Promise(function(e){l.forceUpdate(),e(i)})}),destroy:function(){c(),o=!0}};if(!Aw(e,t))return l;function c(){a.forEach(function(e){return e()}),a=[]}return l.setOptions(n).then(function(e){!o&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}const Ow=Rw({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,a=Ew(t,{elementContext:"reference"}),o=Ew(t,{altBoundary:!0}),l=Sw(a,r),c=Sw(o,i,s),u=Cw(l),d=Cw(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ww({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},aw,lw,kw,Nw,_w,nw]}),Dw=["enabled","placement","strategy","modifiers"];const Lw={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Mw={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter(e=>e.trim()!==n.id);t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:i}=t.elements,s=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===s&&"setAttribute"in i){const e=i.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",e?"".concat(e,",").concat(r.id):r.id)}}},Fw=[];const Uw=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:i=!0,placement:s="bottom",strategy:a="absolute",modifiers:o=Fw}=r,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(r,Dw);const c=(0,t.useRef)(o),u=(0,t.useRef)(),d=(0,t.useCallback)(()=>{var e;null==(e=u.current)||e.update()},[]),h=(0,t.useCallback)(()=>{var e;null==(e=u.current)||e.forceUpdate()},[]),[f,m]=yx((0,t.useState)({placement:s,update:d,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),p=(0,t.useMemo)(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach(e=>{n[e]=t.styles[e],r[e]=t.attributes[e]}),m({state:t,styles:n,attributes:r,update:d,forceUpdate:h,placement:t.placement})}}),[d,h,m]),g=(0,t.useMemo)(()=>(vx(c.current,o)||(c.current=o),c.current),[o]);return(0,t.useEffect)(()=>{u.current&&i&&u.current.setOptions({placement:s,strategy:a,modifiers:[...g,p,Lw]})},[a,s,p,i,g]),(0,t.useEffect)(()=>{if(i&&null!=e&&null!=n)return u.current=Ow(e,n,Object.assign({},l,{placement:s,strategy:a,modifiers:[...g,Mw,p]})),()=>{null!=u.current&&(u.current.destroy(),u.current=void 0,m(e=>Object.assign({},e,{attributes:{},styles:{popper:{}}})))}},[i,e,n]),f};var Vw=n(440),zw=n.n(Vw);const Bw=()=>{};const Hw=e=>e&&("current"in e?e.current:e),qw={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const Kw=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bw,{disabled:r,clickTrigger:i="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(0,t.useRef)(!1),a=(0,t.useRef)(!1),o=(0,t.useCallback)(t=>{const n=Hw(e);var r;zw()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!oy(n,t.target)||a.current,a.current=!1},[e]),l=hy(t=>{const n=Hw(e);n&&oy(n,t.target)?a.current=!0:a.current=!1}),c=hy(e=>{s.current||n(e)});(0,t.useEffect)(()=>{var t,n;if(r||null==e)return;const s=ev(Hw(e)),a=s.defaultView||window;let u=null!=(t=a.event)?t:null==(n=a.parent)?void 0:n.event,d=null;qw[i]&&(d=Cv(s,qw[i],l,!0));const h=Cv(s,i,o,!0),f=Cv(s,i,e=>{e!==u?c(e):u=void 0});let m=[];return"ontouchstart"in s.documentElement&&(m=[].slice.call(s.body.children).map(e=>Cv(e,"mousemove",Bw))),()=>{null==d||d(),h(),f(),m.forEach(e=>e())}},[e,r,i,o,l,c])};function Ww(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function Gw(e){let{enabled:t,enableEvents:n,placement:r,flip:i,offset:s,fixed:a,containerPadding:o,arrowElement:l,popperConfig:c={}}=e;var u,d,h,f,m;const p=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach(e=>{t[e.name]=e}),t):e||t}(c.modifiers);return Object.assign({},c,{placement:r,enabled:t,strategy:a?"fixed":c.strategy,modifiers:Ww(Object.assign({},p,{eventListeners:{enabled:n,options:null==(u=p.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},p.preventOverflow,{options:o?Object.assign({padding:o},null==(d=p.preventOverflow)?void 0:d.options):null==(h=p.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:s},null==(f=p.offset)?void 0:f.options)},arrow:Object.assign({},p.arrow,{enabled:!!l,options:Object.assign({},null==(m=p.arrow)?void 0:m.options,{element:l})}),flip:Object.assign({enabled:!!i},p.flip)}))})}const Qw=["children","usePopper"];const Yw=()=>{};function Xw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,t.useContext)(mx),[r,i]=(0,t.useState)(null),s=(0,t.useRef)(!1),{flip:a,offset:o,rootCloseEvent:l,fixed:c=!1,placement:u,popperConfig:d={},enableEventListeners:h=!0,usePopper:f=!!n}=e,m=null==(null==n?void 0:n.show)?!!e.show:n.show;m&&!s.current&&(s.current=!0);const{placement:p,setMenu:g,menuElement:v,toggleElement:y}=n||{},b=Uw(y,v,Gw({placement:u||p||"bottom-start",enabled:f,enableEvents:null==h?m:h,offset:o,flip:a,fixed:c,arrowElement:r,popperConfig:d})),x=Object.assign({ref:g||Yw,"aria-labelledby":null==y?void 0:y.id},b.attributes.popper,{style:b.styles.popper}),w={show:m,placement:p,hasShown:s.current,toggle:null==n?void 0:n.toggle,popper:f?b:null,arrowProps:f?Object.assign({ref:i},b.attributes.arrow,{style:b.styles.arrow}):{}};return Kw(v,e=>{null==n||n.toggle(!1,e)},{clickTrigger:l,disabled:!m}),[x,w]}function Jw(e){let{children:t,usePopper:n=!0}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Qw);const[i,s]=Xw(Object.assign({},r,{usePopper:n}));return(0,Fe.jsx)(Fe.Fragment,{children:t(i,s)})}Jw.displayName="DropdownMenu";const $w=Jw,Zw={prefix:String(Math.round(1e10*Math.random())),current:0},eE=t.createContext(Zw),tE=t.createContext(!1);Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);let nE=new WeakMap;function rE(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,t.useContext)(eE),r=(0,t.useRef)(null);if(null===r.current&&!e){var i,s;let e=null===(s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===s||null===(i=s.ReactCurrentOwner)||void 0===i?void 0:i.current;if(e){let t=nE.get(e);null==t?nE.set(e,{id:n.current,state:e.memoizedState}):e.memoizedState!==t.state&&(n.current=t.id,nE.delete(e))}r.current=++n.current}return r.current}const iE="function"===typeof t.useId?function(e){let n=t.useId(),[r]=(0,t.useState)("function"===typeof t.useSyncExternalStore?t.useSyncExternalStore(oE,sE,aE):(0,t.useContext)(tE)),i=r?"react-aria":"react-aria".concat(Zw.prefix);return e||"".concat(i,"-").concat(n)}:function(e){let n=(0,t.useContext)(eE),r=rE(!!e),i="react-aria".concat(n.prefix);return e||"".concat(i,"-").concat(r)};function sE(){return!1}function aE(){return!0}function oE(e){return()=>{}}const lE=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},cE=()=>{};function uE(){const e=iE(),{show:n=!1,toggle:r=cE,setToggle:i,menuElement:s}=(0,t.useContext)(mx)||{},a=(0,t.useCallback)(e=>{r(!n,e)},[n,r]),o={id:e,ref:i||cE,onClick:a,"aria-expanded":!!n};return s&&lE(s)&&(o["aria-haspopup"]=!0),[o,{show:n,toggle:r}]}function dE(e){let{children:t}=e;const[n,r]=uE();return(0,Fe.jsx)(Fe.Fragment,{children:t(n,r)})}dE.displayName="DropdownToggle";const hE=dE,fE=["eventKey","disabled","onClick","active","as"];function mE(e){let{key:n,href:r,active:i,disabled:s,onClick:a}=e;const o=(0,t.useContext)(Hg),l=(0,t.useContext)(Db),{activeKey:c}=l||{},u=Bg(n,r),d=null==i&&null!=n?Bg(c)===u:i;return[{onClick:hy(e=>{s||(null==a||a(e),o&&!e.isPropagationStopped()&&o(u,e))}),"aria-disabled":s||void 0,"aria-selected":d,[fy("dropdown-item")]:""},{isActive:d}]}const pE=t.forwardRef((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:a=Vb}=e,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,fE);const[l]=mE({key:n,href:o.href,disabled:r,onClick:i,active:s});return(0,Fe.jsx)(a,Object.assign({},o,{ref:t},l))});pE.displayName="DropdownItem";const gE=pE;function vE(){const e=Rb(),n=(0,t.useRef)(null),r=(0,t.useCallback)(t=>{n.current=t,e()},[e]);return[n,r]}function yE(e){let{defaultShow:n,show:r,onSelect:i,onToggle:s,itemSelector:a="* [".concat(fy("dropdown-item"),"]"),focusFirstItemOnShow:o,placement:l="bottom-start",children:c}=e;const u=vy(),[d,h]=fx(r,n,s),[f,m]=vE(),p=f.current,[g,v]=vE(),y=g.current,b=uy(d),x=(0,t.useRef)(null),w=(0,t.useRef)(!1),E=(0,t.useContext)(Hg),N=(0,t.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:n})},[h]),S=hy((e,t)=>{null==i||i(e,t),N(!1,t,"select"),t.isPropagationStopped()||null==E||E(e,t)}),C=(0,t.useMemo)(()=>({toggle:N,placement:l,show:d,menuElement:p,toggleElement:y,setMenu:m,setToggle:v}),[N,l,d,p,y,m,v]);p&&b&&!d&&(w.current=p.contains(p.ownerDocument.activeElement));const k=hy(()=>{y&&y.focus&&y.focus()}),_=hy(()=>{const e=x.current;let t=o;if(null==t&&(t=!(!f.current||!lE(f.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=db(f.current,a)[0];n&&n.focus&&n.focus()});(0,t.useEffect)(()=>{d?_():w.current&&(w.current=!1,k())},[d,w,k,_]),(0,t.useEffect)(()=>{x.current=null});const T=(e,t)=>{if(!f.current)return null;const n=db(f.current,a);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=hy(r);(0,t.useEffect)(()=>{const t="function"===typeof e?e():e;return t.addEventListener(n,s,i),()=>t.removeEventListener(n,s,i)},[e])}((0,t.useCallback)(()=>u.document,[u]),"keydown",e=>{var t,n;const{key:r}=e,i=e.target,s=null==(t=f.current)?void 0:t.contains(i),a=null==(n=g.current)?void 0:n.contains(i);if(/input|textarea/i.test(i.tagName)&&(" "===r||"Escape"!==r&&s||"Escape"===r&&"search"===i.type))return;if(!s&&!a)return;if("Tab"===r&&(!f.current||!d))return;x.current=e.type;const o={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=T(i,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),d){const e=T(i,1);e&&e.focus&&e.focus()}else h(!0,o);return;case"Tab":Nv(i.ownerDocument,"keyup",e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=f.current)&&t.contains(e.target)||h(!1,o)},{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),h(!1,o)}}),(0,Fe.jsx)(Hg.Provider,{value:S,children:(0,Fe.jsx)(mx.Provider,{value:C,children:c})})}yE.displayName="Dropdown",yE.Menu=$w,yE.Toggle=hE,yE.Item=gE;const bE=yE,xE=t.createContext({});xE.displayName="DropdownContext";const wE=xE,EE=["className","bsPrefix","as","role"],NE=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="hr",role:s="separator"}=e,a=De(e,EE);return r=qe(r,"dropdown-divider"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r),role:s},a))});NE.displayName="DropdownDivider";const SE=NE,CE=["className","bsPrefix","as","role"],kE=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div",role:s="heading"}=e,a=De(e,CE);return r=qe(r,"dropdown-header"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r),role:s},a))});kE.displayName="DropdownHeader";const _E=kE,TE=["bsPrefix","className","eventKey","disabled","onClick","active","as"],jE=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,eventKey:i,disabled:s=!1,onClick:a,active:o,as:l=rx}=e,c=De(e,TE);const u=qe(n,"dropdown-item"),[d,h]=mE({key:i,href:c.href,disabled:s,onClick:a,active:o});return(0,Fe.jsx)(l,Re(Re(Re({},c),d),{},{ref:t,className:Me()(r,u,h.isActive&&"active",s&&"disabled")}))});jE.displayName="DropdownItem";const IE=jE,PE=["className","bsPrefix","as"],AE=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="span"}=e,s=De(e,PE);return r=qe(r,"dropdown-item-text"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});AE.displayName="DropdownItemText";const RE=AE,OE=t.createContext(null);OE.displayName="InputGroupContext";const DE=OE;function LE(e,t){return e}const ME=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function FE(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const UE=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,align:s,rootCloseEvent:a,flip:o=!0,show:l,renderOnMount:c,as:u="div",popperConfig:d,variant:h}=e,f=De(e,ME),m=!1;const p=(0,t.useContext)(qv),g=qe(r,"dropdown-menu"),{align:v,drop:y,isRTL:b}=(0,t.useContext)(wE);s=s||v;const x=(0,t.useContext)(DE),w=[];if(s)if("object"===typeof s){const e=Object.keys(s);if(e.length){const t=e[0],n=s[t];m="start"===n,w.push("".concat(g,"-").concat(t,"-").concat(n))}}else"end"===s&&(m=!0);const E=FE(m,y,b),[N,{hasShown:S,popper:C,show:k,toggle:_}]=Xw({flip:o,rootCloseEvent:a,show:l,usePopper:!p&&0===w.length,offset:[0,2],popperConfig:d,placement:E});if(N.ref=Rv(LE(n),N.ref),ey(()=>{k&&(null==C||C.update())},[k]),!S&&!c&&!x)return null;"string"!==typeof u&&(N.show=k,N.close=()=>null==_?void 0:_(!1),N.align=s);let T=f.style;return null!=C&&C.placement&&(T=Re(Re({},f.style),N.style),f["x-placement"]=C.placement),(0,Fe.jsx)(u,Re(Re(Re(Re({},f),N),{},{style:T},(w.length||p)&&{"data-bs-popper":"static"}),{},{className:Me()(i,g,k&&"show",m&&"".concat(g,"-end"),h&&"".concat(g,"-").concat(h),...w)}))});UE.displayName="DropdownMenu";const VE=UE,zE=["bsPrefix","split","className","childBsPrefix","as"],BE=t.forwardRef((e,n)=>{let{bsPrefix:r,split:i,className:s,childBsPrefix:a,as:o=hx}=e,l=De(e,zE);const c=qe(r,"dropdown-toggle"),u=(0,t.useContext)(mx);void 0!==a&&(l.bsPrefix=a);const[d]=uE();return d.ref=Rv(d.ref,LE(n)),(0,Fe.jsx)(o,Re(Re({className:Me()(s,c,i&&"".concat(c,"-split"),(null==u?void 0:u.show)&&"show")},d),l))});BE.displayName="DropdownToggle";const HE=BE,qE=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],KE=t.forwardRef((e,n)=>{const r=Gg(e,{show:"onToggle"}),{bsPrefix:i,drop:s="down",show:a,className:o,align:l="start",onSelect:c,onToggle:u,focusFirstItemOnShow:d,as:h="div",navbar:f,autoClose:m=!0}=r,p=De(r,qE),g=(0,t.useContext)(DE),v=qe(i,"dropdown"),y=function(){const{dir:e}=(0,t.useContext)(ze);return"rtl"===e}(),b=Yv((e,t)=>{var n;var r;(null==(n=t.originalEvent)||null==(n=n.target)?void 0:n.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),r=t.source,(!1===m?"click"===r:"inside"===m?"rootClose"!==r:"outside"!==m||"select"!==r)&&(null==u||u(e,t)))}),x=FE("end"===l,s,y),w=(0,t.useMemo)(()=>({align:l,drop:s,isRTL:y}),[l,s,y]),E={down:v,"down-centered":"".concat(v,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,Fe.jsx)(wE.Provider,{value:w,children:(0,Fe.jsx)(bE,{placement:x,show:a,onSelect:c,onToggle:b,focusFirstItemOnShow:d,itemSelector:".".concat(v,"-item:not(.disabled):not(:disabled)"),children:g?p.children:(0,Fe.jsx)(h,Re(Re({},p),{},{ref:n,className:Me()(o,a&&"show",E[s])}))})})});KE.displayName="Dropdown";const WE=Object.assign(KE,{Toggle:HE,Menu:VE,Item:IE,ItemText:RE,Divider:SE,Header:_E}),GE=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],QE=t.forwardRef((e,t)=>{let{id:n,title:r,children:i,bsPrefix:s,className:a,rootCloseEvent:o,menuRole:l,disabled:c,active:u,renderMenuOnMount:d,menuVariant:h}=e,f=De(e,GE);const m=qe(void 0,"nav-item");return(0,Fe.jsxs)(WE,Re(Re({ref:t},f),{},{className:Me()(a,m),children:[(0,Fe.jsx)(WE.Toggle,{id:n,eventKey:null,active:u,disabled:c,childBsPrefix:s,as:ax,children:r}),(0,Fe.jsx)(WE.Menu,{role:l,renderOnMount:d,rootCloseEvent:o,variant:h,children:i})]}))});QE.displayName="NavDropdown";const YE=Object.assign(QE,{Item:WE.Item,ItemText:WE.ItemText,Divider:WE.Divider,Header:WE.Header}),XE=e=>{let{isAuthenticated:n,currentUser:r}=e;const i=ee(),[s,a]=(0,t.useState)(!1),o=()=>{a(!1)};return(0,Fe.jsx)(Ab,{expand:"lg",className:"navbar-custom",expanded:s,onToggle:()=>a(!s),children:(0,Fe.jsxs)(Ye,{fluid:"xl",children:[(0,Fe.jsxs)(Ab.Brand,{as:ke,to:"/",onClick:o,children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check me-2"}),"Sistema Denuncias"]}),(0,Fe.jsx)(Ab.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,Fe.jsxs)(Ab.Collapse,{id:"basic-navbar-nav",children:[(0,Fe.jsxs)(cx,{className:"me-auto",children:[(0,Fe.jsxs)(cx.Link,{as:ke,to:"/",onClick:o,children:[(0,Fe.jsx)("i",{className:"bi bi-house-door me-1"}),"Inicio"]}),(0,Fe.jsxs)(cx.Link,{as:ke,to:"/denuncias",onClick:o,children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle me-1"}),"Denuncias"]}),(0,Fe.jsxs)(cx.Link,{as:ke,to:"/ranking",onClick:o,children:[(0,Fe.jsx)("i",{className:"bi bi-trophy me-1"}),"Ranking"]}),(0,Fe.jsxs)(cx.Link,{as:ke,to:"/comunidad",onClick:o,children:[(0,Fe.jsx)("i",{className:"bi bi-people me-1"}),"Comunidad"]}),(0,Fe.jsxs)(cx.Link,{as:ke,to:"/soporte",onClick:o,children:[(0,Fe.jsx)("i",{className:"bi bi-question-circle me-1"}),"Soporte"]})]}),(0,Fe.jsx)(cx,{children:n?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(cx.Link,{as:ke,to:"/denuncias/crear",onClick:o,children:(0,Fe.jsxs)(hx,{variant:"outline-light",size:"sm",children:[(0,Fe.jsx)("i",{className:"bi bi-plus-circle me-1"}),"Nueva Denuncia"]})}),(0,Fe.jsxs)(YE,{title:(0,Fe.jsxs)("span",{children:[(0,Fe.jsx)("i",{className:"bi bi-person-circle me-1"}),(null===r||void 0===r?void 0:r.displayName)||(null===r||void 0===r?void 0:r.email)||"Usuario"]}),id:"user-dropdown",align:"end",children:[(0,Fe.jsxs)(YE.Item,{as:ke,to:"/perfil",onClick:o,children:[(0,Fe.jsx)("i",{className:"bi bi-person me-2"}),"Mi Perfil"]}),(0,Fe.jsx)(YE.Divider,{}),(0,Fe.jsxs)(YE.Item,{onClick:()=>{Lg.logout(),i("/"),a(!1)},children:[(0,Fe.jsx)("i",{className:"bi bi-box-arrow-right me-2"}),"Cerrar Sesi\xf3n"]})]})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(cx.Link,{as:ke,to:"/login",onClick:o,children:(0,Fe.jsxs)(hx,{variant:"outline-light",size:"sm",className:"me-2",children:[(0,Fe.jsx)("i",{className:"bi bi-box-arrow-in-right me-1"}),"Iniciar Sesi\xf3n"]})}),(0,Fe.jsx)(cx.Link,{as:ke,to:"/register",onClick:o,children:(0,Fe.jsxs)(hx,{variant:"warning",size:"sm",children:[(0,Fe.jsx)("i",{className:"bi bi-person-plus me-1"}),"Crear Cuenta"]})})]})})]})]})})},JE=["bsPrefix","className","as"],$E=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:i="div"}=e,s=De(e,JE);const a=qe(n,"row"),o=Ke(),l=We(),c="".concat(a,"-cols"),u=[];return o.forEach(e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?"-".concat(e):"";null!=n&&u.push("".concat(c).concat(r,"-").concat(n))}),(0,Fe.jsx)(i,Re(Re({ref:t},s),{},{className:Me()(r,a,...u)}))});$E.displayName="Row";const ZE=$E,eN=["as","bsPrefix","className"],tN=["className"];const nN=t.forwardRef((e,t)=>{const[n,{as:r="div",bsPrefix:i,spans:s}]=function(e){let{as:t,bsPrefix:n,className:r}=e,i=De(e,eN);n=qe(n,"col");const s=Ke(),a=We(),o=[],l=[];return s.forEach(e=>{const t=i[e];let r,s,c;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:s,order:c}=t):r=t;const u=e!==a?"-".concat(e):"";r&&o.push(!0===r?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(r)),null!=c&&l.push("order".concat(u,"-").concat(c)),null!=s&&l.push("offset".concat(u,"-").concat(s))}),[Re(Re({},i),{},{className:Me()(r,...o,...l)}),{as:t,bsPrefix:n,spans:o}]}(e),{className:a}=n,o=De(n,tN);return(0,Fe.jsx)(r,Re(Re({},o),{},{ref:t,className:Me()(a,!s.length&&i)}))});nN.displayName="Col";const rN=nN,iN=()=>{const e=(new Date).getFullYear();return(0,Fe.jsx)("footer",{className:"bg-light-custom border-top mt-5 py-4",children:(0,Fe.jsxs)(Ye,{fluid:"xl",children:[(0,Fe.jsxs)(ZE,{children:[(0,Fe.jsxs)(rN,{md:6,children:[(0,Fe.jsxs)("h6",{className:"fw-bold text-primary-blue",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check me-2"}),"Sistema de Denuncias An\xf3nimas"]}),(0,Fe.jsx)("p",{className:"text-muted-custom mb-2",children:"Plataforma ciudadana para reportar problemas comunitarios de forma an\xf3nima y colaborativa."}),(0,Fe.jsxs)("p",{className:"text-muted-custom small mb-0",children:["\xa9 ",e," Sistema de Denuncias. Todos los derechos reservados."]})]}),(0,Fe.jsxs)(rN,{md:3,children:[(0,Fe.jsx)("h6",{className:"fw-bold",children:"Enlaces \xdatiles"}),(0,Fe.jsxs)("ul",{className:"list-unstyled",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)(ke,{to:"/denuncias",className:"text-decoration-none text-muted-custom",children:"Ver Denuncias"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)(ke,{to:"/ranking",className:"text-decoration-none text-muted-custom",children:"Ranking Popular"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)(ke,{to:"/comunidad",className:"text-decoration-none text-muted-custom",children:"Comunidad"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)(ke,{to:"/soporte",className:"text-decoration-none text-muted-custom",children:"Soporte"})})]})]}),(0,Fe.jsxs)(rN,{md:3,children:[(0,Fe.jsx)("h6",{className:"fw-bold",children:"Informaci\xf3n"}),(0,Fe.jsxs)("ul",{className:"list-unstyled",children:[(0,Fe.jsxs)("li",{className:"text-muted-custom",children:[(0,Fe.jsx)("i",{className:"bi bi-envelope me-2"}),"contacto@denuncias.com"]}),(0,Fe.jsxs)("li",{className:"text-muted-custom",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-lock me-2"}),"100% An\xf3nimo"]}),(0,Fe.jsxs)("li",{className:"text-muted-custom",children:[(0,Fe.jsx)("i",{className:"bi bi-people me-2"}),"Gesti\xf3n Comunitaria"]}),(0,Fe.jsxs)("li",{className:"text-muted-custom",children:[(0,Fe.jsx)("i",{className:"bi bi-clock me-2"}),"24/7 Disponible"]})]})]})]}),(0,Fe.jsx)("hr",{className:"border-custom"}),(0,Fe.jsxs)(ZE,{className:"align-items-center",children:[(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsx)("p",{className:"text-muted-custom small mb-0",children:"Desarrollado con React.js y Bootstrap"})}),(0,Fe.jsx)(rN,{md:6,className:"text-md-end",children:(0,Fe.jsx)("p",{className:"text-muted-custom small mb-0",children:"Versi\xf3n 1.0.0 - Demo"})})]})]})})},sN=["className","bsPrefix","as"],aN=sb("h4");aN.displayName="DivStyledAsH4";const oN=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i=aN}=e,s=De(e,sN);return r=qe(r,"alert-heading"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});oN.displayName="AlertHeading";const lN=oN,cN=["className","bsPrefix","as"],uN=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i=rx}=e,s=De(e,cN);return r=qe(r,"alert-link"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});uN.displayName="AlertLink";const dN=uN,hN=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],fN=t.forwardRef((e,t)=>{const n=Gg(e,{show:"onClose"}),{bsPrefix:r,show:i=!0,closeLabel:s="Close alert",closeVariant:a,className:o,children:l,variant:c="primary",onClose:u,dismissible:d,transition:h=Fy}=n,f=De(n,hN),m=qe(r,"alert"),p=Yv(e=>{u&&u(!1,e)}),g=!0===h?Fy:h,v=(0,Fe.jsxs)("div",Re(Re({role:"alert"},g?void 0:f),{},{ref:t,className:Me()(o,m,c&&"".concat(m,"-").concat(c),d&&"".concat(m,"-dismissible")),children:[d&&(0,Fe.jsx)($y,{onClick:p,"aria-label":s,variant:a}),l]}));return g?(0,Fe.jsx)(g,Re(Re({unmountOnExit:!0},f),{},{ref:void 0,in:i,children:v})):i?v:null});fN.displayName="Alert";const mN=Object.assign(fN,{Link:dN,Heading:lN}),pN=["className","bsPrefix","as"],gN=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,s=De(e,pN);return r=qe(r,"card-body"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});gN.displayName="CardBody";const vN=gN,yN=["className","bsPrefix","as"],bN=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,s=De(e,yN);return r=qe(r,"card-footer"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});bN.displayName="CardFooter";const xN=bN,wN=["bsPrefix","className","as"],EN=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,as:s="div"}=e,a=De(e,wN);const o=qe(r,"card-header"),l=(0,t.useMemo)(()=>({cardHeaderBsPrefix:o}),[o]);return(0,Fe.jsx)(Jb.Provider,{value:l,children:(0,Fe.jsx)(s,Re(Re({ref:n},a),{},{className:Me()(i,o)}))})});EN.displayName="CardHeader";const NN=EN,SN=["bsPrefix","className","variant","as"],CN=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:s="img"}=e,a=De(e,SN);const o=qe(n,"card-img");return(0,Fe.jsx)(s,Re({ref:t,className:Me()(i?"".concat(o,"-").concat(i):o,r)},a))});CN.displayName="CardImg";const kN=CN,_N=["className","bsPrefix","as"],TN=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,s=De(e,_N);return r=qe(r,"card-img-overlay"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});TN.displayName="CardImgOverlay";const jN=TN,IN=["className","bsPrefix","as"],PN=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="a"}=e,s=De(e,IN);return r=qe(r,"card-link"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});PN.displayName="CardLink";const AN=PN,RN=["className","bsPrefix","as"],ON=sb("h6"),DN=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i=ON}=e,s=De(e,RN);return r=qe(r,"card-subtitle"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});DN.displayName="CardSubtitle";const LN=DN,MN=["className","bsPrefix","as"],FN=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="p"}=e,s=De(e,MN);return r=qe(r,"card-text"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});FN.displayName="CardText";const UN=FN,VN=["className","bsPrefix","as"],zN=sb("h5"),BN=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i=zN}=e,s=De(e,VN);return r=qe(r,"card-title"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});BN.displayName="CardTitle";const HN=BN,qN=["bsPrefix","className","bg","text","border","body","children","as"],KN=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:s,border:a,body:o=!1,children:l,as:c="div"}=e,u=De(e,qN);const d=qe(n,"card");return(0,Fe.jsx)(c,Re(Re({ref:t},u),{},{className:Me()(r,d,i&&"bg-".concat(i),s&&"text-".concat(s),a&&"border-".concat(a)),children:o?(0,Fe.jsx)(vN,{children:l}):l}))});KN.displayName="Card";const WN=Object.assign(KN,{Img:kN,Title:HN,Subtitle:LN,Body:vN,Link:AN,Text:UN,Header:NN,Footer:xN,ImgOverlay:jN}),GN=["bsPrefix","bg","pill","text","className","as"],QN=t.forwardRef((e,t)=>{let{bsPrefix:n,bg:r="primary",pill:i=!1,text:s,className:a,as:o="span"}=e,l=De(e,GN);const c=qe(n,"badge");return(0,Fe.jsx)(o,Re(Re({ref:t},l),{},{className:Me()(a,c,i&&"rounded-pill",s&&"text-".concat(s),r&&"bg-".concat(r))}))});QN.displayName="Badge";const YN=QN,XN=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e?e.length<=t?e:e.substring(0,t).trim()+n:""},JN=e=>e<1e3?e.toString():e<1e6?"".concat((e/1e3).toFixed(1),"K"):"".concat((e/1e6).toFixed(1),"M"),$N=e=>e?e.split(" ").map(e=>e.charAt(0).toUpperCase()).join("").substring(0,2):"",ZN=e=>{if(!e)return"#64748b";let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);const n=["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#06b6d4","#84cc16","#f97316"];return n[Math.abs(t)%n.length]},eS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if(!e)return 0===t;const r=e.trim().length;return r>=t&&r<=n},tS=e=>{if(!e)return"";return new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})},nS=e=>{if(!e)return"";const t=new Date(e),n=new Date-t,r=Math.floor(n/6e4);if(r<1)return"Hace un momento";if(r<60)return"Hace ".concat(r," minuto").concat(r>1?"s":"");if(r<1440){const e=Math.floor(r/60);return"Hace ".concat(e," hora").concat(e>1?"s":"")}if(r<10080){const e=Math.floor(r/1440);return"Hace ".concat(e," d\xeda").concat(e>1?"s":"")}return tS(e)},rS=e=>{var n,r;let{denuncia:i,showFullDescription:s=!1,onUpdate:a}=e;const[o,l]=(0,t.useState)(i.likes),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=!1;return(async()=>{const t=await zg.hasUserLikedDenuncia(i.id);e||u(t)})(),()=>{e=!0}},[i.id]);return(0,Fe.jsxs)(WN,{className:"denuncia-card h-100 fade-in",children:[(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("div",{className:"denuncia-header",children:[(0,Fe.jsx)(YN,{bg:{Seguridad:"danger",Infraestructura:"warning","Medio Ambiente":"success","Servicios P\xfablicos":"primary",Transporte:"secondary",Salud:"info","Educaci\xf3n":"success",Otros:"secondary"}[i.categoria]||"secondary",className:"mb-2",children:i.categoria}),(0,Fe.jsxs)("div",{className:"likes-section",children:[(0,Fe.jsx)(hx,{variant:"link",className:"like-button p-0 ".concat(c?"liked":""),onClick:async e=>{if(e.preventDefault(),e.stopPropagation(),!Lg.isUserAuthenticated())return void alert("Debe iniciar sesi\xf3n para dar like");if(d)return;h(!0);const t=await zg.toggleLikeDenuncia(i.id);t.success?(l(t.likes),u(t.liked),a&&a()):alert(t.message),h(!1)},disabled:d,title:c?"Quitar like":"Dar like",children:(0,Fe.jsx)("i",{className:"bi ".concat(c?"bi-heart-fill":"bi-heart")})}),(0,Fe.jsx)("span",{className:"likes-count ms-1",children:o})]})]}),(0,Fe.jsx)(WN.Title,{children:(0,Fe.jsx)(ke,{to:"/denuncias/".concat(i.id),className:"text-decoration-none text-dark",children:i.titulo})}),(0,Fe.jsx)(WN.Text,{className:"text-muted-custom",children:s?i.descripcion:XN(i.descripcion,150)}),(0,Fe.jsxs)(ZE,{className:"align-items-center text-muted-custom small",children:[(0,Fe.jsxs)(rN,{children:[(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),nS(i.fechaCreacion)]}),(0,Fe.jsxs)(rN,{xs:"auto",children:[(0,Fe.jsx)("i",{className:"bi bi-chat me-1"}),(null===(n=i.comentarios)||void 0===n?void 0:n.length)||0," comentario",1!==((null===(r=i.comentarios)||void 0===r?void 0:r.length)||0)?"s":""]})]})]}),!s&&(0,Fe.jsx)(WN.Footer,{className:"bg-transparent border-top-0",children:(0,Fe.jsxs)(ke,{to:"/denuncias/".concat(i.id),className:"btn btn-outline-primary btn-sm",children:["Ver detalles",(0,Fe.jsx)("i",{className:"bi bi-arrow-right ms-1"})]})})]})};class iS{constructor(e){let{id:t,username:n,email:r,fechaRegistro:i,denunciasCreadas:s=[],denunciasLikadas:a=[],comentarios:o=[],configuraciones:l={notificaciones:!0,mostrarPerfil:!1,modoAnonimo:!0}}=e;this.id=t,this.username=n,this.email=r,this.fechaRegistro=i,this.denunciasCreadas=s,this.denunciasLikadas=a,this.comentarios=o,this.configuraciones=l}agregarDenunciaCreada(e){this.denunciasCreadas.includes(e)||this.denunciasCreadas.push(e)}toggleLikeDenuncia(e){const t=this.denunciasLikadas.indexOf(e);return t>-1?(this.denunciasLikadas.splice(t,1),!1):(this.denunciasLikadas.push(e),!0)}hasLikedDenuncia(e){return this.denunciasLikadas.includes(e)}agregarComentario(e){this.comentarios.includes(e)||this.comentarios.push(e)}getEstadisticas(){return{denunciasCreadas:this.denunciasCreadas.length,denunciasLikadas:this.denunciasLikadas.length,comentarios:this.comentarios.length,fechaRegistro:this.getFechaRegistroFormateada()}}getFechaRegistroFormateada(){return new Date(this.fechaRegistro).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}actualizarConfiguraciones(e){this.configuraciones=Re(Re({},this.configuraciones),e)}validar(){const e=[];return(!this.username||this.username.trim().length<3)&&e.push("El nombre de usuario debe tener al menos 3 caracteres"),this.email&&this.isValidEmail(this.email)||e.push("Debe proporcionar un email v\xe1lido"),e}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}getDisplayName(){return this.configuraciones.modoAnonimo?"Usuario An\xf3nimo":this.username}toJSON(){return{id:this.id,username:this.username,email:this.email,fechaRegistro:this.fechaRegistro,denunciasCreadas:this.denunciasCreadas,denunciasLikadas:this.denunciasLikadas,comentarios:this.comentarios,configuraciones:this.configuraciones}}}const sS=new Date,aS=new Date(sS.getTime()-36e5),oS=new Date(sS.getTime()-72e5),lS=new Date(sS.getTime()-864e5),cS=new Date(sS.getTime()-1728e5),uS=new Date(sS.getTime()-6048e5),dS=[new iS({id:"user1",username:"admin",email:"admin@denuncias.com",fechaRegistro:uS,denunciasCreadas:["den1","den2"],denunciasLikadas:["den3","den4"],comentarios:["com1","com2"]}),new iS({id:"user2",username:"ciudadano_activo",email:"ciudadano@email.com",fechaRegistro:new Date(sS.getTime()-432e6),denunciasCreadas:["den3"],denunciasLikadas:["den1","den2"],comentarios:["com3","com4"]}),new iS({id:"user3",username:"vecino_preocupado",email:"vecino@email.com",fechaRegistro:new Date(sS.getTime()-2592e5),denunciasCreadas:["den4","den5"],denunciasLikadas:["den1"],comentarios:["com5"]})],hS=(new Mg({id:"den1",titulo:"Sem\xe1foro da\xf1ado en intersecci\xf3n principal",descripcion:"El sem\xe1foro de la intersecci\xf3n entre Avenida Central y Calle 5 ha estado intermitente por tres d\xedas. Esto est\xe1 causando embotellamientos y situaciones peligrosas para peatones y conductores. Urgente reparaci\xf3n.",categoria:"Infraestructura",fechaCreacion:cS,likes:47,usuarioId:"user1",comentarios:["com1","com2","com3"]}),new Mg({id:"den2",titulo:"Falta de iluminaci\xf3n en parque municipal",descripcion:"El parque Las Flores no tiene iluminaci\xf3n nocturna funcionando. Varias l\xe1mparas est\xe1n fundidas y otras directamente no funcionan. Esto ha creado un ambiente inseguro durante las noches.",categoria:"Seguridad",fechaCreacion:lS,likes:32,usuarioId:"user1",comentarios:["com4","com5"]}),new Mg({id:"den3",titulo:"Contaminaci\xf3n auditiva por construcci\xf3n",descripcion:"La obra de construcci\xf3n en la Calle 12 inicia trabajos a las 5:30 AM todos los d\xedas, incluyendo fines de semana. El ruido excesivo est\xe1 afectando el descanso de toda la comunidad.",categoria:"Medio Ambiente",fechaCreacion:aS,likes:28,usuarioId:"user2",comentarios:["com6"]}),new Mg({id:"den4",titulo:"Falta de recolecci\xf3n de basura",descripcion:"En el sector residencial Las Palmas no pasa el cami\xf3n de basura desde hace una semana. Los desechos se est\xe1n acumulando y generando malos olores.",categoria:"Servicios P\xfablicos",fechaCreacion:oS,likes:19,usuarioId:"user3",comentarios:["com7","com8"]}),new Mg({id:"den5",titulo:"Hueco peligroso en v\xeda principal",descripcion:"Hay un hueco profundo en la Avenida Norte, justo antes del puente. Ya han ocurrido varios accidentes menores y da\xf1os a veh\xedculos. Necesita reparaci\xf3n urgente.",categoria:"Infraestructura",fechaCreacion:new Date(sS.getTime()-216e5),likes:15,usuarioId:"user3",comentarios:["com9"]}),new Mg({id:"den6",titulo:"Problema en el suministro de agua",descripcion:"El barrio Los Almendros lleva 48 horas sin suministro de agua potable. No hay comunicaci\xf3n oficial sobre cu\xe1ndo se restablecer\xe1 el servicio.",categoria:"Servicios P\xfablicos",fechaCreacion:new Date(sS.getTime()-144e5),likes:12,usuarioId:"user2",comentarios:["com10"]}),new Mg({id:"den7",titulo:"Vandalismo en parada de autob\xfas",descripcion:"La parada de autob\xfas frente al centro comercial ha sido vandalizada repetidamente. Los cristales est\xe1n rotos y hay grafitis ofensivos.",categoria:"Seguridad",fechaCreacion:new Date(sS.getTime()-288e5),likes:8,usuarioId:"user1",comentarios:["com11"]}),new Mg({id:"den8",titulo:"Falta de se\xf1alizaci\xf3n en zona escolar",descripcion:"La zona escolar de la Escuela Primaria Central no tiene se\xf1alizaci\xf3n adecuada. Los conductores no reducen la velocidad y ponen en riesgo a los ni\xf1os.",categoria:"Educaci\xf3n",fechaCreacion:new Date(sS.getTime()-432e5),likes:6,usuarioId:"user2",comentarios:[]}),new Ug({id:"com1",denunciaId:"den1",usuarioId:"user2",contenido:"Totalmente de acuerdo. He visto varios accidentes menores por esta situaci\xf3n.",fechaCreacion:new Date(cS.getTime()+72e5),likes:8}),new Ug({id:"com2",denunciaId:"den1",usuarioId:"user3",contenido:"Ya report\xe9 esto a la municipalidad hace una semana pero no han respondido.",fechaCreacion:new Date(cS.getTime()+144e5),likes:5}),new Ug({id:"com3",denunciaId:"den1",usuarioId:"user1",contenido:"Deber\xedamos organizar una petici\xf3n formal con todas las firmas de los vecinos.",fechaCreacion:new Date(cS.getTime()+216e5),likes:12}),new Ug({id:"com4",denunciaId:"den2",usuarioId:"user3",contenido:"Mi esposa ya no se atreve a caminar por ah\xed en las noches. Es una situaci\xf3n muy preocupante.",fechaCreacion:new Date(lS.getTime()+36e5),likes:6}),new Ug({id:"com5",denunciaId:"den2",usuarioId:"user2",contenido:"Conozco a un electricista que podr\xeda ayudar voluntariamente si la municipalidad da los materiales.",fechaCreacion:new Date(lS.getTime()+108e5),likes:9}),new Ug({id:"com6",denunciaId:"den3",usuarioId:"user1",contenido:"Hay que verificar si tienen permisos para trabajar en esos horarios. Podr\xeda ser una violaci\xf3n.",fechaCreacion:new Date(aS.getTime()+18e5),likes:4}),new Ug({id:"com7",denunciaId:"den4",usuarioId:"user1",contenido:"Mismo problema en mi sector. Parece ser un problema generalizado.",fechaCreacion:new Date(oS.getTime()+9e5),likes:3}),new Ug({id:"com8",denunciaId:"den4",usuarioId:"user2",contenido:"Llam\xe9 a la empresa de aseo y dijeron que es por falta de personal. Muy mala excusa.",fechaCreacion:new Date(oS.getTime()+27e5),likes:7}),new Ug({id:"com9",denunciaId:"den5",usuarioId:"user2",contenido:"Pas\xe9 por ah\xed ayer y es realmente peligroso. Casi da\xf1o la llanta de mi carro.",fechaCreacion:new Date(sS.getTime()-18e6),likes:2}),new Ug({id:"com10",denunciaId:"den6",usuarioId:"user1",contenido:"Esto es inaceptable. Deber\xedamos exigir una explicaci\xf3n y compensaci\xf3n.",fechaCreacion:new Date(sS.getTime()-108e5),likes:5}),new Ug({id:"com11",denunciaId:"den7",usuarioId:"user3",contenido:"Propongo instalar c\xe1maras de seguridad para identificar a los v\xe1ndalos.",fechaCreacion:new Date(sS.getTime()-252e5),likes:1}),[{id:"not1",titulo:"Nueva funcionalidad: Sistema de votaci\xf3n implementado",descripcion:"Ahora puedes votar por las denuncias m\xe1s importantes para darles mayor visibilidad.",fecha:new Date(sS.getTime()-1728e5),tipo:"sistema"},{id:"not2",titulo:"Reuni\xf3n comunitaria este s\xe1bado",descripcion:"Se realizar\xe1 una reuni\xf3n para discutir las principales problem\xe1ticas del sector.",fecha:new Date(sS.getTime()-864e5),tipo:"comunidad"},{id:"not3",titulo:"Municipalidad responde a denuncias sobre sem\xe1foros",descripcion:"La municipalidad ha programado reparaciones para la pr\xf3xima semana.",fecha:new Date(sS.getTime()-216e5),tipo:"respuesta"}]),fS=[{id:"faq1",pregunta:"\xbfC\xf3mo puedo crear una denuncia?",respuesta:'Dir\xedgete a la secci\xf3n "Denuncias" y haz clic en "Crear Nueva Denuncia". Completa el formulario con los detalles de tu problema.'},{id:"faq2",pregunta:"\xbfLas denuncias son realmente an\xf3nimas?",respuesta:"S\xed, todas las denuncias se publican de forma an\xf3nima. Tu identidad est\xe1 protegida y no se mostrar\xe1 p\xfablicamente."},{id:"faq3",pregunta:"\xbfQu\xe9 pasa si mi denuncia recibe muchos likes?",respuesta:"Las denuncias con m\xe1s likes aparecen primero en el ranking, lo que les da mayor visibilidad para medios y autoridades."},{id:"faq4",pregunta:"\xbfPuedo editar mi denuncia despu\xe9s de publicarla?",respuesta:"Por el momento no es posible editar denuncias. Esta funcionalidad se agregar\xe1 en futuras versiones."},{id:"faq5",pregunta:"\xbfC\xf3mo puedo reportar contenido inapropiado?",respuesta:"Puedes reportar contenido inapropiado contactando a trav\xe9s de la secci\xf3n de soporte."}],mS=[{id:"regla1",titulo:"Respeto mutuo",descripcion:"Mant\xe9n un tono respetuoso en todos los comentarios y denuncias."},{id:"regla2",titulo:"Informaci\xf3n veraz",descripcion:"Proporciona informaci\xf3n verdadera y verificable en tus denuncias."},{id:"regla3",titulo:"No spam",descripcion:"Evita publicar contenido repetitivo o no relacionado con problemas ciudadanos."},{id:"regla4",titulo:"Constructividad",descripcion:"Enf\xf3cate en proponer soluciones, no solo en se\xf1alar problemas."},{id:"regla5",titulo:"Privacidad",descripcion:"No publiques informaci\xf3n personal propia o de terceros."}],pS=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)({});return(0,t.useEffect)(()=>{(async()=>{try{const e=await zg.getDenunciasRecientes(3),t=await zg.getDenunciasPopulares(3),r=await zg.getEstadisticas();n(Array.isArray(e)?e:[]),i(Array.isArray(t)?t:[]),a(r||{})}catch(Nk){n([]),i([]),a({})}})()},[]),(0,Fe.jsxs)("div",{className:"fade-in",children:[(0,Fe.jsx)("section",{className:"bg-primary text-white py-5 mb-5 rounded",children:(0,Fe.jsx)(Ye,{children:(0,Fe.jsxs)(ZE,{className:"align-items-center",children:[(0,Fe.jsxs)(rN,{lg:8,children:[(0,Fe.jsxs)("h1",{className:"display-5 fw-bold mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check me-3"}),"Sistema de Denuncias An\xf3nimas"]}),(0,Fe.jsx)("p",{className:"lead mb-4",children:"Plataforma ciudadana para reportar problemas comunitarios de forma an\xf3nima. La comunidad vota las denuncias m\xe1s importantes para darles mayor visibilidad."}),(0,Fe.jsxs)("div",{className:"d-flex gap-3 flex-wrap",children:[(0,Fe.jsxs)(hx,{as:ke,to:"/denuncias/crear",variant:"warning",size:"lg",className:"fw-bold",children:[(0,Fe.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Crear Denuncia"]}),(0,Fe.jsxs)(hx,{as:ke,to:"/denuncias",variant:"outline-light",size:"lg",children:[(0,Fe.jsx)("i",{className:"bi bi-eye me-2"}),"Ver Denuncias"]})]})]}),(0,Fe.jsx)(rN,{lg:4,className:"text-center",children:(0,Fe.jsxs)("div",{className:"bg-white bg-opacity-10 rounded p-4",children:[(0,Fe.jsx)("h3",{className:"fw-bold",children:s.totalDenuncias}),(0,Fe.jsx)("p",{className:"mb-2",children:"Denuncias Reportadas"}),(0,Fe.jsx)("h4",{className:"fw-bold",children:s.totalLikes}),(0,Fe.jsx)("p",{className:"mb-0",children:"Votos de la Comunidad"})]})})]})})}),(0,Fe.jsx)(Ye,{children:(0,Fe.jsxs)(ZE,{children:[(0,Fe.jsxs)(rN,{lg:8,children:[(0,Fe.jsxs)("section",{className:"mb-5",children:[(0,Fe.jsx)("div",{className:"d-flex align-items-center justify-content-between mb-3",children:(0,Fe.jsxs)("h2",{className:"h4 fw-bold",children:[(0,Fe.jsx)("i",{className:"bi bi-newspaper me-2"}),"Noticias Destacadas"]})}),(0,Fe.jsx)("div",{className:"row g-3",children:hS.map(e=>(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsx)(mN,{variant:"info",className:"mb-0",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle-fill me-2 mt-1"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"alert-heading fw-bold mb-1",children:e.titulo}),(0,Fe.jsx)("p",{className:"mb-1 small",children:e.descripcion}),(0,Fe.jsx)("small",{className:"text-muted",children:nS(e.fecha)})]})]})})},e.id))})]}),(0,Fe.jsxs)("section",{className:"mb-5",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[(0,Fe.jsxs)("h2",{className:"h4 fw-bold",children:[(0,Fe.jsx)("i",{className:"bi bi-clock me-2"}),"Denuncias Recientes"]}),(0,Fe.jsxs)(ke,{to:"/denuncias",className:"btn btn-outline-primary btn-sm",children:["Ver todas",(0,Fe.jsx)("i",{className:"bi bi-arrow-right ms-1"})]})]}),(0,Fe.jsx)(ZE,{className:"g-3",children:e.map(e=>(0,Fe.jsx)(rN,{md:6,lg:4,children:(0,Fe.jsx)(rS,{denuncia:e})},e.id))})]}),(0,Fe.jsxs)("section",{className:"mb-5",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[(0,Fe.jsxs)("h2",{className:"h4 fw-bold",children:[(0,Fe.jsx)("i",{className:"bi bi-heart-fill me-2",style:{color:"#ef4444"}}),"M\xe1s Populares"]}),(0,Fe.jsxs)(ke,{to:"/ranking",className:"btn btn-outline-primary btn-sm",children:["Ver ranking",(0,Fe.jsx)("i",{className:"bi bi-arrow-right ms-1"})]})]}),(0,Fe.jsx)(ZE,{className:"g-3",children:r.map(e=>(0,Fe.jsx)(rN,{md:6,lg:4,children:(0,Fe.jsx)(rS,{denuncia:e})},e.id))})]})]}),(0,Fe.jsxs)(rN,{lg:4,children:[(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-question-circle me-2"}),"\xbfC\xf3mo Funciona?"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("div",{className:"bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"30px",height:"30px",fontSize:"0.875rem"},children:"1"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"Reporta"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Crea una denuncia an\xf3nima sobre problemas en tu comunidad"})]})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("div",{className:"bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"30px",height:"30px",fontSize:"0.875rem"},children:"2"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"Vota"}),(0,Fe.jsx)("small",{className:"text-muted",children:"La comunidad vota las denuncias m\xe1s importantes"})]})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("div",{className:"bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"30px",height:"30px",fontSize:"0.875rem"},children:"3"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"Se Resuelve"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Las autoridades priorizan seg\xfan la votaci\xf3n comunitaria"})]})]})]})]})}),(0,Fe.jsx)(WN,{className:"sidebar",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-bar-chart me-2"}),"Categor\xedas Populares"]}),(0,Fe.jsx)("div",{className:"d-flex flex-column gap-2",children:Object.entries(s.categorias||{}).sort((e,t)=>{let[,n]=e,[,r]=t;return r-n}).slice(0,5).map(e=>{let[t,n]=e;return(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsx)("span",{className:"small",children:t}),(0,Fe.jsx)("span",{className:"badge bg-secondary",children:n})]},t)})})]})})]})]})})]})},gS=["as","className","type","tooltip"],vS={type:Qy().string,tooltip:Qy().bool,as:Qy().elementType},yS=t.forwardRef((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:s=!1}=e,a=De(e,gS);return(0,Fe.jsx)(n,Re(Re({},a),{},{ref:t,className:Me()(r,"".concat(i,"-").concat(s?"tooltip":"feedback"))}))});yS.displayName="Feedback",yS.propTypes=vS;const bS=yS,xS=t.createContext({}),wS=["id","bsPrefix","className","type","isValid","isInvalid","as"],ES=t.forwardRef((e,n)=>{let{id:r,bsPrefix:i,className:s,type:a="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input"}=e,u=De(e,wS);const{controlId:d}=(0,t.useContext)(xS);return i=qe(i,"form-check-input"),(0,Fe.jsx)(c,Re(Re({},u),{},{ref:n,type:a,id:r||d,className:Me()(s,i,o&&"is-valid",l&&"is-invalid")}))});ES.displayName="FormCheckInput";const NS=ES,SS=["bsPrefix","className","htmlFor"],CS=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,htmlFor:s}=e,a=De(e,SS);const{controlId:o}=(0,t.useContext)(xS);return r=qe(r,"form-check-label"),(0,Fe.jsx)("label",Re(Re({},a),{},{ref:n,htmlFor:s||o,className:Me()(i,r)}))});CS.displayName="FormCheckLabel";const kS=CS;function _S(e,n){let r=0;return t.Children.map(e,e=>t.isValidElement(e)?n(e,r++):e)}const TS=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],jS=t.forwardRef((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:s,inline:a=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:f,className:m,style:p,title:g="",type:v="checkbox",label:y,children:b,as:x="input"}=e,w=De(e,TS);i=qe(i,"form-check"),s=qe(s,"form-switch");const{controlId:E}=(0,t.useContext)(xS),N=(0,t.useMemo)(()=>({controlId:r||E}),[E,r]),S=!b&&null!=y&&!1!==y||function(e,n){return t.Children.toArray(e).some(e=>t.isValidElement(e)&&e.type===n)}(b,kS),C=(0,Fe.jsx)(NS,Re(Re({},w),{},{type:"switch"===v?"checkbox":v,ref:n,isValid:c,isInvalid:u,disabled:l,as:x}));return(0,Fe.jsx)(xS.Provider,{value:N,children:(0,Fe.jsx)("div",{style:p,className:Me()(m,S&&i,a&&"".concat(i,"-inline"),o&&"".concat(i,"-reverse"),"switch"===v&&s),children:b||(0,Fe.jsxs)(Fe.Fragment,{children:[C,S&&(0,Fe.jsx)(kS,{title:g,children:y}),h&&(0,Fe.jsx)(bS,{type:f,tooltip:d,children:h})]})})})});jS.displayName="FormCheck";const IS=Object.assign(jS,{Input:NS,Label:kS}),PS=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],AS=t.forwardRef((e,n)=>{let{bsPrefix:r,type:i,size:s,htmlSize:a,id:o,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:f="input"}=e,m=De(e,PS);const{controlId:p}=(0,t.useContext)(xS);return r=qe(r,"form-control"),(0,Fe.jsx)(f,Re(Re({},m),{},{type:i,size:a,ref:n,readOnly:h,id:o||p,className:Me()(l,d?"".concat(r,"-plaintext"):r,s&&"".concat(r,"-").concat(s),"color"===i&&"".concat(r,"-color"),c&&"is-valid",u&&"is-invalid")}))});AS.displayName="FormControl";const RS=Object.assign(AS,{Feedback:bS}),OS=["className","bsPrefix","as"],DS=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,s=De(e,OS);return r=qe(r,"form-floating"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});DS.displayName="FormFloating";const LS=DS,MS=["controlId","as"],FS=t.forwardRef((e,n)=>{let{controlId:r,as:i="div"}=e,s=De(e,MS);const a=(0,t.useMemo)(()=>({controlId:r}),[r]);return(0,Fe.jsx)(xS.Provider,{value:a,children:(0,Fe.jsx)(i,Re(Re({},s),{},{ref:n}))})});FS.displayName="FormGroup";const US=FS,VS=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],zS=t.forwardRef((e,n)=>{let{as:r="label",bsPrefix:i,column:s=!1,visuallyHidden:a=!1,className:o,htmlFor:l}=e,c=De(e,VS);const{controlId:u}=(0,t.useContext)(xS);i=qe(i,"form-label");let d="col-form-label";"string"===typeof s&&(d="".concat(d," ").concat(d,"-").concat(s));const h=Me()(o,i,a&&"visually-hidden",s&&d);return l=l||u,s?(0,Fe.jsx)(rN,Re({ref:n,as:"label",className:h,htmlFor:l},c)):(0,Fe.jsx)(r,Re({ref:n,className:h,htmlFor:l},c))});zS.displayName="FormLabel";const BS=zS,HS=["bsPrefix","className","id"],qS=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,id:s}=e,a=De(e,HS);const{controlId:o}=(0,t.useContext)(xS);return r=qe(r,"form-range"),(0,Fe.jsx)("input",Re(Re({},a),{},{type:"range",ref:n,className:Me()(i,r),id:s||o}))});qS.displayName="FormRange";const KS=qS,WS=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],GS=t.forwardRef((e,n)=>{let{bsPrefix:r,size:i,htmlSize:s,className:a,isValid:o=!1,isInvalid:l=!1,id:c}=e,u=De(e,WS);const{controlId:d}=(0,t.useContext)(xS);return r=qe(r,"form-select"),(0,Fe.jsx)("select",Re(Re({},u),{},{size:s,ref:n,className:Me()(a,r,i&&"".concat(r,"-").concat(i),o&&"is-valid",l&&"is-invalid"),id:c||d}))});GS.displayName="FormSelect";const QS=GS,YS=["bsPrefix","className","as","muted"],XS=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:s}=e,a=De(e,YS);return n=qe(n,"form-text"),(0,Fe.jsx)(i,Re(Re({},a),{},{ref:t,className:Me()(r,n,s&&"text-muted")}))});XS.displayName="FormText";const JS=XS,$S=t.forwardRef((e,t)=>(0,Fe.jsx)(IS,Re(Re({},e),{},{ref:t,type:"switch"})));$S.displayName="Switch";const ZS=Object.assign($S,{Input:IS.Input,Label:IS.Label}),eC=["bsPrefix","className","children","controlId","label"],tC=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:s,label:a}=e,o=De(e,eC);return n=qe(n,"form-floating"),(0,Fe.jsxs)(US,Re(Re({ref:t,className:Me()(r,n),controlId:s},o),{},{children:[i,(0,Fe.jsx)("label",{htmlFor:s,children:a})]}))});tC.displayName="FloatingLabel";const nC=tC,rC=["className","validated","as"],iC={_ref:Qy().any,validated:Qy().bool,as:Qy().elementType},sC=t.forwardRef((e,t)=>{let{className:n,validated:r,as:i="form"}=e,s=De(e,rC);return(0,Fe.jsx)(i,Re(Re({},s),{},{ref:t,className:Me()(n,r&&"was-validated")}))});sC.displayName="Form",sC.propTypes=iC;const aC=Object.assign(sC,{Group:US,Control:RS,Floating:LS,Check:IS,Switch:ZS,Label:BS,Text:JS,Range:KS,Select:QS,FloatingLabel:nC}),oC=["className","bsPrefix","as"],lC=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="span"}=e,s=De(e,oC);return r=qe(r,"input-group-text"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});lC.displayName="InputGroupText";const cC=lC,uC=["bsPrefix","size","hasValidation","className","as"],dC=t.forwardRef((e,n)=>{let{bsPrefix:r,size:i,hasValidation:s,className:a,as:o="div"}=e,l=De(e,uC);r=qe(r,"input-group");const c=(0,t.useMemo)(()=>({}),[]);return(0,Fe.jsx)(DE.Provider,{value:c,children:(0,Fe.jsx)(o,Re(Re({ref:n},l),{},{className:Me()(a,r,i&&"".concat(r,"-").concat(i),s&&"has-validation")}))})});dC.displayName="InputGroup";const hC=Object.assign(dC,{Text:cC,Radio:e=>(0,Fe.jsx)(cC,{children:(0,Fe.jsx)(NS,Re({type:"radio"},e))}),Checkbox:e=>(0,Fe.jsx)(cC,{children:(0,Fe.jsx)(NS,Re({type:"checkbox"},e))})}),fC=["bsPrefix","size","vertical","className","role","as"],mC=t.forwardRef((e,t)=>{let{bsPrefix:n,size:r,vertical:i=!1,className:s,role:a="group",as:o="div"}=e,l=De(e,fC);const c=qe(n,"btn-group");let u=c;return i&&(u="".concat(c,"-vertical")),(0,Fe.jsx)(o,Re(Re({},l),{},{ref:t,role:a,className:Me()(s,u,r&&"".concat(c,"-").concat(r))}))});mC.displayName="ButtonGroup";const pC=mC,gC=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("likes"),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{f()},[o]),(0,t.useEffect)(()=>{m()},[e,s,c]);const f=async()=>{h(!0);try{const e=await zg.getDenunciasOrdenadas(o);n(e)}catch(Nk){n([])}finally{h(!1)}},m=()=>{let t=[...e];if(s&&(t=t.filter(e=>e.categoria===s)),c.trim()){const e=c.toLowerCase();t=t.filter(t=>t.titulo.toLowerCase().includes(e)||t.descripcion.toLowerCase().includes(e))}i(t)},p=e=>{l(e)},g=((e,t)=>{let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];clearTimeout(n),n=setTimeout(()=>e.apply(null,i),t)}})(e=>{u(e)},300),v=()=>{f()},y=()=>{a(""),u(""),document.getElementById("search-input").value=""};return(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsxs)(Ye,{children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("h1",{className:"fw-bold",children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle me-3"}),"Todas las Denuncias"]}),(0,Fe.jsx)("p",{className:"text-muted",children:"Explora y vota por los problemas m\xe1s importantes de la comunidad"})]}),(0,Fe.jsxs)(ke,{to:"/denuncias/crear",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Nueva Denuncia"]})]}),(0,Fe.jsxs)(ZE,{children:[(0,Fe.jsx)(rN,{lg:3,children:(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[(0,Fe.jsxs)("h5",{className:"sidebar-title mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-funnel me-2"}),"Filtros"]}),(s||c)&&(0,Fe.jsx)(hx,{variant:"link",size:"sm",onClick:y,children:"Limpiar"})]}),(0,Fe.jsxs)(aC.Group,{className:"mb-3",children:[(0,Fe.jsx)(aC.Label,{className:"small fw-bold",children:"Buscar"}),(0,Fe.jsxs)(hC,{children:[(0,Fe.jsx)(hC.Text,{children:(0,Fe.jsx)("i",{className:"bi bi-search"})}),(0,Fe.jsx)(aC.Control,{id:"search-input",type:"text",placeholder:"Buscar denuncias...",onChange:e=>g(e.target.value)})]})]}),(0,Fe.jsxs)(aC.Group,{className:"mb-3",children:[(0,Fe.jsx)(aC.Label,{className:"small fw-bold",children:"Categor\xedas"}),(0,Fe.jsx)("div",{className:"d-flex flex-column gap-2",children:Fg.map(t=>{const n=e.filter(e=>e.categoria===t).length;return(0,Fe.jsxs)(hx,{variant:s===t?"primary":"outline-secondary",size:"sm",className:"text-start",onClick:()=>(e=>{a(e===s?"":e)})(t),children:[(0,Fe.jsx)("span",{children:t}),(0,Fe.jsxs)("span",{className:"float-end",children:["(",n,")"]})]},t)})})]}),(0,Fe.jsxs)("div",{className:"mt-4 p-3 bg-light rounded",children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-2",children:"Estad\xedsticas"}),(0,Fe.jsxs)("div",{className:"small",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Total denuncias:"}),(0,Fe.jsx)("strong",{children:e.length})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Mostrando:"}),(0,Fe.jsx)("strong",{children:r.length})]}),s&&(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Categor\xeda:"}),(0,Fe.jsx)("strong",{children:s})]})]})]})]})})}),(0,Fe.jsxs)(rN,{lg:9,children:[(0,Fe.jsx)(WN,{className:"mb-4",children:(0,Fe.jsx)(WN.Body,{children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:[(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("h6",{className:"mb-1",children:[(0,Fe.jsx)("i",{className:"bi bi-sort-down me-2"}),"Ordenar por:"]})}),(0,Fe.jsxs)(pC,{size:"sm",children:[(0,Fe.jsxs)(hx,{variant:"likes"===o?"primary":"outline-primary",onClick:()=>p("likes"),children:[(0,Fe.jsx)("i",{className:"bi bi-heart-fill me-1"}),"M\xe1s Populares"]}),(0,Fe.jsxs)(hx,{variant:"fecha"===o?"primary":"outline-primary",onClick:()=>p("fecha"),children:[(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),"M\xe1s Recientes"]}),(0,Fe.jsxs)(hx,{variant:"comentarios"===o?"primary":"outline-primary",onClick:()=>p("comentarios"),children:[(0,Fe.jsx)("i",{className:"bi bi-chat me-1"}),"M\xe1s Comentadas"]})]})]})})}),d?(0,Fe.jsx)("div",{className:"loading-spinner",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Cargando..."})})}):r.length>0?(0,Fe.jsx)(ZE,{className:"g-3",children:r.map(e=>(0,Fe.jsx)(rN,{md:6,xl:4,children:(0,Fe.jsx)(rS,{denuncia:e,onUpdate:v})},e.id))}):(0,Fe.jsx)(WN,{className:"text-center",children:(0,Fe.jsxs)(WN.Body,{className:"py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-search text-muted",style:{fontSize:"3rem"}}),(0,Fe.jsx)("h5",{className:"mt-3",children:"No se encontraron denuncias"}),(0,Fe.jsx)("p",{className:"text-muted",children:c||s?"Intenta ajustar los filtros de b\xfasqueda":"A\xfan no hay denuncias publicadas"}),(c||s)&&(0,Fe.jsx)(hx,{variant:"outline-primary",onClick:y,children:"Limpiar filtros"})]})})]})]})]})})},vC=()=>{const e=ee(),[n,r]=(0,t.useState)({titulo:"",descripcion:"",categoria:""}),[i,s]=(0,t.useState)({}),[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),u=e=>{const{name:t,value:n}=e.target;r(e=>Re(Re({},e),{},{[t]:n})),i[t]&&s(e=>Re(Re({},e),{},{[t]:""}))},d=e=>({Seguridad:{description:"Problemas de seguridad p\xfablica, delincuencia, iluminaci\xf3n deficiente",color:"danger"},Infraestructura:{description:"Calles, puentes, aceras, sem\xe1foros, se\xf1alizaci\xf3n vial",color:"warning"},"Medio Ambiente":{description:"Contaminaci\xf3n, ruido, basura, espacios verdes",color:"success"},"Servicios P\xfablicos":{description:"Agua, electricidad, recolecci\xf3n de basura, transporte",color:"primary"},Transporte:{description:"Transporte p\xfablico, tr\xe1fico, estacionamiento",color:"secondary"},Salud:{description:"Servicios de salud, centros m\xe9dicos, emergencias",color:"info"},"Educaci\xf3n":{description:"Escuelas, centros educativos, programas acad\xe9micos",color:"success"},Otros:{description:"Problemas que no encajan en las categor\xedas anteriores",color:"secondary"}}[e]||{description:"",color:"secondary"});return l?(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsx)(Ye,{children:(0,Fe.jsx)(ZE,{className:"justify-content-center",children:(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsx)(WN,{className:"text-center",children:(0,Fe.jsxs)(WN.Body,{className:"py-5",children:[(0,Fe.jsx)("div",{className:"text-success mb-3",children:(0,Fe.jsx)("i",{className:"bi bi-check-circle",style:{fontSize:"4rem"}})}),(0,Fe.jsx)("h3",{className:"fw-bold text-success mb-3",children:"\xa1Denuncia Creada!"}),(0,Fe.jsx)("p",{className:"text-muted mb-4",children:"Tu denuncia ha sido publicada exitosamente. Ahora la comunidad podr\xe1 verla y votar por ella."}),(0,Fe.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status"}),(0,Fe.jsx)("span",{children:"Redirigiendo..."})]})})})})})}):(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsx)(Ye,{children:(0,Fe.jsxs)(ZE,{className:"justify-content-center",children:[(0,Fe.jsx)(rN,{lg:8,children:(0,Fe.jsxs)(WN,{children:[(0,Fe.jsx)(WN.Header,{className:"bg-primary text-white",children:(0,Fe.jsxs)("h2",{className:"h4 mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Crear Nueva Denuncia"]})}),(0,Fe.jsxs)(WN.Body,{className:"p-4",children:[(0,Fe.jsx)(mN,{variant:"info",className:"mb-4",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle-fill me-2 mt-1"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"alert-heading fw-bold mb-2",children:"Informaci\xf3n Importante"}),(0,Fe.jsxs)("ul",{className:"small mb-0",children:[(0,Fe.jsxs)("li",{children:["Tu denuncia ser\xe1 ",(0,Fe.jsx)("strong",{children:"completamente an\xf3nima"})]}),(0,Fe.jsx)("li",{children:"Proporciona detalles espec\xedficos para mayor impacto"}),(0,Fe.jsx)("li",{children:"La comunidad votar\xe1 para priorizar tu denuncia"}),(0,Fe.jsx)("li",{children:"S\xe9 respetuoso y constructivo en tu reporte"})]})]})]})}),i.general&&(0,Fe.jsxs)(mN,{variant:"danger",className:"mb-4",children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),i.general]}),(0,Fe.jsxs)(aC,{onSubmit:async t=>{if(t.preventDefault(),!(()=>{const e={};return eS(n.titulo,5,100)||(e.titulo="El t\xedtulo debe tener entre 5 y 100 caracteres"),eS(n.descripcion,10,1e3)||(e.descripcion="La descripci\xf3n debe tener entre 10 y 1000 caracteres"),n.categoria||(e.categoria="Debe seleccionar una categor\xeda"),s(e),0===Object.keys(e).length})())return;o(!0);const r=await zg.crearDenuncia(n);if(r.success)c(!0),setTimeout(()=>{e("/denuncias/".concat(r.denuncia.id))},1200);else{if(r.errores){const e={};r.errores.forEach(t=>{t.includes("t\xedtulo")&&(e.titulo=t),t.includes("descripci\xf3n")&&(e.descripcion=t),t.includes("categor\xeda")&&(e.categoria=t)}),s(e)}else s({general:r.message});o(!1)}},children:[(0,Fe.jsxs)(aC.Group,{className:"mb-4",children:[(0,Fe.jsxs)(aC.Label,{className:"fw-bold",children:[(0,Fe.jsx)("i",{className:"bi bi-card-text me-2"}),"T\xedtulo de la Denuncia ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)(aC.Control,{type:"text",name:"titulo",value:n.titulo,onChange:u,placeholder:"Describe brevemente el problema...",isInvalid:!!i.titulo,disabled:a,maxLength:100}),(0,Fe.jsx)(aC.Control.Feedback,{type:"invalid",children:i.titulo}),(0,Fe.jsxs)(aC.Text,{className:"text-muted",children:[n.titulo.length,"/100 caracteres"]})]}),(0,Fe.jsxs)(aC.Group,{className:"mb-4",children:[(0,Fe.jsxs)(aC.Label,{className:"fw-bold",children:[(0,Fe.jsx)("i",{className:"bi bi-tags me-2"}),"Categor\xeda ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsxs)(aC.Select,{name:"categoria",value:n.categoria,onChange:u,isInvalid:!!i.categoria,disabled:a,children:[(0,Fe.jsx)("option",{value:"",children:"Selecciona una categor\xeda..."}),Fg.map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]}),(0,Fe.jsx)(aC.Control.Feedback,{type:"invalid",children:i.categoria}),n.categoria&&(0,Fe.jsxs)("div",{className:"mt-2",children:[(0,Fe.jsx)(YN,{bg:d(n.categoria).color,className:"me-2",children:n.categoria}),(0,Fe.jsx)("small",{className:"text-muted",children:d(n.categoria).description})]})]}),(0,Fe.jsxs)(aC.Group,{className:"mb-4",children:[(0,Fe.jsxs)(aC.Label,{className:"fw-bold",children:[(0,Fe.jsx)("i",{className:"bi bi-file-text me-2"}),"Descripci\xf3n Detallada ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)(aC.Control,{as:"textarea",rows:6,name:"descripcion",value:n.descripcion,onChange:u,placeholder:"Proporciona todos los detalles relevantes sobre el problema. \xbfD\xf3nde ocurre? \xbfCu\xe1ndo? \xbfC\xf3mo afecta a la comunidad? \xbfQu\xe9 soluciones propones?",isInvalid:!!i.descripcion,disabled:a,maxLength:1e3}),(0,Fe.jsx)(aC.Control.Feedback,{type:"invalid",children:i.descripcion}),(0,Fe.jsxs)(aC.Text,{className:"text-muted",children:[n.descripcion.length,"/1000 caracteres. S\xe9 espec\xedfico y detallado."]})]}),(0,Fe.jsxs)("div",{className:"d-flex gap-3 justify-content-end",children:[(0,Fe.jsxs)(hx,{variant:"outline-secondary",onClick:()=>e("/denuncias"),disabled:a,children:[(0,Fe.jsx)("i",{className:"bi bi-x-circle me-2"}),"Cancelar"]}),(0,Fe.jsx)(hx,{type:"submit",className:"btn-primary-custom",disabled:a||!n.titulo||!n.descripcion||!n.categoria,children:a?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Publicando..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-send me-2"}),"Publicar Denuncia"]})})]})]})]})]})}),(0,Fe.jsxs)(rN,{lg:4,children:[(0,Fe.jsx)(WN,{className:"sidebar",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-lightbulb me-2"}),"Consejos para una Buena Denuncia"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-1-circle text-primary me-2 mt-1"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"S\xe9 Espec\xedfico"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Incluye ubicaci\xf3n exacta, horarios y detalles concretos"})]})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-2-circle text-primary me-2 mt-1"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"Prop\xf3n Soluciones"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Si tienes ideas de c\xf3mo resolver el problema, comp\xe1rtelas"})]})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-3-circle text-primary me-2 mt-1"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"S\xe9 Respetuoso"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Mant\xe9n un tono constructivo y profesional"})]})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-4-circle text-primary me-2 mt-1"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"Categoriza Bien"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Elige la categor\xeda m\xe1s apropiada para mayor visibilidad"})]})]})]})]})}),(0,Fe.jsx)(WN,{className:"sidebar mt-3",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h6",{className:"fw-bold mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check me-2"}),"Tu Privacidad"]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle text-success me-2"}),(0,Fe.jsx)("small",{children:"Publicaci\xf3n an\xf3nima"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle text-success me-2"}),(0,Fe.jsx)("small",{children:"Sin datos personales"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle text-success me-2"}),(0,Fe.jsx)("small",{children:"Protecci\xf3n total"})]})]})})]})]})})})},yC=e=>{let{comentario:t}=e;const n=(r=t.usuarioId,dS.find(e=>e.id===r));var r;const i=n?n.getDisplayName():"Usuario An\xf3nimo",s=$N(i),a=ZN(i);return(0,Fe.jsx)(WN,{className:"comentario-item border-0 shadow-custom",children:(0,Fe.jsx)(WN.Body,{className:"p-3",children:(0,Fe.jsxs)(ZE,{className:"align-items-start",children:[(0,Fe.jsx)(rN,{xs:"auto",children:(0,Fe.jsx)("div",{className:"rounded-circle d-flex align-items-center justify-content-center text-white fw-bold",style:{width:"40px",height:"40px",backgroundColor:a,fontSize:"0.875rem"},children:s})}),(0,Fe.jsxs)(rN,{children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2",children:[(0,Fe.jsx)("h6",{className:"comentario-autor mb-0",children:i}),t.anonimo&&(0,Fe.jsxs)(YN,{bg:"secondary",className:"small",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-lock me-1"}),"An\xf3nimo"]})]}),(0,Fe.jsx)("p",{className:"mb-2",children:t.contenido}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,Fe.jsxs)("small",{className:"comentario-fecha",children:[(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),nS(t.fechaCreacion)]}),t.likes>0&&(0,Fe.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-heart-fill me-1",style:{color:"#ef4444"}}),(0,Fe.jsx)("small",{children:t.likes})]})]})]})]})})})},bC=()=>{const{id:e}=function(){let{matches:e}=t.useContext(Y),n=e[e.length-1];return n?n.params:{}}(),n=ee(),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1);(0,t.useEffect)(()=>{b()},[e]);const b=async()=>{u(!0);const t=await zg.getDenunciaById(e);if(t){i(t);const n=await zg.getComentariosByDenuncia(e);a(n),m("")}else m("Denuncia no encontrada");u(!1)};return c?(0,Fe.jsx)("div",{className:"loading-spinner",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Cargando..."})})}):f?(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsx)(Ye,{children:(0,Fe.jsx)(ZE,{className:"justify-content-center",children:(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsx)(WN,{className:"text-center",children:(0,Fe.jsxs)(WN.Body,{className:"py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle text-warning",style:{fontSize:"4rem"}}),(0,Fe.jsx)("h3",{className:"fw-bold mt-3 mb-3",children:"Denuncia no encontrada"}),(0,Fe.jsx)("p",{className:"text-muted mb-4",children:"La denuncia que est\xe1s buscando no existe o ha sido eliminada."}),(0,Fe.jsxs)(hx,{variant:"primary",onClick:()=>n("/denuncias"),children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Ver todas las denuncias"]})]})})})})})}):(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsx)(Ye,{children:(0,Fe.jsxs)(ZE,{children:[(0,Fe.jsxs)(rN,{lg:8,children:[(0,Fe.jsx)("nav",{"aria-label":"breadcrumb",className:"mb-3",children:(0,Fe.jsxs)("ol",{className:"breadcrumb",children:[(0,Fe.jsx)("li",{className:"breadcrumb-item",children:(0,Fe.jsx)("button",{className:"btn btn-link p-0 text-decoration-none",onClick:()=>n("/denuncias"),children:"Denuncias"})}),(0,Fe.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[r.titulo.substring(0,50),"..."]})]})}),(0,Fe.jsx)(WN,{className:"denuncia-card mb-4",children:(0,Fe.jsxs)(WN.Body,{className:"p-4",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-start justify-content-between mb-3",children:[(0,Fe.jsx)(YN,{bg:"primary",className:"categoria-badge",children:r.categoria}),(0,Fe.jsxs)("div",{className:"likes-section",children:[(0,Fe.jsx)("button",{className:"like-button ".concat(zg.hasUserLikedDenuncia(r.id)?"liked":""),onClick:async()=>{(await zg.toggleLikeDenuncia(r.id)).success&&b()},disabled:!Lg.isUserAuthenticated(),children:(0,Fe.jsx)("i",{className:"bi ".concat(zg.hasUserLikedDenuncia(r.id)?"bi-heart-fill":"bi-heart")})}),(0,Fe.jsx)("span",{className:"likes-count ms-2",children:r.likes})]})]}),(0,Fe.jsx)("h1",{className:"fw-bold mb-3",children:r.titulo}),(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsx)("p",{className:"mb-0",style:{fontSize:"1.1rem",lineHeight:"1.6"},children:r.descripcion})}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center text-muted small border-top pt-3",children:[(0,Fe.jsxs)("div",{className:"me-4",children:[(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),"Publicado ",nS(r.fechaCreacion)]}),(0,Fe.jsxs)("div",{className:"me-4",children:[(0,Fe.jsx)("i",{className:"bi bi-chat me-1"}),s.length," comentario",1!==s.length?"s":""]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("i",{className:"bi bi-eye me-1"}),"Vista detallada"]})]})]})}),(0,Fe.jsxs)(WN,{children:[(0,Fe.jsx)(WN.Header,{children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,Fe.jsxs)("h4",{className:"mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-chat-dots me-2"}),"Comentarios (",s.length,")"]}),Lg.isUserAuthenticated()&&(0,Fe.jsxs)(hx,{variant:"outline-primary",size:"sm",onClick:()=>y(!v),children:[(0,Fe.jsx)("i",{className:"bi bi-plus-circle me-1"}),"Agregar comentario"]})]})}),(0,Fe.jsxs)(WN.Body,{className:"p-0",children:[v&&(0,Fe.jsx)("div",{className:"p-4 border-bottom bg-light",children:(0,Fe.jsxs)(aC,{onSubmit:async t=>{if(t.preventDefault(),!Lg.isUserAuthenticated())return alert("Debe iniciar sesi\xf3n para comentar"),void n("/login");if(!eS(o,1,500))return void g("El comentario debe tener entre 1 y 500 caracteres");h(!0);const r=await zg.agregarComentario(e,o);r.success?(l(""),y(!1),await b()):g(r.message),h(!1)},children:[(0,Fe.jsxs)(aC.Group,{className:"mb-3",children:[(0,Fe.jsx)(aC.Label,{className:"fw-bold",children:"Agregar tu comentario"}),(0,Fe.jsx)(aC.Control,{as:"textarea",rows:3,value:o,onChange:e=>{l(e.target.value),p&&g("")},placeholder:"Comparte tu opini\xf3n, experiencia o informaci\xf3n adicional sobre este problema...",isInvalid:!!p,disabled:d,maxLength:500}),(0,Fe.jsx)(aC.Control.Feedback,{type:"invalid",children:p}),(0,Fe.jsxs)(aC.Text,{className:"text-muted",children:[o.length,"/500 caracteres"]})]}),(0,Fe.jsxs)("div",{className:"d-flex gap-2",children:[(0,Fe.jsx)(hx,{type:"submit",variant:"primary",size:"sm",disabled:d||!o.trim(),children:d?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-1"}),"Enviando..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-send me-1"}),"Publicar comentario"]})}),(0,Fe.jsx)(hx,{variant:"outline-secondary",size:"sm",onClick:()=>{y(!1),l(""),g("")},disabled:d,children:"Cancelar"})]})]})}),(0,Fe.jsx)("div",{className:"p-4",children:s.length>0?(0,Fe.jsx)("div",{className:"d-flex flex-column gap-3",children:s.map(e=>(0,Fe.jsx)(yC,{comentario:e},e.id))}):(0,Fe.jsxs)("div",{className:"text-center py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-chat text-muted",style:{fontSize:"3rem"}}),(0,Fe.jsx)("h5",{className:"mt-3 text-muted",children:"No hay comentarios a\xfan"}),(0,Fe.jsx)("p",{className:"text-muted",children:"S\xe9 el primero en comentar sobre esta denuncia"}),!Lg.isUserAuthenticated()&&(0,Fe.jsx)(hx,{variant:"outline-primary",onClick:()=>n("/login"),children:"Iniciar sesi\xf3n para comentar"})]})})]})]})]}),(0,Fe.jsxs)(rN,{lg:4,children:[(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-2"}),"Informaci\xf3n"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{className:"small text-muted",children:"Categor\xeda:"}),(0,Fe.jsx)(YN,{bg:"secondary",children:r.categoria})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{className:"small text-muted",children:"Estado:"}),(0,Fe.jsx)(YN,{bg:"success",children:"Activa"})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{className:"small text-muted",children:"Fecha:"}),(0,Fe.jsx)("span",{className:"small",children:new Date(r.fechaCreacion).toLocaleDateString()})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{className:"small text-muted",children:"Likes:"}),(0,Fe.jsx)("span",{className:"small fw-bold",children:r.likes})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{className:"small text-muted",children:"Comentarios:"}),(0,Fe.jsx)("span",{className:"small fw-bold",children:s.length})]})]})]})}),(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-lightning me-2"}),"Acciones"]}),(0,Fe.jsxs)("div",{className:"d-grid gap-2",children:[(0,Fe.jsxs)(hx,{variant:"outline-primary",size:"sm",onClick:()=>n("/denuncias"),children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Ver todas las denuncias"]}),(0,Fe.jsxs)(hx,{variant:"outline-success",size:"sm",onClick:()=>n("/denuncias/crear"),children:[(0,Fe.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Crear nueva denuncia"]}),(0,Fe.jsxs)(hx,{variant:"outline-warning",size:"sm",onClick:()=>n("/ranking"),children:[(0,Fe.jsx)("i",{className:"bi bi-trophy me-2"}),"Ver ranking"]})]})]})}),(0,Fe.jsx)(WN,{className:"sidebar",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-share me-2"}),"Compartir"]}),(0,Fe.jsx)("p",{className:"small text-muted mb-3",children:"Ayuda a dar visibilidad a este problema comparti\xe9ndolo con otros"}),(0,Fe.jsx)("div",{className:"d-grid gap-2",children:(0,Fe.jsxs)(hx,{variant:"outline-info",size:"sm",onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("Enlace copiado al portapapeles")},children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard me-2"}),"Copiar enlace"]})})]})})]})]})})})},xC=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)("likes"),[s,a]=(0,t.useState)({});(0,t.useEffect)(()=>{o()},[r]);const o=async()=>{try{const e=await zg.getDenunciasOrdenadas(r);n(e);const t=await zg.getEstadisticas();a(t)}catch(Nk){n([]),a({})}},l=e=>{i(e)},c=()=>{o()};return(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsxs)(Ye,{children:[(0,Fe.jsx)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("h1",{className:"fw-bold",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy me-3",style:{color:"#f59e0b"}}),"Ranking de Denuncias"]}),(0,Fe.jsx)("p",{className:"text-muted",children:"Las denuncias m\xe1s importantes seg\xfan la votaci\xf3n de la comunidad"})]})}),(0,Fe.jsxs)(ZE,{children:[(0,Fe.jsxs)(rN,{lg:8,children:[(0,Fe.jsx)(WN,{className:"mb-4",children:(0,Fe.jsx)(WN.Body,{children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:[(0,Fe.jsxs)("h5",{className:"mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-funnel me-2"}),"Ordenar por:"]}),(0,Fe.jsxs)(pC,{size:"sm",children:[(0,Fe.jsxs)(hx,{variant:"likes"===r?"primary":"outline-primary",onClick:()=>l("likes"),children:[(0,Fe.jsx)("i",{className:"bi bi-heart-fill me-1"}),"M\xe1s Populares"]}),(0,Fe.jsxs)(hx,{variant:"fecha"===r?"primary":"outline-primary",onClick:()=>l("fecha"),children:[(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),"M\xe1s Recientes"]}),(0,Fe.jsxs)(hx,{variant:"comentarios"===r?"primary":"outline-primary",onClick:()=>l("comentarios"),children:[(0,Fe.jsx)("i",{className:"bi bi-chat me-1"}),"M\xe1s Comentadas"]})]})]})})}),"likes"===r&&(0,Fe.jsxs)("section",{className:"mb-5",children:[(0,Fe.jsxs)("h3",{className:"h5 fw-bold mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2",style:{color:"#f59e0b"}}),"Top 3 M\xe1s Populares"]}),(0,Fe.jsx)(ZE,{className:"g-3",children:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return e.slice(0,t)}().map((e,t)=>(0,Fe.jsx)(rN,{md:6,lg:4,children:(0,Fe.jsxs)("div",{className:"position-relative",children:[(0,Fe.jsxs)(YN,{className:"position-absolute top-0 start-0 translate-middle z-index-2",bg:0===t?"warning":1===t?"secondary":"dark",style:{fontSize:"0.875rem"},children:["#",t+1]}),(0,Fe.jsx)(rS,{denuncia:e,onUpdate:c})]})},e.id))})]}),(0,Fe.jsxs)("section",{children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[(0,Fe.jsxs)("h3",{className:"h5 fw-bold",children:[(0,Fe.jsx)("i",{className:"bi ".concat((e=>{switch(e){case"likes":return"bi-heart-fill";case"fecha":return"bi-clock";case"comentarios":return"bi-chat";default:return"bi-list"}})(r)," me-2")}),"likes"===r&&"Ranking Completo","fecha"===r&&"Cronol\xf3gico","comentarios"===r&&"Por Participaci\xf3n"]}),(0,Fe.jsxs)("span",{className:"text-muted small",children:[e.length," denuncias en total"]})]}),(0,Fe.jsx)("div",{className:"d-flex flex-column gap-3",children:e.map((e,t)=>(0,Fe.jsx)(WN,{className:"denuncia-card",children:(0,Fe.jsx)(WN.Body,{children:(0,Fe.jsxs)(ZE,{className:"align-items-center",children:[(0,Fe.jsx)(rN,{xs:"auto",children:(0,Fe.jsxs)("div",{className:"bg-light rounded-circle d-flex align-items-center justify-content-center fw-bold text-muted",style:{width:"40px",height:"40px"},children:["#",t+1]})}),(0,Fe.jsxs)(rN,{children:[(0,Fe.jsx)("div",{className:"d-flex align-items-start justify-content-between mb-2",children:(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("h6",{className:"fw-bold mb-1",children:[(0,Fe.jsx)(YN,{bg:"secondary",className:"me-2",children:e.categoria}),e.titulo]}),(0,Fe.jsxs)("p",{className:"text-muted small mb-2",children:[e.descripcion.substring(0,100),"..."]})]})}),(0,Fe.jsxs)(ZE,{className:"align-items-center text-muted small",children:[(0,Fe.jsxs)(rN,{sm:"auto",children:[(0,Fe.jsx)("i",{className:"bi bi-heart-fill me-1",style:{color:"#ef4444"}}),(0,Fe.jsx)("strong",{children:JN(e.likes)})," likes"]}),(0,Fe.jsxs)(rN,{sm:"auto",children:[(0,Fe.jsx)("i",{className:"bi bi-chat me-1"}),e.comentarios.length," comentarios"]}),(0,Fe.jsxs)(rN,{sm:"auto",children:[(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),new Date(e.fechaCreacion).toLocaleDateString()]}),(0,Fe.jsx)(rN,{sm:"auto",className:"ms-auto",children:(0,Fe.jsx)("a",{href:"/denuncias/".concat(e.id),className:"btn btn-outline-primary btn-sm",children:"Ver detalles"})})]})]})]})})},e.id))})]})]}),(0,Fe.jsxs)(rN,{lg:4,children:[(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-graph-up me-2"}),"Estad\xedsticas Generales"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,Fe.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,Fe.jsx)("h3",{className:"fw-bold text-primary mb-1",children:s.totalDenuncias}),(0,Fe.jsx)("small",{className:"text-muted",children:"Total de Denuncias"})]}),(0,Fe.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,Fe.jsx)("h3",{className:"fw-bold text-danger mb-1",children:JN(s.totalLikes)}),(0,Fe.jsx)("small",{className:"text-muted",children:"Likes Totales"})]}),(0,Fe.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,Fe.jsx)("h3",{className:"fw-bold text-info mb-1",children:s.totalComentarios}),(0,Fe.jsx)("small",{className:"text-muted",children:"Comentarios Totales"})]})]})]})}),(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-pie-chart me-2"}),"Categor\xedas m\xe1s Activas"]}),(0,Fe.jsx)("div",{className:"d-flex flex-column gap-2",children:Object.entries(s.categorias||{}).sort((e,t)=>{let[,n]=e,[,r]=t;return r-n}).map(e=>{let[t,n]=e;return(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsx)("span",{className:"small",children:t}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("div",{className:"bg-primary rounded",style:{width:"".concat(n/Math.max(...Object.values(s.categorias||{}))*50,"px"),height:"4px"}}),(0,Fe.jsx)("span",{className:"badge bg-secondary",children:n})]})]},t)})})]})}),(0,Fe.jsx)(WN,{className:"sidebar",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-2"}),"\xbfC\xf3mo funciona el ranking?"]}),(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsxs)("p",{className:"mb-2",children:[(0,Fe.jsx)("strong",{children:"Por Popularidad:"})," Las denuncias con m\xe1s likes aparecen primero."]}),(0,Fe.jsxs)("p",{className:"mb-2",children:[(0,Fe.jsx)("strong",{children:"Por Fecha:"})," Las denuncias m\xe1s recientes aparecen primero."]}),(0,Fe.jsxs)("p",{className:"mb-0",children:[(0,Fe.jsx)("strong",{children:"Por Participaci\xf3n:"})," Las denuncias con m\xe1s comentarios aparecen primero."]})]})]})})]})]})]})})},wC=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],EC=["activeKey","getControlledId","getControllerId"],NC=["as"];function SC(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CC(e){let{active:n,eventKey:r,mountOnEnter:i,transition:s,unmountOnExit:a,role:o="tabpanel",onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}=e,m=SC(e,wC);const p=(0,t.useContext)(Lb);if(!p)return[Object.assign({},m,{role:o}),{eventKey:r,isActive:n,mountOnEnter:i,transition:s,unmountOnExit:a,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}];const{activeKey:g,getControlledId:v,getControllerId:y}=p,b=SC(p,EC),x=Bg(r);return[Object.assign({},m,{role:o,id:v(r),"aria-labelledby":y(r)}),{eventKey:r,isActive:null==n&&null!=x?Bg(g)===x:n,transition:s||b.transition,mountOnEnter:null!=i?i:b.mountOnEnter,unmountOnExit:null!=a?a:b.unmountOnExit,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}]}const kC=t.forwardRef((e,t)=>{let{as:n="div"}=e,r=SC(e,NC);const[i,{isActive:s,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:h,unmountOnExit:f,transition:m=Ny}]=CC(r);return(0,Fe.jsx)(Lb.Provider,{value:null,children:(0,Fe.jsx)(Hg.Provider,{value:null,children:(0,Fe.jsx)(m,{in:s,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:h,unmountOnExit:f,children:(0,Fe.jsx)(n,Object.assign({},i,{ref:t,hidden:!s,"aria-hidden":!s}))})})})});kC.displayName="TabPanel";const _C=e=>{const{id:n,generateChildId:r,onSelect:i,activeKey:s,defaultActiveKey:a,transition:o,mountOnEnter:l,unmountOnExit:c,children:u}=e,[d,h]=fx(s,a,i),f=iE(n),m=(0,t.useMemo)(()=>r||((e,t)=>f?"".concat(f,"-").concat(t,"-").concat(e):null),[f,r]),p=(0,t.useMemo)(()=>({onSelect:h,activeKey:d,transition:o,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:e=>m(e,"tabpane"),getControllerId:e=>m(e,"tab")}),[h,d,o,l,c,m]);return(0,Fe.jsx)(Lb.Provider,{value:p,children:(0,Fe.jsx)(Hg.Provider,{value:h||null,children:u})})};_C.Panel=kC;const TC=_C,jC=["className","bsPrefix","as"],IC=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,s=De(e,jC);return r=qe(r,"tab-content"),(0,Fe.jsx)(i,Re({ref:t,className:Me()(n,r)},s))});IC.displayName="TabContent";const PC=IC;function AC(e){return"boolean"===typeof e?e?Fy:Ny:e}const RC=["bsPrefix","transition"],OC=["className","as"],DC=t.forwardRef((e,t)=>{let{bsPrefix:n,transition:r}=e,i=De(e,RC);const[s,{isActive:a,onEnter:o,onEntering:l,onEntered:c,onExit:u,onExiting:d,onExited:h,mountOnEnter:f,unmountOnExit:m,transition:p=Fy}]=CC(Re(Re({},i),{},{transition:AC(r)})),{className:g,as:v="div"}=s,y=De(s,OC),b=qe(n,"tab-pane");return(0,Fe.jsx)(Lb.Provider,{value:null,children:(0,Fe.jsx)(Hg.Provider,{value:null,children:(0,Fe.jsx)(p,{in:a,onEnter:o,onEntering:l,onEntered:c,onExit:u,onExiting:d,onExited:h,mountOnEnter:f,unmountOnExit:m,children:(0,Fe.jsx)(v,Re(Re({},y),{},{ref:t,className:Me()(g,b,a&&"active")}))})})})});DC.displayName="TabPane";const LC=DC,MC=["id","onSelect","transition","mountOnEnter","unmountOnExit","variant","children","activeKey"];function FC(e){let n;return function(e,n){let r=0;t.Children.forEach(e,e=>{t.isValidElement(e)&&n(e,r++)})}(e,e=>{null==n&&(n=e.props.eventKey)}),n}function UC(e){const{title:t,eventKey:n,disabled:r,tabClassName:i,tabAttrs:s,id:a}=e.props;return null==t?null:(0,Fe.jsx)(ex,{as:"li",role:"presentation",children:(0,Fe.jsx)(ax,Re(Re({as:"button",type:"button",eventKey:n,disabled:r,id:a,className:i},s),{},{children:t}))})}const VC=e=>{const t=Gg(e,{activeKey:"onSelect"}),{id:n,onSelect:r,transition:i,mountOnEnter:s=!1,unmountOnExit:a=!1,variant:o="tabs",children:l,activeKey:c=FC(l)}=t,u=De(t,MC);return(0,Fe.jsxs)(TC,{id:n,activeKey:c,onSelect:r,transition:AC(i),mountOnEnter:s,unmountOnExit:a,children:[(0,Fe.jsx)(cx,Re(Re({id:n},u),{},{role:"tablist",as:"ul",variant:o,children:_S(l,UC)})),(0,Fe.jsx)(PC,{children:_S(l,e=>{const t=Re({},e.props);return delete t.title,delete t.disabled,delete t.tabClassName,delete t.tabAttrs,(0,Fe.jsx)(LC,Re({},t))})})]})};VC.displayName="Tabs";const zC=VC,BC=["transition"],HC=e=>{let{transition:t}=e,n=De(e,BC);return(0,Fe.jsx)(TC,Re(Re({},n),{},{transition:AC(t)}))};HC.displayName="TabContainer";const qC=HC,KC={eventKey:Qy().oneOfType([Qy().string,Qy().number]),title:Qy().node.isRequired,disabled:Qy().bool,tabClassName:Qy().string,tabAttrs:Qy().object},WC=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};WC.propTypes=KC;const GC=Object.assign(WC,{Container:qC,Content:PC,Pane:LC}),QC=()=>{const[e,n]=(0,t.useState)("resumen"),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)({}),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)({}),[f,m]=(0,t.useState)(!0),[p,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)("");(0,t.useEffect)(()=>{b()},[]);const b=async()=>{m(!0);const e=Lg.getCurrentUser();if(e){i(e),a({denunciasCreadas:0,denunciasLikadas:0,comentarios:0,fechaRegistro:""}),h({notificaciones:!0,mostrarPerfil:!1,modoAnonimo:!0});const t=await zg.getMisDenuncias();l(t);const n=await zg.getDenunciasConMisLikes();u(n)}m(!1)},x=(e,t)=>{h(n=>Re(Re({},n),{},{[e]:t}))},w=()=>{b()};if(f)return(0,Fe.jsx)("div",{className:"loading-spinner",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Cargando perfil..."})})});if(!r)return(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsx)(Ye,{children:(0,Fe.jsx)(ZE,{className:"justify-content-center",children:(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsx)(WN,{className:"text-center",children:(0,Fe.jsxs)(WN.Body,{className:"py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-person-x text-warning",style:{fontSize:"4rem"}}),(0,Fe.jsx)("h3",{className:"fw-bold mt-3 mb-3",children:"Error de autenticaci\xf3n"}),(0,Fe.jsx)("p",{className:"text-muted mb-4",children:"No se pudo cargar la informaci\xf3n del usuario."}),(0,Fe.jsx)(ke,{to:"/login",className:"btn btn-primary",children:"Iniciar sesi\xf3n"})]})})})})})});const E=r.displayName||r.email||"Usuario",N=$N(E),S=ZN(E);return(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsxs)(Ye,{children:[(0,Fe.jsx)(ZE,{className:"mb-4",children:(0,Fe.jsx)(rN,{children:(0,Fe.jsx)(WN,{children:(0,Fe.jsx)(WN.Body,{className:"p-4",children:(0,Fe.jsxs)(ZE,{className:"align-items-center",children:[(0,Fe.jsx)(rN,{xs:"auto",children:(0,Fe.jsx)("div",{className:"rounded-circle d-flex align-items-center justify-content-center text-white fw-bold",style:{width:"80px",height:"80px",backgroundColor:S,fontSize:"2rem"},children:N})}),(0,Fe.jsxs)(rN,{children:[(0,Fe.jsx)("h2",{className:"fw-bold mb-1",children:E}),(0,Fe.jsxs)("p",{className:"text-muted mb-2",children:["Miembro desde ",tS(r.fechaRegistro)]}),(0,Fe.jsxs)("div",{className:"d-flex gap-3",children:[(0,Fe.jsxs)(YN,{bg:"primary",children:[s.denunciasCreadas," Denuncias"]}),(0,Fe.jsxs)(YN,{bg:"danger",children:[s.denunciasLikadas," Likes dados"]}),(0,Fe.jsxs)(YN,{bg:"success",children:[s.comentarios," Comentarios"]})]})]}),(0,Fe.jsx)(rN,{xs:"auto",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("h3",{className:"fw-bold text-primary mb-1",children:o.reduce((e,t)=>e+t.likes,0)}),(0,Fe.jsx)("small",{className:"text-muted",children:"Likes recibidos"})]})})]})})})})}),(0,Fe.jsx)(ZE,{children:(0,Fe.jsx)(rN,{children:(0,Fe.jsxs)(zC,{activeKey:e,onSelect:e=>n(e),className:"mb-4",fill:!0,children:[(0,Fe.jsx)(GC,{eventKey:"resumen",title:(0,Fe.jsxs)("span",{children:[(0,Fe.jsx)("i",{className:"bi bi-house me-1"}),"Resumen"]}),children:(0,Fe.jsxs)(ZE,{children:[(0,Fe.jsxs)(rN,{lg:8,children:[(0,Fe.jsxs)(ZE,{className:"g-3 mb-4",children:[(0,Fe.jsx)(rN,{md:3,children:(0,Fe.jsx)(WN,{className:"text-center h-100",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle text-primary",style:{fontSize:"2rem"}}),(0,Fe.jsx)("h4",{className:"fw-bold mt-2 mb-1",children:s.denunciasCreadas}),(0,Fe.jsx)("small",{className:"text-muted",children:"Denuncias Creadas"})]})})}),(0,Fe.jsx)(rN,{md:3,children:(0,Fe.jsx)(WN,{className:"text-center h-100",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsx)("i",{className:"bi bi-heart-fill text-danger",style:{fontSize:"2rem"}}),(0,Fe.jsx)("h4",{className:"fw-bold mt-2 mb-1",children:o.reduce((e,t)=>e+t.likes,0)}),(0,Fe.jsx)("small",{className:"text-muted",children:"Likes Recibidos"})]})})}),(0,Fe.jsx)(rN,{md:3,children:(0,Fe.jsx)(WN,{className:"text-center h-100",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsx)("i",{className:"bi bi-chat text-success",style:{fontSize:"2rem"}}),(0,Fe.jsx)("h4",{className:"fw-bold mt-2 mb-1",children:s.comentarios}),(0,Fe.jsx)("small",{className:"text-muted",children:"Comentarios"})]})})}),(0,Fe.jsx)(rN,{md:3,children:(0,Fe.jsx)(WN,{className:"text-center h-100",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsx)("i",{className:"bi bi-hand-thumbs-up text-info",style:{fontSize:"2rem"}}),(0,Fe.jsx)("h4",{className:"fw-bold mt-2 mb-1",children:s.denunciasLikadas}),(0,Fe.jsx)("small",{className:"text-muted",children:"Likes Dados"})]})})})]}),(0,Fe.jsxs)(WN,{children:[(0,Fe.jsx)(WN.Header,{children:(0,Fe.jsxs)("h5",{className:"mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-clock-history me-2"}),"Actividad Reciente"]})}),(0,Fe.jsx)(WN.Body,{children:(0,Fe.jsx)("div",{className:"d-flex flex-column gap-3",children:0===o.length?(0,Fe.jsxs)("div",{className:"text-center py-4",children:[(0,Fe.jsx)("i",{className:"bi bi-inbox text-muted",style:{fontSize:"3rem"}}),(0,Fe.jsx)("h6",{className:"mt-3 text-muted",children:"No hay actividad reciente"}),(0,Fe.jsx)("p",{className:"text-muted small",children:"Crea tu primera denuncia para comenzar"}),(0,Fe.jsx)(ke,{to:"/denuncias/crear",className:"btn btn-outline-primary btn-sm",children:"Crear Denuncia"})]}):o.slice(0,3).map(e=>(0,Fe.jsxs)("div",{className:"d-flex align-items-center p-3 bg-light rounded",children:[(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"mb-1",children:(0,Fe.jsx)(ke,{to:"/denuncias/".concat(e.id),className:"text-decoration-none",children:e.titulo})}),(0,Fe.jsxs)("small",{className:"text-muted",children:[tS(e.fechaCreacion)," \u2022 ",e.likes," likes"]})]}),(0,Fe.jsx)(YN,{bg:"secondary",children:e.categoria})]},e.id))})})]})]}),(0,Fe.jsxs)(rN,{lg:4,children:[(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-2"}),"Informaci\xf3n del Perfil"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{className:"small text-muted",children:"Usuario:"}),(0,Fe.jsx)("span",{className:"small",children:r.username})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{className:"small text-muted",children:"Email:"}),(0,Fe.jsx)("span",{className:"small",children:r.email})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{className:"small text-muted",children:"Registro:"}),(0,Fe.jsx)("span",{className:"small",children:s.fechaRegistro})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{className:"small text-muted",children:"Modo:"}),(0,Fe.jsx)(YN,{bg:r.configuraciones.modoAnonimo?"success":"warning",children:r.configuraciones.modoAnonimo?"An\xf3nimo":"P\xfablico"})]})]})]})}),(0,Fe.jsx)(WN,{className:"sidebar",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-lightning me-2"}),"Acciones R\xe1pidas"]}),(0,Fe.jsxs)("div",{className:"d-grid gap-2",children:[(0,Fe.jsxs)(hx,{as:ke,to:"/denuncias/crear",variant:"primary",size:"sm",children:[(0,Fe.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Crear Denuncia"]}),(0,Fe.jsxs)(hx,{as:ke,to:"/denuncias",variant:"outline-primary",size:"sm",children:[(0,Fe.jsx)("i",{className:"bi bi-eye me-2"}),"Ver Denuncias"]}),(0,Fe.jsxs)(hx,{as:ke,to:"/ranking",variant:"outline-secondary",size:"sm",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy me-2"}),"Ver Ranking"]})]})]})})]})]})}),(0,Fe.jsx)(GC,{eventKey:"denuncias",title:(0,Fe.jsxs)("span",{children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle me-1"}),"Mis Denuncias (",o.length,")"]}),children:o.length>0?(0,Fe.jsx)(ZE,{className:"g-3",children:o.map(e=>(0,Fe.jsx)(rN,{md:6,lg:4,children:(0,Fe.jsx)(rS,{denuncia:e,onUpdate:w})},e.id))}):(0,Fe.jsx)(WN,{className:"text-center",children:(0,Fe.jsxs)(WN.Body,{className:"py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-inbox text-muted",style:{fontSize:"4rem"}}),(0,Fe.jsx)("h4",{className:"mt-3 mb-3",children:"No has creado denuncias"}),(0,Fe.jsx)("p",{className:"text-muted mb-4",children:"Comparte los problemas de tu comunidad creando tu primera denuncia"}),(0,Fe.jsxs)(ke,{to:"/denuncias/crear",className:"btn btn-primary",children:[(0,Fe.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Crear Primera Denuncia"]})]})})}),(0,Fe.jsx)(GC,{eventKey:"likes",title:(0,Fe.jsxs)("span",{children:[(0,Fe.jsx)("i",{className:"bi bi-heart me-1"}),"Mis Likes (",c.length,")"]}),children:c.length>0?(0,Fe.jsx)(ZE,{className:"g-3",children:c.map(e=>(0,Fe.jsx)(rN,{md:6,lg:4,children:(0,Fe.jsx)(rS,{denuncia:e,onUpdate:w})},e.id))}):(0,Fe.jsx)(WN,{className:"text-center",children:(0,Fe.jsxs)(WN.Body,{className:"py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-heart text-muted",style:{fontSize:"4rem"}}),(0,Fe.jsx)("h4",{className:"mt-3 mb-3",children:"No has dado likes"}),(0,Fe.jsx)("p",{className:"text-muted mb-4",children:"Vota por las denuncias que consideres importantes para darles mayor visibilidad"}),(0,Fe.jsxs)(ke,{to:"/denuncias",className:"btn btn-outline-primary",children:[(0,Fe.jsx)("i",{className:"bi bi-eye me-2"}),"Explorar Denuncias"]})]})})}),(0,Fe.jsx)(GC,{eventKey:"configuracion",title:(0,Fe.jsxs)("span",{children:[(0,Fe.jsx)("i",{className:"bi bi-gear me-1"}),"Configuraci\xf3n"]}),children:(0,Fe.jsx)(ZE,{className:"justify-content-center",children:(0,Fe.jsx)(rN,{lg:8,children:(0,Fe.jsxs)(WN,{children:[(0,Fe.jsx)(WN.Header,{children:(0,Fe.jsxs)("h5",{className:"mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-gear me-2"}),"Configuraciones de la Cuenta"]})}),(0,Fe.jsxs)(WN.Body,{className:"p-4",children:[v&&(0,Fe.jsxs)(mN,{variant:"success",className:"mb-4",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle me-2"}),v]}),(0,Fe.jsxs)(aC,{children:[(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-3",children:"Privacidad"}),(0,Fe.jsx)(aC.Check,{type:"switch",id:"modo-anonimo",label:"Modo an\xf3nimo",checked:d.modoAnonimo,onChange:e=>x("modoAnonimo",e.target.checked),className:"mb-2"}),(0,Fe.jsx)(aC.Text,{className:"text-muted",children:"Cuando est\xe1 activado, tu nombre no se muestra p\xfablicamente en denuncias y comentarios"})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-3",children:"Notificaciones"}),(0,Fe.jsx)(aC.Check,{type:"switch",id:"notificaciones",label:"Recibir notificaciones",checked:d.notificaciones,onChange:e=>x("notificaciones",e.target.checked),className:"mb-2"}),(0,Fe.jsx)(aC.Text,{className:"text-muted",children:"Recibe notificaciones sobre respuestas a tus denuncias y comentarios"})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-3",children:"Perfil"}),(0,Fe.jsx)(aC.Check,{type:"switch",id:"mostrar-perfil",label:"Mostrar perfil p\xfablico",checked:d.mostrarPerfil,onChange:e=>x("mostrarPerfil",e.target.checked),className:"mb-2"}),(0,Fe.jsx)(aC.Text,{className:"text-muted",children:"Permite que otros usuarios vean tu perfil y estad\xedsticas p\xfablicas"})]}),(0,Fe.jsx)("div",{className:"d-flex gap-2",children:(0,Fe.jsx)(hx,{variant:"primary",onClick:()=>{g(!0),setTimeout(()=>{y("Configuraciones guardadas (local)"),setTimeout(()=>y(""),3e3),g(!1)},800)},disabled:p,children:p?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Guardando..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-check me-2"}),"Guardar Cambios"]})})})]})]})]})})})})]})})})]})})},YC=()=>{const e=zg.getEstadisticas(),t=[{valor:e.totalDenuncias||0,label:"Denuncias Activas",icon:"bi-exclamation-triangle",color:"primary"},{valor:e.totalLikes||0,label:"Votos Comunitarios",icon:"bi-heart-fill",color:"danger"},{valor:e.totalComentarios||0,label:"Comentarios",icon:"bi-chat",color:"success"},{valor:3,label:"Usuarios Activos",icon:"bi-people",color:"info"}];return(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsxs)(Ye,{children:[(0,Fe.jsxs)("div",{className:"text-center mb-5",children:[(0,Fe.jsx)("div",{className:"bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3",style:{width:"80px",height:"80px"},children:(0,Fe.jsx)("i",{className:"bi bi-people",style:{fontSize:"2rem"}})}),(0,Fe.jsx)("h1",{className:"fw-bold",children:"Comunidad"}),(0,Fe.jsx)("p",{className:"text-muted lead",children:"Construyamos juntos una plataforma transparente y efectiva para mejorar nuestra comunidad"})]}),(0,Fe.jsxs)(ZE,{children:[(0,Fe.jsxs)(rN,{lg:8,children:[(0,Fe.jsx)("section",{className:"mb-5",children:(0,Fe.jsxs)(WN,{className:"border-success",children:[(0,Fe.jsx)(WN.Header,{className:"bg-success text-white",children:(0,Fe.jsxs)("h3",{className:"h5 mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check me-2"}),"Nuestros Principios"]})}),(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("p",{className:"mb-3",children:["Esta plataforma est\xe1 dise\xf1ada para ser ",(0,Fe.jsx)("strong",{children:"100% autogestionada por la comunidad"}),". No hay administradores centrales - el poder est\xe1 en manos de todos los usuarios."]}),(0,Fe.jsxs)(ZE,{className:"g-3",children:[(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-lock text-primary me-2 mt-1",style:{fontSize:"1.25rem"}}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"Anonimato Total"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Tu identidad est\xe1 completamente protegida"})]})]})}),(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-people text-success me-2 mt-1",style:{fontSize:"1.25rem"}}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"Poder Comunitario"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Los usuarios deciden qu\xe9 es importante"})]})]})}),(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-transparency text-info me-2 mt-1",style:{fontSize:"1.25rem"}}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"Transparencia"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Todo es p\xfablico y verificable"})]})]})}),(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-up-circle text-warning me-2 mt-1",style:{fontSize:"1.25rem"}}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:"Priorizaci\xf3n Natural"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Los likes determinan la importancia"})]})]})})]})]})]})}),(0,Fe.jsxs)("section",{className:"mb-5",children:[(0,Fe.jsxs)("h2",{className:"h4 fw-bold mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard-check me-2"}),"Reglas de Participaci\xf3n"]}),(0,Fe.jsx)("div",{className:"d-flex flex-column gap-3",children:mS.map((e,t)=>(0,Fe.jsx)(WN,{className:"border-0 shadow-sm",children:(0,Fe.jsx)(WN.Body,{children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("div",{className:"bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"30px",height:"30px",fontSize:"0.875rem"},children:t+1}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-1",children:e.titulo}),(0,Fe.jsx)("p",{className:"text-muted mb-0 small",children:e.descripcion})]})]})})},e.id))})]}),(0,Fe.jsxs)("section",{className:"mb-5",children:[(0,Fe.jsxs)("h2",{className:"h4 fw-bold mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-lightbulb me-2"}),"Consejos para una Mejor Participaci\xf3n"]}),(0,Fe.jsx)(ZE,{className:"g-3",children:[{titulo:"S\xe9 espec\xedfico en tus denuncias",descripcion:"Proporciona detalles claros sobre el problema, ubicaci\xf3n exacta y c\xf3mo afecta a la comunidad.",icon:"bi-bullseye",color:"primary"},{titulo:"Vota denuncias relevantes",descripcion:"Usa los likes para destacar problemas que realmente afectan a muchas personas.",icon:"bi-heart",color:"danger"},{titulo:"Comenta constructivamente",descripcion:"Aporta informaci\xf3n \xfatil, soluciones posibles o experiencias similares.",icon:"bi-chat-dots",color:"success"},{titulo:"Respeta la diversidad",descripcion:"Todos los problemas son v\xe1lidos, independientemente del barrio o sector.",icon:"bi-people",color:"info"}].map((e,t)=>(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsx)(WN,{className:"h-100 border-".concat(e.color),children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsx)("div",{className:"text-".concat(e.color," mb-2"),children:(0,Fe.jsx)("i",{className:"".concat(e.icon),style:{fontSize:"1.5rem"}})}),(0,Fe.jsx)("h6",{className:"fw-bold",children:e.titulo}),(0,Fe.jsx)("p",{className:"text-muted small mb-0",children:e.descripcion})]})})},t))})]}),(0,Fe.jsx)("section",{children:(0,Fe.jsxs)(WN,{className:"border-warning",children:[(0,Fe.jsx)(WN.Header,{className:"bg-warning text-dark",children:(0,Fe.jsxs)("h3",{className:"h5 mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-flag me-2"}),"\xbfProblema con el Contenido?"]})}),(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsx)("p",{className:"mb-3",children:"Si encuentras contenido inapropiado, spam o que viola nuestras reglas:"}),(0,Fe.jsxs)("div",{className:"d-flex flex-column gap-2 mb-3",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Fe.jsx)("i",{className:"bi bi-1-circle text-primary me-2"}),(0,Fe.jsx)("span",{className:"small",children:"No respondas ni interact\xfaes con el contenido problem\xe1tico"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Fe.jsx)("i",{className:"bi bi-2-circle text-primary me-2"}),(0,Fe.jsx)("span",{className:"small",children:"Contacta al soporte a trav\xe9s de la secci\xf3n correspondiente"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Fe.jsx)("i",{className:"bi bi-3-circle text-primary me-2"}),(0,Fe.jsx)("span",{className:"small",children:"Proporciona detalles espec\xedficos sobre el problema"})]})]}),(0,Fe.jsxs)(ke,{to:"/soporte",className:"btn btn-warning",children:[(0,Fe.jsx)("i",{className:"bi bi-envelope me-2"}),"Contactar Soporte"]})]})]})})]}),(0,Fe.jsxs)(rN,{lg:4,children:[(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-graph-up me-2"}),"Estad\xedsticas de la Comunidad"]}),(0,Fe.jsx)("div",{className:"d-flex flex-column gap-3",children:t.map((e,t)=>(0,Fe.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,Fe.jsx)("div",{className:"text-".concat(e.color," mb-2"),children:(0,Fe.jsx)("i",{className:e.icon,style:{fontSize:"1.5rem"}})}),(0,Fe.jsx)("h4",{className:"fw-bold text-".concat(e.color," mb-1"),children:e.valor}),(0,Fe.jsx)("small",{className:"text-muted",children:e.label})]},t))})]})}),(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-star me-2"}),"Participaci\xf3n Destacada"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-2 bg-light rounded",children:[(0,Fe.jsx)("span",{className:"small",children:"Usuario m\xe1s activo"}),(0,Fe.jsx)(YN,{bg:"primary",children:"admin"})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-2 bg-light rounded",children:[(0,Fe.jsx)("span",{className:"small",children:"Denuncia m\xe1s popular"}),(0,Fe.jsx)(YN,{bg:"danger",children:"47 likes"})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-2 bg-light rounded",children:[(0,Fe.jsx)("span",{className:"small",children:"Categor\xeda m\xe1s activa"}),(0,Fe.jsx)(YN,{bg:"success",children:"Infraestructura"})]})]})]})}),(0,Fe.jsx)(WN,{className:"sidebar",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-lightning me-2"}),"Acciones R\xe1pidas"]}),(0,Fe.jsxs)("div",{className:"d-grid gap-2",children:[(0,Fe.jsxs)(hx,{as:ke,to:"/denuncias/crear",variant:"primary",children:[(0,Fe.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Crear Denuncia"]}),(0,Fe.jsxs)(hx,{as:ke,to:"/denuncias",variant:"outline-primary",children:[(0,Fe.jsx)("i",{className:"bi bi-eye me-2"}),"Ver Denuncias"]}),(0,Fe.jsxs)(hx,{as:ke,to:"/ranking",variant:"outline-secondary",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy me-2"}),"Ver Ranking"]})]})]})})]})]})]})})};function XC(e,t){return Array.isArray(e)?e.includes(t):e===t}const JC=t.createContext({});JC.displayName="AccordionContext";const $C=JC,ZC=["as","bsPrefix","className","children","eventKey"],ek=t.forwardRef((e,n)=>{let{as:r="div",bsPrefix:i,className:s,children:a,eventKey:o}=e,l=De(e,ZC);const{activeEventKey:c}=(0,t.useContext)($C);return i=qe(i,"accordion-collapse"),(0,Fe.jsx)(Bv,Re(Re({ref:n,in:XC(c,o)},l),{},{className:Me()(s,i),children:(0,Fe.jsx)(r,{children:t.Children.only(a)})}))});ek.displayName="AccordionCollapse";const tk=ek,nk=t.createContext({eventKey:""});nk.displayName="AccordionItemContext";const rk=nk,ik=["as","bsPrefix","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],sk=t.forwardRef((e,n)=>{let{as:r="div",bsPrefix:i,className:s,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d}=e,h=De(e,ik);i=qe(i,"accordion-body");const{eventKey:f}=(0,t.useContext)(rk);return(0,Fe.jsx)(tk,{eventKey:f,onEnter:a,onEntering:o,onEntered:l,onExit:c,onExiting:u,onExited:d,children:(0,Fe.jsx)(r,Re(Re({ref:n},h),{},{className:Me()(s,i)}))})});sk.displayName="AccordionBody";const ak=sk,ok=["as","bsPrefix","className","onClick"];const lk=t.forwardRef((e,n)=>{let{as:r="button",bsPrefix:i,className:s,onClick:a}=e,o=De(e,ok);i=qe(i,"accordion-button");const{eventKey:l}=(0,t.useContext)(rk),c=function(e,n){const{activeEventKey:r,onSelect:i,alwaysOpen:s}=(0,t.useContext)($C);return t=>{let a=e===r?null:e;s&&(a=Array.isArray(r)?r.includes(e)?r.filter(t=>t!==e):[...r,e]:[e]),null==i||i(a,t),null==n||n(t)}}(l,a),{activeEventKey:u}=(0,t.useContext)($C);return"button"===r&&(o.type="button"),(0,Fe.jsx)(r,Re(Re({ref:n,onClick:c},o),{},{"aria-expanded":Array.isArray(u)?u.includes(l):l===u,className:Me()(s,i,!XC(u,l)&&"collapsed")}))});lk.displayName="AccordionButton";const ck=lk,uk=["as","aria-controls","bsPrefix","className","children","onClick"],dk=t.forwardRef((e,t)=>{let{as:n="h2","aria-controls":r,bsPrefix:i,className:s,children:a,onClick:o}=e,l=De(e,uk);return i=qe(i,"accordion-header"),(0,Fe.jsx)(n,Re(Re({ref:t},l),{},{className:Me()(s,i),children:(0,Fe.jsx)(ck,{onClick:o,"aria-controls":r,children:a})}))});dk.displayName="AccordionHeader";const hk=dk,fk=["as","bsPrefix","className","eventKey"],mk=t.forwardRef((e,n)=>{let{as:r="div",bsPrefix:i,className:s,eventKey:a}=e,o=De(e,fk);i=qe(i,"accordion-item");const l=(0,t.useMemo)(()=>({eventKey:a}),[a]);return(0,Fe.jsx)(rk.Provider,{value:l,children:(0,Fe.jsx)(r,Re(Re({ref:n},o),{},{className:Me()(s,i)}))})});mk.displayName="AccordionItem";const pk=mk,gk=["as","activeKey","bsPrefix","className","onSelect","flush","alwaysOpen"],vk=t.forwardRef((e,n)=>{const r=Gg(e,{activeKey:"onSelect"}),{as:i="div",activeKey:s,bsPrefix:a,className:o,onSelect:l,flush:c,alwaysOpen:u}=r,d=De(r,gk),h=qe(a,"accordion"),f=(0,t.useMemo)(()=>({activeEventKey:s,onSelect:l,alwaysOpen:u}),[s,l,u]);return(0,Fe.jsx)($C.Provider,{value:f,children:(0,Fe.jsx)(i,Re(Re({ref:n},d),{},{className:Me()(o,h,c&&"".concat(h,"-flush"))}))})});vk.displayName="Accordion";const yk=Object.assign(vk,{Button:ck,Collapse:tk,Item:pk,Header:hk,Body:ak}),bk=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(!1),s=fS.filter(t=>t.pregunta.toLowerCase().includes(e.toLowerCase())||t.respuesta.toLowerCase().includes(e.toLowerCase()));return(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsxs)(Ye,{children:[(0,Fe.jsxs)("div",{className:"text-center mb-5",children:[(0,Fe.jsx)("div",{className:"bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3",style:{width:"80px",height:"80px"},children:(0,Fe.jsx)("i",{className:"bi bi-question-circle",style:{fontSize:"2rem"}})}),(0,Fe.jsx)("h1",{className:"fw-bold",children:"Centro de Soporte"}),(0,Fe.jsx)("p",{className:"text-muted lead",children:"Encuentra respuestas a tus preguntas sobre el sistema de denuncias"})]}),(0,Fe.jsxs)(ZE,{children:[(0,Fe.jsxs)(rN,{lg:8,children:[(0,Fe.jsx)(WN,{className:"mb-4",children:(0,Fe.jsx)(WN.Body,{children:(0,Fe.jsx)(aC,{children:(0,Fe.jsxs)(aC.Group,{children:[(0,Fe.jsxs)(aC.Label,{className:"fw-bold",children:[(0,Fe.jsx)("i",{className:"bi bi-search me-2"}),"Buscar en preguntas frecuentes"]}),(0,Fe.jsx)(aC.Control,{type:"text",placeholder:"Escribe tu pregunta aqu\xed...",value:e,onChange:e=>{n(e.target.value)}})]})})})}),(0,Fe.jsxs)("section",{className:"mb-5",children:[(0,Fe.jsxs)("h2",{className:"h4 fw-bold mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-question-circle-fill me-2"}),"Preguntas Frecuentes"]}),s.length>0?(0,Fe.jsx)(yk,{children:s.map((e,t)=>(0,Fe.jsxs)(yk.Item,{eventKey:t.toString(),children:[(0,Fe.jsx)(yk.Header,{children:(0,Fe.jsx)("strong",{children:e.pregunta})}),(0,Fe.jsx)(yk.Body,{children:(0,Fe.jsx)("p",{className:"mb-0",children:e.respuesta})})]},e.id))}):(0,Fe.jsxs)(mN,{variant:"info",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-2"}),"No se encontraron preguntas que coincidan con tu b\xfasqueda."]})]}),(0,Fe.jsxs)("section",{className:"mb-5",children:[(0,Fe.jsxs)("h2",{className:"h4 fw-bold mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-book me-2"}),"Gu\xedas R\xe1pidas"]}),(0,Fe.jsxs)(ZE,{className:"g-3",children:[(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsx)(WN,{className:"h-100 border-primary",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsx)("div",{className:"text-primary mb-2",children:(0,Fe.jsx)("i",{className:"bi bi-plus-circle",style:{fontSize:"2rem"}})}),(0,Fe.jsx)("h5",{className:"fw-bold",children:"Crear una Denuncia"}),(0,Fe.jsx)("p",{className:"text-muted small mb-3",children:"Aprende a reportar problemas de forma efectiva"}),(0,Fe.jsxs)("ol",{className:"small",children:[(0,Fe.jsx)("li",{children:"Inicia sesi\xf3n en tu cuenta"}),(0,Fe.jsx)("li",{children:'Haz clic en "Nueva Denuncia"'}),(0,Fe.jsx)("li",{children:"Completa el formulario con detalles"}),(0,Fe.jsx)("li",{children:"Selecciona la categor\xeda apropiada"}),(0,Fe.jsx)("li",{children:"Publica tu denuncia"})]}),(0,Fe.jsx)(ke,{to:"/denuncias/crear",className:"btn btn-outline-primary btn-sm",children:"Crear Denuncia"})]})})}),(0,Fe.jsx)(rN,{md:6,children:(0,Fe.jsx)(WN,{className:"h-100 border-success",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsx)("div",{className:"text-success mb-2",children:(0,Fe.jsx)("i",{className:"bi bi-heart",style:{fontSize:"2rem"}})}),(0,Fe.jsx)("h5",{className:"fw-bold",children:"Votar Denuncias"}),(0,Fe.jsx)("p",{className:"text-muted small mb-3",children:"Ayuda a priorizar las denuncias importantes"}),(0,Fe.jsxs)("ol",{className:"small",children:[(0,Fe.jsx)("li",{children:"Navega por las denuncias"}),(0,Fe.jsx)("li",{children:"Lee los detalles completos"}),(0,Fe.jsx)("li",{children:"Haz clic en el coraz\xf3n para votar"}),(0,Fe.jsx)("li",{children:"Comenta para aportar informaci\xf3n"}),(0,Fe.jsx)("li",{children:"Comparte denuncias importantes"})]}),(0,Fe.jsx)(ke,{to:"/denuncias",className:"btn btn-outline-success btn-sm",children:"Ver Denuncias"})]})})})]})]}),(0,Fe.jsx)("section",{children:(0,Fe.jsx)(WN,{className:"border-warning",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h3",{className:"h5 fw-bold mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-envelope me-2"}),"\xbfNo encontraste lo que buscabas?"]}),(0,Fe.jsx)("p",{className:"text-muted mb-3",children:"Si tu pregunta no est\xe1 en las FAQ, puedes contactarnos directamente."}),r?(0,Fe.jsxs)(mN,{variant:"warning",children:[(0,Fe.jsx)("h6",{className:"alert-heading fw-bold",children:"Informaci\xf3n de Contacto"}),(0,Fe.jsxs)("p",{className:"mb-2",children:[(0,Fe.jsx)("strong",{children:"Email:"})," soporte@denuncias.com"]}),(0,Fe.jsxs)("p",{className:"mb-2",children:[(0,Fe.jsx)("strong",{children:"Horario:"})," Lunes a Viernes, 9:00 AM - 6:00 PM"]}),(0,Fe.jsxs)("p",{className:"mb-0",children:[(0,Fe.jsx)("strong",{children:"Tiempo de respuesta:"})," 24-48 horas"]})]}):(0,Fe.jsxs)(hx,{variant:"warning",onClick:()=>i(!0),children:[(0,Fe.jsx)("i",{className:"bi bi-envelope me-2"}),"Contactar Soporte"]})]})})})]}),(0,Fe.jsxs)(rN,{lg:4,children:[(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-link-45deg me-2"}),"Enlaces R\xe1pidos"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,Fe.jsx)(ke,{to:"/denuncias",className:"text-decoration-none",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center p-2 rounded bg-light",children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle me-2 text-primary"}),(0,Fe.jsx)("span",{children:"Ver todas las denuncias"})]})}),(0,Fe.jsx)(ke,{to:"/ranking",className:"text-decoration-none",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center p-2 rounded bg-light",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy me-2 text-warning"}),(0,Fe.jsx)("span",{children:"Ranking de popularidad"})]})}),(0,Fe.jsx)(ke,{to:"/comunidad",className:"text-decoration-none",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center p-2 rounded bg-light",children:[(0,Fe.jsx)("i",{className:"bi bi-people me-2 text-success"}),(0,Fe.jsx)("span",{children:"Reglas de la comunidad"})]})}),(0,Fe.jsx)(ke,{to:"/login",className:"text-decoration-none",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center p-2 rounded bg-light",children:[(0,Fe.jsx)("i",{className:"bi bi-box-arrow-in-right me-2 text-info"}),(0,Fe.jsx)("span",{children:"Iniciar sesi\xf3n"})]})})]})]})}),(0,Fe.jsx)(WN,{className:"sidebar mb-4",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-graph-up me-2"}),"Estad\xedsticas de Ayuda"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,Fe.jsxs)("div",{className:"text-center p-2 bg-light rounded",children:[(0,Fe.jsx)("h4",{className:"fw-bold text-primary mb-1",children:fS.length}),(0,Fe.jsx)("small",{className:"text-muted",children:"Preguntas Frecuentes"})]}),(0,Fe.jsxs)("div",{className:"text-center p-2 bg-light rounded",children:[(0,Fe.jsx)("h4",{className:"fw-bold text-success mb-1",children:"98%"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Problemas Resueltos"})]}),(0,Fe.jsxs)("div",{className:"text-center p-2 bg-light rounded",children:[(0,Fe.jsx)("h4",{className:"fw-bold text-info mb-1",children:"24h"}),(0,Fe.jsx)("small",{className:"text-muted",children:"Tiempo de Respuesta"})]})]})]})}),(0,Fe.jsx)(WN,{className:"sidebar",children:(0,Fe.jsxs)(WN.Body,{children:[(0,Fe.jsxs)("h5",{className:"sidebar-title",children:[(0,Fe.jsx)("i",{className:"bi bi-file-text me-2"}),"Recursos Adicionales"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column gap-2 small",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check me-2 text-success"}),(0,Fe.jsx)("span",{children:"Pol\xedtica de Privacidad"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Fe.jsx)("i",{className:"bi bi-file-earmark-text me-2 text-primary"}),(0,Fe.jsx)("span",{children:"T\xe9rminos de Uso"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Fe.jsx)("i",{className:"bi bi-github me-2 text-dark"}),(0,Fe.jsx)("span",{children:"C\xf3digo Fuente"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Fe.jsx)("i",{className:"bi bi-chat-dots me-2 text-info"}),(0,Fe.jsx)("span",{children:"Foro de la Comunidad"})]})]})]})})]})]})]})})},xk=()=>{const e=ee(),[n,r]=(0,t.useState)({email:"",password:""}),[i,s]=(0,t.useState)(!1),[a,o]=(0,t.useState)(""),l=e=>{r(Re(Re({},n),{},{[e.target.name]:e.target.value})),a&&o("")};return(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsx)(Ye,{children:(0,Fe.jsx)(ZE,{className:"justify-content-center",children:(0,Fe.jsxs)(rN,{md:6,lg:5,children:[(0,Fe.jsx)(WN,{className:"shadow-custom",children:(0,Fe.jsxs)(WN.Body,{className:"p-5",children:[(0,Fe.jsxs)("div",{className:"text-center mb-4",children:[(0,Fe.jsx)("div",{className:"bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3",style:{width:"60px",height:"60px"},children:(0,Fe.jsx)("i",{className:"bi bi-shield-lock",style:{fontSize:"1.5rem"}})}),(0,Fe.jsx)("h2",{className:"fw-bold",children:"Iniciar Sesi\xf3n"}),(0,Fe.jsx)("p",{className:"text-muted",children:"Accede al sistema de denuncias an\xf3nimas"})]}),(0,Fe.jsx)(mN,{variant:"info",className:"mb-4",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle-fill me-2 mt-1"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h6",{className:"alert-heading fw-bold mb-2",children:"Autenticaci\xf3n"}),(0,Fe.jsx)("p",{className:"mb-2 small",children:"Usa tu email y contrase\xf1a para ingresar."}),(0,Fe.jsx)(hx,{variant:"outline-info",size:"sm",onClick:()=>{r({email:"",password:""})},children:"Limpiar formulario"})]})]})}),(0,Fe.jsxs)(aC,{onSubmit:t=>{t.preventDefault(),i||(s(!0),o(""),setTimeout(()=>{const t=Lg.login(n.email,n.password);t.success?e("/"):o(t.message),s(!1)},1e3))},children:[a&&(0,Fe.jsxs)(mN,{variant:"danger",className:"mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),a]}),(0,Fe.jsxs)(aC.Group,{className:"mb-3",children:[(0,Fe.jsxs)(aC.Label,{children:[(0,Fe.jsx)("i",{className:"bi bi-envelope me-2"}),"Email"]}),(0,Fe.jsx)(aC.Control,{type:"email",name:"email",value:n.email,onChange:l,placeholder:"tu@correo.com",required:!0,disabled:i})]}),(0,Fe.jsxs)(aC.Group,{className:"mb-4",children:[(0,Fe.jsxs)(aC.Label,{children:[(0,Fe.jsx)("i",{className:"bi bi-lock me-2"}),"Contrase\xf1a"]}),(0,Fe.jsx)(aC.Control,{type:"password",name:"password",value:n.password,onChange:l,placeholder:"Ingresa tu contrase\xf1a",required:!0,disabled:i})]}),(0,Fe.jsx)(hx,{type:"submit",className:"btn-primary-custom w-100 mb-3",disabled:i,children:i?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Iniciando sesi\xf3n..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-box-arrow-in-right me-2"}),"Iniciar Sesi\xf3n"]})})]}),(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("p",{className:"text-muted small mb-2",children:"\xbfNo tienes cuenta?"}),(0,Fe.jsxs)(ke,{to:"/register",className:"btn btn-outline-primary btn-sm",children:[(0,Fe.jsx)("i",{className:"bi bi-person-plus me-1"}),"Crear Cuenta"]})]})]})}),(0,Fe.jsx)(WN,{className:"mt-4 border-0 bg-transparent",children:(0,Fe.jsxs)(WN.Body,{className:"text-center",children:[(0,Fe.jsx)("h6",{className:"fw-bold mb-3",children:"\xbfPor qu\xe9 necesitas una cuenta?"}),(0,Fe.jsxs)(ZE,{className:"g-3",children:[(0,Fe.jsxs)(rN,{sm:4,children:[(0,Fe.jsx)("div",{className:"text-primary mb-2",children:(0,Fe.jsx)("i",{className:"bi bi-plus-circle",style:{fontSize:"1.5rem"}})}),(0,Fe.jsx)("small",{className:"text-muted",children:"Crear denuncias an\xf3nimas"})]}),(0,Fe.jsxs)(rN,{sm:4,children:[(0,Fe.jsx)("div",{className:"text-primary mb-2",children:(0,Fe.jsx)("i",{className:"bi bi-heart",style:{fontSize:"1.5rem"}})}),(0,Fe.jsx)("small",{className:"text-muted",children:"Votar denuncias importantes"})]}),(0,Fe.jsxs)(rN,{sm:4,children:[(0,Fe.jsx)("div",{className:"text-primary mb-2",children:(0,Fe.jsx)("i",{className:"bi bi-chat",style:{fontSize:"1.5rem"}})}),(0,Fe.jsx)("small",{className:"text-muted",children:"Participar en comentarios"})]})]}),(0,Fe.jsx)("div",{className:"mt-4",children:(0,Fe.jsxs)(ke,{to:"/",className:"btn btn-outline-secondary",children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Volver al inicio"]})})]})})]})})})})},wk=()=>{const e=ee(),[n,r]=(0,t.useState)({email:"",username:"",password:"",confirmPassword:""}),[i,s]=(0,t.useState)(!1),[a,o]=(0,t.useState)(""),l=e=>{r(Re(Re({},n),{},{[e.target.name]:e.target.value})),a&&o("")};return(0,Fe.jsx)("div",{className:"fade-in",children:(0,Fe.jsx)(Ye,{children:(0,Fe.jsx)(ZE,{className:"justify-content-center",children:(0,Fe.jsx)(rN,{md:6,lg:5,children:(0,Fe.jsx)(WN,{className:"shadow-custom",children:(0,Fe.jsxs)(WN.Body,{className:"p-5",children:[(0,Fe.jsx)("h2",{className:"fw-bold mb-4 text-center",children:"Crear Cuenta"}),a&&(0,Fe.jsx)(mN,{variant:"danger",children:a}),(0,Fe.jsxs)(aC,{onSubmit:async t=>{if(t.preventDefault(),i)return;if(n.password!==n.confirmPassword)return void o("Las contrase\xf1as no coinciden");if(!n.email||!n.username||!n.password)return void o("Completa todos los campos");s(!0);const r=await Lg.register(n.email,n.password,n.username);s(!1),r.success?e("/login"):o(r.message)},children:[(0,Fe.jsxs)(aC.Group,{className:"mb-3",children:[(0,Fe.jsx)(aC.Label,{children:"Email"}),(0,Fe.jsx)(aC.Control,{type:"email",name:"email",value:n.email,onChange:l,placeholder:"tu@correo.com",required:!0,disabled:i})]}),(0,Fe.jsxs)(aC.Group,{className:"mb-3",children:[(0,Fe.jsx)(aC.Label,{children:"Nombre de Usuario"}),(0,Fe.jsx)(aC.Control,{type:"text",name:"username",value:n.username,onChange:l,placeholder:"Tu nombre de usuario",required:!0,disabled:i})]}),(0,Fe.jsxs)(aC.Group,{className:"mb-3",children:[(0,Fe.jsx)(aC.Label,{children:"Contrase\xf1a"}),(0,Fe.jsx)(aC.Control,{type:"password",name:"password",value:n.password,onChange:l,placeholder:"Contrase\xf1a",required:!0,disabled:i})]}),(0,Fe.jsxs)(aC.Group,{className:"mb-4",children:[(0,Fe.jsx)(aC.Label,{children:"Confirmar Contrase\xf1a"}),(0,Fe.jsx)(aC.Control,{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:l,placeholder:"Repite la contrase\xf1a",required:!0,disabled:i})]}),(0,Fe.jsx)(hx,{type:"submit",className:"w-100",disabled:i,children:i?"Registrando...":"Crear Cuenta"})]}),(0,Fe.jsx)("div",{className:"mt-3 text-center",children:(0,Fe.jsxs)("p",{children:["\xbfYa tienes cuenta? ",(0,Fe.jsx)(ke,{to:"/login",children:"Inicia sesi\xf3n"})]})})]})})})})})})};const Ek=function(){const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{Lg.restoreSession()&&(n(!0),i(Lg.getCurrentUser())),a(!1);const e=e=>{n(e.isAuthenticated),i(e.user)};return Lg.addAuthListener(e),()=>{Lg.removeAuthListener(e)}},[]),s?(0,Fe.jsx)("div",{className:"loading-spinner",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Cargando..."})})}):(0,Fe.jsx)(Ne,{children:(0,Fe.jsxs)("div",{className:"App",children:[(0,Fe.jsx)(XE,{isAuthenticated:e,currentUser:r}),(0,Fe.jsx)("main",{className:"main-content",children:(0,Fe.jsx)(Ye,{fluid:"xl",children:(0,Fe.jsxs)(ve,{children:[(0,Fe.jsx)(pe,{path:"/",element:(0,Fe.jsx)(pS,{})}),(0,Fe.jsx)(pe,{path:"/denuncias",element:(0,Fe.jsx)(gC,{})}),(0,Fe.jsx)(pe,{path:"/denuncias/crear",element:e?(0,Fe.jsx)(vC,{}):(0,Fe.jsx)(xk,{})}),(0,Fe.jsx)(pe,{path:"/denuncias/:id",element:(0,Fe.jsx)(bC,{})}),(0,Fe.jsx)(pe,{path:"/ranking",element:(0,Fe.jsx)(xC,{})}),(0,Fe.jsx)(pe,{path:"/perfil",element:e?(0,Fe.jsx)(QC,{}):(0,Fe.jsx)(xk,{})}),(0,Fe.jsx)(pe,{path:"/comunidad",element:(0,Fe.jsx)(YC,{})}),(0,Fe.jsx)(pe,{path:"/soporte",element:(0,Fe.jsx)(bk,{})}),(0,Fe.jsx)(pe,{path:"/login",element:(0,Fe.jsx)(xk,{})}),(0,Fe.jsx)(pe,{path:"/register",element:(0,Fe.jsx)(wk,{})}),!1]})})}),(0,Fe.jsx)(iN,{})]})})};i.createRoot(document.getElementById("root")).render((0,Fe.jsx)(t.StrictMode,{children:(0,Fe.jsx)(Ek,{})}))})()})();
//# sourceMappingURL=main.37667fb6.js.map